在 Vim 中，`Ctrl+P`（插入模式下的自动补全）的搜索范围由 `complete` 选项控制（可通过 `:set complete?` 查看默认值）。以下是默认行为及常见配置：

---

### **1. 默认搜索范围（无插件时）**
在 **插入模式** 按下 `Ctrl+P`，Vim 会从以下位置查找补全建议（按优先级排序）：
| 来源                | 说明                                                                 |
|---------------------|----------------------------------------------------------------------|
| 当前缓冲区          | 当前打开的文件中的所有单词。                                        |
| 其他缓冲区          | 所有已加载的缓冲区（`:ls` 列出的文件）。                            |
| 包含的文件          | 通过 `#include` 引入的文件（如 C/C++ 头文件，需设置 `path` 选项）。 |
| 标签文件（tags）    | 若生成了 `tags` 文件（通过 `ctags`），会搜索其中的符号。            |
| 拼写建议            | 如果 `spell` 启用，会建议拼写纠正。                                 |
| 用户自定义补全      | 通过 `completefunc` 或 `omnifunc` 定义的补全（如 LSP 插件）。       |

---

### **2. 通过 `complete` 选项自定义范围**
在 `vimrc` 中修改 `complete` 选项可以调整搜索来源。例如：
```vim
" 仅从当前缓冲区和其他缓冲区补全（排除标签、包含文件等）
set complete=.,b
```
常用标志：
- `.`：当前缓冲区  
- `b`：其他缓冲区  
- `u`：未加载缓冲区  
- `t`：标签文件  
- `i`：包含的文件  
- `k`：字典（通过 `set dictionary` 指定）  

---

### **3. 插件扩展的搜索范围（如 ctrlp.vim / fzf）**
如果安装了 **模糊搜索插件**（如 `ctrlp.vim` 或 `fzf`），`Ctrl+P` 在普通模式下可能被映射为全局文件搜索，此时会搜索：
- 当前工作目录（可通过 `:pwd` 查看）下的所有文件。
- 支持过滤项目文件（如 `.gitignore` 排除的文件需插件配置）。

---

### **4. 检查你的实际配置**
- 确认补全来源：
  ```vim
  :set complete?
  ```
- 查看 `Ctrl+P` 是否被插件重映射：
  ```vim
  :verbose map <C-P>
  ```

---

### **总结**
- **无插件**：`Ctrl+P` 在插入模式下基于 `complete` 选项补全（缓冲区、标签等）。  
- **有插件**：可能变为文件搜索工具（如 `ctrlp.vim` 会搜索项目文件）。  
- 精确控制需结合 `complete` 选项或插件文档。
