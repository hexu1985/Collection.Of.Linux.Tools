/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /gh/BNDong/Cnblogs-Theme-SimpleMemory@81410deb9d6577d9244e842999ed2a407d433868/js/jquery.optiscroll.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t,n,l){"use strict";"function"==typeof e.CustomEvent||function(e){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:l};var o=t.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o}n.prototype=e.Event.prototype,e.CustomEvent=n}(e),e.requestAnimationFrame||function(e){var t=0;e.requestAnimationFrame=function(e){var l=Date.now(),o=n.max(t+16,l);return setTimeout(function(){e(t=o)},o-l)},e.cancelAnimationFrame=clearTimeout}(e);var o=function e(t,n){return new e.Instance(t,n||{})},r=o.globalSettings={scrollMinUpdateInterval:25,checkFrequency:1e3,pauseCheck:!1};o.defaults={preventParentScroll:!1,forceScrollbars:!1,scrollStopDelay:300,maxTrackSize:95,minTrackSize:5,draggableTracks:!0,autoUpdate:!0,classPrefix:"optiscroll-"},(o.Instance=function(e,t){this.element=e,this.settings=v(v({},o.defaults),t||{}),this.cache={},this.init()}).prototype={init:function(){var e=this,t=e.settings,n=!1;e.scrollEl=p.createWrapper(e.element,t.classPrefix+"content"),m(e.element,"is-enabled",!0),e.scrollbars={v:h("v",e),h:h("h",e)},(d.nativeScrollbarSize||t.forceScrollbars)&&(n=p.hideNativeScrollbars(e.scrollEl)),n&&g(e.scrollbars,"create"),d.isTouch&&t.preventParentScroll&&m(e.element,t.classPrefix+"prevent",!0),e.update(),e.bind(),t.autoUpdate&&d.instances.push(e),t.autoUpdate&&!d.checkTimer&&p.checkLoop()},bind:function(){var e,t,n,l,o=this,c=o.listeners={},i=o.scrollEl;for(var s in c.scroll=(e=function(e){u.scroll(e,o)},t=r.scrollMinUpdateInterval,function(){var o=this,r=Date.now(),c=arguments;n&&r<n+t?(clearTimeout(l),l=setTimeout(function(){n=r,e.apply(o,c)},t)):(n=r,e.apply(o,c))}),d.isTouch&&(c.touchstart=function(e){u.touchstart(e,o)},c.touchend=function(e){u.touchend(e,o)}),c.mousewheel=c.wheel=function(e){u.wheel(e,o)},c)i.addEventListener(s,c[s])},update:function(){var e=this,n=e.cache.clientH,o=e.scrollEl,r=e.cache,c=o.scrollHeight,i=o.clientHeight,s=o.scrollWidth,a=o.clientWidth;if(c!==r.scrollH||i!==r.clientH||s!==r.scrollW||a!==r.clientW){if(r.scrollH=c,r.clientH=i,r.scrollW=s,r.clientW=a,n!==l){if(0===c&&0===i&&!p.containsNode(t.body,e.element))return e.destroy(),!1;e.fireCustomEvent("sizechange")}g(e.scrollbars,"update")}},scrollTo:function(e,t,n){var l,o,r,c,i=this,s=i.cache;d.pauseCheck=!0,i.update(),l=i.scrollEl.scrollLeft,o=i.scrollEl.scrollTop,r=+e,"left"===e&&(r=0),"right"===e&&(r=s.scrollW-s.clientW),!1===e&&(r=l),c=+t,"top"===t&&(c=0),"bottom"===t&&(c=s.scrollH-s.clientH),!1===t&&(c=o),i.animateScroll(l,r,o,c,+n)},scrollIntoView:function(e,t,n){var l,o,r,c,i,s,a,u,h,p,f,m,v=this,g=v.scrollEl;d.pauseCheck=!0,v.update(),"string"==typeof e?e=g.querySelector(e):e.length&&e.jquery&&(e=e[0]),"number"==typeof n&&(n={top:n,right:n,bottom:n,left:n}),n=n||{},l=e.getBoundingClientRect(),o=g.getBoundingClientRect(),h=f=g.scrollLeft,p=m=g.scrollTop,a=h+l.left-o.left,u=p+l.top-o.top,r=a-(n.left||0),c=u-(n.top||0),r<h&&(f=r),(i=a+l.width-v.cache.clientW+(n.right||0))>h&&(f=i),c<p&&(m=c),(s=u+l.height-v.cache.clientH+(n.bottom||0))>p&&(m=s),v.animateScroll(h,f,p,m,+t)},animateScroll:function(t,l,o,r,c){var i=this,s=i.scrollEl,a=Date.now();if(l!==t||r!==o){if(0===c)return s.scrollLeft=l,void(s.scrollTop=r);isNaN(c)&&(c=15*n.pow(n.max(n.abs(l-t),n.abs(r-o)),.54)),function u(){var h=n.min(1,(Date.now()-a)/c),d=p.easingFunction(h);r!==o&&(s.scrollTop=~~(d*(r-o))+o),l!==t&&(s.scrollLeft=~~(d*(l-t))+t),i.scrollAnimation=h<1?e.requestAnimationFrame(u):null}()}},destroy:function(){var t,n=this,l=n.element,o=n.scrollEl,r=n.listeners,c=d.instances.indexOf(n);if(n.scrollEl){for(var i in r)o.removeEventListener(i,r[i]);for(g(n.scrollbars,"remove");t=o.childNodes[0];)l.insertBefore(t,o);l.removeChild(o),n.scrollEl=null,m(l,n.settings.classPrefix+"prevent",!1),m(l,"is-enabled",!1),c>-1&&e.requestAnimationFrame(function(){d.instances.splice(c,1)})}},fireCustomEvent:function(e){var t,n=this.cache,l=n.scrollH,o=n.scrollW;t={scrollbarV:v({},n.v),scrollbarH:v({},n.h),scrollTop:n.v.position*l,scrollLeft:n.h.position*o,scrollBottom:(1-n.v.position-n.v.size)*l,scrollRight:(1-n.h.position-n.h.size)*o,scrollWidth:o,scrollHeight:l,clientWidth:n.clientW,clientHeight:n.clientH},this.element.dispatchEvent(new CustomEvent(e,{detail:t}))}};var c,i,s,a,u={scroll:function(e,t){d.pauseCheck||t.fireCustomEvent("scrollstart"),d.pauseCheck=!0,t.scrollbars.v.update(),t.scrollbars.h.update(),t.fireCustomEvent("scroll"),clearTimeout(t.cache.timerStop),t.cache.timerStop=setTimeout(function(){u.scrollStop(t)},t.settings.scrollStopDelay)},touchstart:function(e,t){d.pauseCheck=!1,t.scrollbars.v.update(),t.scrollbars.h.update(),u.wheel(e,t)},touchend:function(e,t){clearTimeout(t.cache.timerStop)},scrollStop:function(e){e.fireCustomEvent("scrollstop"),d.pauseCheck=!1},wheel:function(t,n){var l=n.cache,o=l.v,r=l.h,c=n.settings.preventParentScroll;e.cancelAnimationFrame(n.scrollAnimation),c&&o.enabled&&o.percent%100==0&&(n.scrollEl.scrollTop=o.percent?l.scrollH-l.clientH-1:1),c&&r.enabled&&r.percent%100==0&&(n.scrollEl.scrollLeft=r.percent?l.scrollW-l.clientW-1:1)}},h=function(e,l){var o="v"===e,r=l.element,c=l.scrollEl,i=l.settings,s=l.cache,a=s[e]={},u=o?"H":"W",h="client"+u,p="scroll"+u,f=o?"scrollTop":"scrollLeft",g=o?["top","bottom"]:["left","right"],b=!1,E=null,y=null,C={dragData:null,dragStart:function(e){var t=e.touches?e.touches[0]:e;C.dragData={x:t.pageX,y:t.pageY,scroll:c[f]},C.bind(!0)},dragMove:function(e){var t,n=e.touches?e.touches[0]:e;e.preventDefault(),t=(o?n.pageY-C.dragData.y:n.pageX-C.dragData.x)/s[h],c[f]=C.dragData.scroll+t*s[p]},dragEnd:function(){C.dragData=null,C.bind(!1)},bind:function(e){var n=(e?"add":"remove")+"EventListener",l=d.isTouch?["touchmove","touchend"]:["mousemove","mouseup"];t[n](l[0],C.dragMove),t[n](l[1],C.dragEnd)}};return{toggle:function(t){b=t,y&&m(r,"has-"+e+"track",b),a.enabled=b},create:function(){var n=d.isTouch?"touchstart":"mousedown";E=t.createElement("div"),y=t.createElement("b"),E.className=i.classPrefix+e,y.className=i.classPrefix+e+"track",E.appendChild(y),r.appendChild(E),i.draggableTracks&&y.addEventListener(n,C.dragStart)},update:function(){var e,t,l,o,r;(b||s[h]!==s[p])&&(e=(l=this.calc()).size,t=a.size,o=1/e*l.position*100,r=n.abs(l.position-(a.position||0))*s[h],1===e&&b&&this.toggle(!1),e<1&&!b&&this.toggle(!0),y&&b&&this.style(o,r,e,t),a=v(a,l),b&&this.fireEdgeEv())},style:function(e,t,n,l){n!==l&&(y.style[o?"height":"width"]=100*n+"%"),y.style[d.cssTransform]="translate("+(o?"0%,"+e+"%":e+"%,0%")+")"},calc:function(){var e,t=c[f],l=s[h],o=s[p],r=l/o,a=o-l;return r>=1||!o?{position:0,size:1,percent:0}:(e=100*t/a,t<=1&&(e=0),t>=a-1&&(e=100),r=n.max(r,i.minTrackSize/100),{position:e/100*(1-(r=n.min(r,i.maxTrackSize/100))),size:r,percent:e})},fireEdgeEv:function(){var e=a.percent;a.was!==e&&e%100==0&&(l.fireCustomEvent("scrollreachedge"),l.fireCustomEvent("scrollreach"+g[e/100])),a.was=e},remove:function(){this.toggle(!1),E&&(E.parentNode.removeChild(E),E=null)}}},p={hideNativeScrollbars:function(e){var t=d.nativeScrollbarSize,n=e.style;if(0===t){var l=Date.now();return e.setAttribute("data-scroll",l),p.addCssRule('[data-scroll="'+l+'"]::-webkit-scrollbar',"display:none;width:0;height:0;")}return n.right=-t+"px",n.bottom=-t+"px",!0},addCssRule:function(e,n){var l=t.getElementById("scroll-sheet");l||((l=t.createElement("style")).id="scroll-sheet",l.appendChild(t.createTextNode("")),t.head.appendChild(l));try{return l.sheet.insertRule(e+" {"+n+"}",0),!0}catch(e){return}},createWrapper:function(e,n){for(var l,o=t.createElement("div");l=e.childNodes[0];)o.appendChild(l);return o.className=n,e.appendChild(o)},containsNode:function(e,t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))},checkLoop:function(){d.instances.length?(d.pauseCheck||g(d.instances,"update"),r.checkFrequency&&(d.checkTimer=setTimeout(function(){p.checkLoop()},r.checkFrequency))):d.checkTimer=null},easingFunction:function(e){return--e*e*e+1}},d=o.G={isTouch:"ontouchstart"in e,cssTransition:f("transition"),cssTransform:f("transform")||"",nativeScrollbarSize:(s=t.documentElement,a=0,(c=t.createElement("div")).style.cssText="overflow:scroll;width:50px;height:50px;position:absolute;left:-100px",(i=t.createElement("div")).style.cssText="width:100px;height:100px",c.appendChild(i),s.appendChild(c),a=c.offsetWidth-c.clientWidth,s.removeChild(c),a),instances:[],checkTimer:null,pauseCheck:!1};function f(e){var n=e.charAt(0).toUpperCase()+e.slice(1),o=t.createElement("test"),r=(e+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ");for(var c in r)if(o.style[r[c]]!==l)return r[c];return!1}function m(e,t,n){var l=e.className.split(/\s+/),o=l.indexOf(t);n?~o||l.push(t):~o&&l.splice(o,1),e.className=l.join(" ")}function v(e,t,n){for(var o in t)!t.hasOwnProperty(o)||e[o]!==l&&n||(e[o]=t[o]);return e}function g(e,t,n){var l,o;if(e.length)for(l=0,o=e.length;l<o;l++)e[l][t].apply(e[l],n);else for(l in e)e[l][t].apply(e[l],n)}"function"==typeof define&&define.amd&&define(function(){return o}),"undefined"!=typeof module&&module.exports&&(module.exports=o),e.Optiscroll=o}(window,document,Math),function(e){e.fn.optiscroll=function(t){var n,l;return"string"==typeof t&&(l=Array.prototype.slice.call(arguments),n=l.shift()),this.each(function(){var o=e(this),r=o.data("optiscroll");r?r&&"string"==typeof n&&(r[n].apply(r,l),"destroy"===n&&o.removeData("optiscroll")):(r=new window.Optiscroll(this,t||{}),o.data("optiscroll",r))})}}(jQuery||Zepto);
//# sourceMappingURL=/sm/0f2adcf597925280b29876d87994c5cb28fb3438a50f796c88e228df238f0d64.map