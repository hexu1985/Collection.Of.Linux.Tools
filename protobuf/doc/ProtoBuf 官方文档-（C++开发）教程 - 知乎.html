<!DOCTYPE html>
<!-- saved from url=(0038)https://zhuanlan.zhihu.com/p/420648886 -->
<html lang="zh" data-hairline="true" class="itcauecng" data-theme="light" data-rh="data-theme"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>ProtoBuf 官方文档-（C++开发）教程 - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=10,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><meta data-rh="true" name="keywords" content="protobuf,C++"><meta data-rh="true" name="description" content="定义你的 protocol 格式 要创建地址簿应用程序，你需要从 .proto 文件开始。.proto 文件中的定义很简单：为要序列化的每个数据结构添加 message 定义，然后为 message 中的每个字段指定名称和类型。下面就是定义相…"><meta data-rh="true" property="og:title" content="ProtoBuf 官方文档-（C++开发）教程"><meta data-rh="true" property="og:url" content="https://zhuanlan.zhihu.com/p/420648886"><meta data-rh="true" property="og:description" content="定义你的 protocol 格式 要创建地址簿应用程序，你需要从 .proto 文件开始。.proto 文件中的定义很简单：为要序列化的每个数据结构添加 message 定义，然后为 message 中的每个字段指定名称和类型。下面就是定义相…"><meta data-rh="true" property="og:image" content=""><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="og:site_name" content="知乎专栏"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png" sizes="152x152"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.d5793cac.png" sizes="120x120"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.7abf3393.png" sizes="76x76"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.362a8eac.png" sizes="60x60"><link crossorigin="" rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/heifetz/favicon.ico"><link crossorigin="" rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/heifetz/search.xml" title="知乎"><link rel="dns-prefetch" href="https://static.zhimg.com/"><link rel="dns-prefetch" href="https://pica.zhimg.com/"><link rel="dns-prefetch" href="https://pic1.zhimg.com/"><link rel="dns-prefetch" href="https://pic2.zhimg.com/"><link rel="dns-prefetch" href="https://pic3.zhimg.com/"><link rel="dns-prefetch" href="https://pic4.zhimg.com/"><link rel="dns-prefetch" href="https://static.zhihu.com/"><script nonce="" data-web-reporter-config="{&quot;platform&quot;:&quot;web&quot;,&quot;project&quot;:&quot;heifetz&quot;}">!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).webReporter={})}(this,function(e){"use strict";var t={},n=!1,o=function(){var e,o,r,a,i;return n||(e=document.querySelector("script[data-web-reporter-config]"),o=e&&e.dataset.webReporterConfig||"{}",r=JSON.parse(o),a=r.platform,i=r.project,t={platform:a,project:i},n=!0),t};function r(e){return a(function(){return localStorage.getItem(e)})()}function a(e){return function(){try{return e.apply(void 0,arguments)}catch(e){}}}var i=a(function(e,t){var n={platform:"web",project:o().project,clientTimestamp:+new Date};!function(e,t,n){"1"===r("weber:logenabled")&&console.log("[web-reporter]%o",{type:e,base:t,data:n})}(e,n,t),function(e,t){var n=btoa(JSON.stringify(t));if("undefined"!=typeof Blob&&window.navigator&&window.navigator.sendBeacon){var o=new Blob([n],{type:"text/plain"});navigator.sendBeacon(e,o)}else{var r=new XMLHttpRequest;r.open("POST",e),r.withCredentials=!1,r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(n)}}(r("weber:api")||"https://apm.zhihu.com/collector/web_json",{type:e,base:n,data:t})});e.report=i,Object.defineProperty(e,"__esModule",{value:!0})});
</script><link href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/5459.216a26f4.ae3f916f2bf048ca377d.css" crossorigin="" rel="stylesheet"><link href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/column.216a26f4.f32f3564fcccdb253e7d.css" crossorigin="" rel="stylesheet"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/user-hover-card.216a26f4.7f1de7c441470974ce17.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/Labels.216a26f4.81c9ce8725560c5bcc6a.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/GoodsRecommendGoodsCardList.216a26f4.d95ce79191cdf8d7ac28.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/3757.216a26f4.bf8d6607cd19b4dd1bab.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/ECommerceAd.216a26f4.9fa9535cc2efe2b3edb4.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/5242.216a26f4.d85c1258a9cf7ea8720a.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/EditableV2.216a26f4.86147906b330fd7351a9.css" crossorigin="anonymous"><script nonce="">!function(){"use strict";!function(e,n){var r=[];function t(e){return function(){r.push([e,arguments])}}n.Raven={captureException:t("captureException"),captureMessage:t("captureMessage"),captureBreadcrumb:t("captureBreadcrumb")};var a,o,c,i,s,u="undefined"!=typeof DOMError;function d(e){var n=e instanceof Error||e instanceof ErrorEvent||u&&e instanceof DOMError||e instanceof DOMException;Raven.captureException(n?e:new Error(e.message||e.reason))}n.addEventListener("unhandledrejection",d),n.addEventListener("error",d,!0),a=e.src,o=e,c=function(){r.forEach(function(e){var n;(n=Raven)[e[0]].apply(n,e[1])}),n.removeEventListener("unhandledrejection",d),n.removeEventListener("error",d,!0)},i=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("script")).crossOrigin=o.crossOrigin,s.dataset.sentryConfig=o["data-sentry-config"],s.onload=c,s.src=a,i.appendChild(s)}({"defer":true,"crossOrigin":"anonymous","src":"https://unpkg.zhimg.com/@cfe/sentry-script@1.3.1/dist/init.js","data-sentry-config":"{\"dsn\":\"https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224\",\"sampleRate\":0.1,\"release\":\"721-49f562a5\",\"ignoreErrorNames\":[\"NetworkError\",\"SecurityError\"],\"ignoreErrorsPreset\":\"ReactApp\",\"tags\":{\"app_name\":\"heifetz\"}}"},window)}();
</script><script crossorigin="anonymous" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;721-49f562a5&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrorsPreset&quot;:&quot;ReactApp&quot;,&quot;tags&quot;:{&quot;app_name&quot;:&quot;heifetz&quot;}}" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/init.js"></script><style data-emotion-css="uzm3ri">.css-uzm3ri{position:fixed;top:0;right:0;left:0;z-index:101;display:none;height:2px;pointer-events:none;background:#056DE8;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}</style><style data-emotion-css="1l12z7y">.css-1l12z7y{box-shadow:0px 16px 32px rgba(0,0,0,0.04);}</style><style data-emotion-css="1hlrcxk">.css-1hlrcxk{-webkit-transition-property:fill;transition-property:fill;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;}</style><style data-emotion-css="icip60">.css-icip60{border-radius:2px;}</style><style data-emotion-css="1tzrnvf">.css-1tzrnvf{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#FFFFFF;width:30px;height:30px;border-radius:2px;}</style><style data-emotion-css="uodor8">.css-uodor8{border-radius:50%;}</style><style data-emotion-css="1y9jkzv">.css-1y9jkzv{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#FFFFFF;width:38px;height:38px;border-radius:50%;}</style><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="1yuhvjn">.css-1yuhvjn{margin-top:16px;}</style><style data-emotion-css="376mun">.css-376mun{position:relative;display:inline;}</style><style data-emotion-css="1hhle02">.css-1hhle02 .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-1hhle02 .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-1hhle02 .FileLinkCard-info{margin-left:12px;}.css-1hhle02 .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1hhle02 .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-1hhle02 .FileLinkCard-source{white-space:pre;}.css-1hhle02 img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}</style><style data-emotion-css="1wr1m8">.css-1wr1m8 .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1wr1m8 .LinkCard.new,.css-1wr1m8 .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1wr1m8 .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1wr1m8 .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1wr1m8 .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1wr1m8 .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1wr1m8 .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1wr1m8 .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1wr1m8 .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1wr1m8 .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1wr1m8 .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1wr1m8 .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1wr1m8 .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1wr1m8 .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1wr1m8 .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1wr1m8 .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1wr1m8 .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1wr1m8 .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1wr1m8 .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1wr1m8 .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1wr1m8 .LinkCard.old,.css-1wr1m8 .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1wr1m8 .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1wr1m8 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}</style><style data-emotion-css="1dnyyvy">.css-1dnyyvy .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1dnyyvy .LinkCard.old,.css-1dnyyvy .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1dnyyvy .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1dnyyvy .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1dnyyvy .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1dnyyvy .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1dnyyvy .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1dnyyvy .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1dnyyvy .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-1dnyyvy .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1dnyyvy .LinkCard.new,.css-1dnyyvy .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1dnyyvy .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1dnyyvy .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1dnyyvy .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1dnyyvy .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1dnyyvy .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1dnyyvy .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1dnyyvy .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1dnyyvy .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1dnyyvy .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1dnyyvy .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1dnyyvy .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1dnyyvy .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1dnyyvy .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1dnyyvy .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1dnyyvy .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1dnyyvy .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1dnyyvy .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1dnyyvy .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1dnyyvy .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1dnyyvy .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1dnyyvy .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1dnyyvy .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1dnyyvy .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1dnyyvy .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1dnyyvy .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-1dnyyvy .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-1dnyyvy .FileLinkCard-info{margin-left:12px;}.css-1dnyyvy .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1dnyyvy .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-1dnyyvy .FileLinkCard-source{white-space:pre;}.css-1dnyyvy img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}</style><style data-emotion-css="1g0fqss animation-1yvu044">.css-1g0fqss{word-break:break-word;line-height:1.6;}.css-1g0fqss > [data-first-child]{margin-top:0;}.css-1g0fqss > :last-child{margin-bottom:0;}.css-1g0fqss h1,.css-1g0fqss h2{clear:left;margin-top:calc((1.4em * 2) / 1.2);margin-bottom:calc(1.4em / 1.2);font-size:1.2em;line-height:1.5;font-weight:600;}.css-1g0fqss h3,.css-1g0fqss h4,.css-1g0fqss h5,.css-1g0fqss h6{clear:left;margin-top:calc((1.4em * 1.5) / 1.1);margin-bottom:calc(1.4em / 1.1);font-size:1.1em;line-height:1.5;font-weight:600;}.css-1g0fqss u{-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid #444444;}.css-1g0fqss b{font-weight:600;}.css-1g0fqss sup{font-size:0.8em;}.css-1g0fqss sup[data-draft-type='reference']{color:#175199;}.css-1g0fqss a:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}html[data-focus-visible] .css-1g0fqss a:focus{box-shadow:0 0 0 2px #FFFFFF,0 0 0 4px rgba(5,109,232,0.3);}.css-1g0fqss a.ztext-link,.css-1g0fqss a.internal,.css-1g0fqss a.external{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;border-bottom:1px solid #808080;}.css-1g0fqss a.ztext-link:hover,.css-1g0fqss a.internal:hover,.css-1g0fqss a.external:hover{color:#175199;border-bottom:1px solid #175199;}.css-1g0fqss a.ztext-link > .ellipsis::after,.css-1g0fqss a.internal > .ellipsis::after,.css-1g0fqss a.external > .ellipsis::after{content:'...';}.css-1g0fqss a.ztext-link > .invisible,.css-1g0fqss a.internal > .invisible,.css-1g0fqss a.external > .invisible{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;}.css-1g0fqss a.ztext-link u,.css-1g0fqss a.internal u,.css-1g0fqss a.external u{border:none;}.css-1g0fqss a.member_mention{color:#175199;}.css-1g0fqss a.member_mention:hover{border-bottom:1px solid #175199;}.css-1g0fqss a.UserLink-link{color:#175199;}.css-1g0fqss a.UserLink-link:hover{border-bottom:1px solid #175199;}.css-1g0fqss p{margin:1.4em 0;}.css-1g0fqss p.ztext-empty-paragraph{margin:calc((2.8em- (1.4em * 2 + 1.6em)) / 2) 0;}.css-1g0fqss p.ztext-empty-paragraph + .ztext-empty-paragraph{margin:1.4em 0;}.css-1g0fqss hr{margin:4em auto;width:240px;max-width:100%;border:none;border-top:1px solid #D3D3D3;}.css-1g0fqss img[eeimg]{max-width:100%;vertical-align:middle;}.css-1g0fqss img[eeimg="1"]{margin:0 3px;max-width:calc(100% - 6px);display:inline-block;}.css-1g0fqss img[eeimg="2"]{margin:1.4em auto;display:block;}.css-1g0fqss blockquote{margin:1.4em 0;padding-left:1em;color:#646464;border-left:3px solid #D3D3D3;}.css-1g0fqss ol,.css-1g0fqss ul{margin:1.4em 0;padding:0;width:100%;}.css-1g0fqss ol ol,.css-1g0fqss ul ol,.css-1g0fqss ol ul,.css-1g0fqss ul ul{margin:0;}.css-1g0fqss ol li::before,.css-1g0fqss ul li::before{width:1em;}.css-1g0fqss ol > ol,.css-1g0fqss ul > ol,.css-1g0fqss ol > ul,.css-1g0fqss ul > ul{display:table-row;}.css-1g0fqss ol > ol::before,.css-1g0fqss ul > ol::before,.css-1g0fqss ol > ul::before,.css-1g0fqss ul > ul::before{display:table-cell;content:'';}.css-1g0fqss ul{display:table;}.css-1g0fqss ul>li{display:table-row;list-style:none;}.css-1g0fqss ul>li::before{display:table-cell;content:'•  ';white-space:pre;}.css-1g0fqss ol{display:table;counter-reset:ol;}.css-1g0fqss ol > li{display:table-row;list-style:none;}.css-1g0fqss ol > li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol) '. ';white-space:pre;}.css-1g0fqss ol ol{counter-reset:ol2;}.css-1g0fqss ol ol li::before{counter-increment:ol2;content:counter(ol2) '. ';}.css-1g0fqss ol ol ol{counter-reset:ol3;}.css-1g0fqss ol ol ol li::before{counter-increment:ol3;content:counter(ol3) '. ';}.css-1g0fqss ol ol ol ol{counter-reset:ol4;}.css-1g0fqss ol ol ol ol li::before{counter-increment:ol4;content:counter(ol4) '. ';}.css-1g0fqss figure{margin:1.4em 0;}.css-1g0fqss figure .content_image,.css-1g0fqss figure .origin_image{margin:0 auto;}.css-1g0fqss figure figcaption{margin-top:calc(0.6em / 0.9);padding:0 1em;font-size:0.9em;line-height:1.5;text-align:center;color:#999999;}.css-1g0fqss figure + figure{margin-top:calc(1.4em * 1.6);}.css-1g0fqss figure[data-size='small'],.css-1g0fqss figure:not([data-size]) > [data-size='small']{clear:both;}.css-1g0fqss figure[data-size='left'],.css-1g0fqss figure:not([data-size]) > [data-size='left']{float:left;margin:0 20px 20px 0;max-width:33%;}.css-1g0fqss figure[data-size='right'],.css-1g0fqss figure:not([data-size]) > [data-size='right']{float:right;margin:0 0 20px 20px;max-width:33%;}.css-1g0fqss figure[data-size='collapse']{margin-bottom:0;}.css-1g0fqss figure[data-size='collapse'] + figure{margin-top:0;}.css-1g0fqss .content_image,.css-1g0fqss .origin_image{display:block;max-width:100%;height:auto;margin:1.4em auto;}.css-1g0fqss .content_image[data-size='small'],.css-1g0fqss .origin_image[data-size='small']{max-width:40%;}.css-1g0fqss .content_image.zh-lightbox-thumb,.css-1g0fqss .origin_image.zh-lightbox-thumb{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}.css-1g0fqss code{margin:0 2px;padding:3px 4px;border-radius:3px;font-family:Menlo,Monaco,Consolas,'Andale Mono','lucida console','Courier New',monospace;font-size:0.9em;background-color:#F6F6F6;}.css-1g0fqss pre{margin:1.4em 0;padding:calc(0.8em / 0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#F6F6F6;border-radius:4px;}.css-1g0fqss pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit;}.css-1g0fqss li pre{white-space:pre-wrap;}.css-1g0fqss table[data-draft-type='table']{border-collapse:collapse;font-size:15px;margin:1.4em auto;max-width:100%;table-layout:fixed;text-align:left;width:100%;}.css-1g0fqss table[data-draft-type='table'][data-size='small']{min-width:260px;width:40%;}.css-1g0fqss table[data-draft-type='table'][data-row-style='striped'] tr:nth-of-type(2n + 1){background:#F6F6F6;}.css-1g0fqss table[data-draft-type='table'] td,.css-1g0fqss table[data-draft-type='table'] th{border:1px solid #D3D3D3;line-height:24px;height:24px;padding:3px 12px;}.css-1g0fqss table[data-draft-type='table'] th{background:#EBEBEB;color:#121212;font-weight:500;}.css-1g0fqss .video-box,.css-1g0fqss .link-box{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:1.4em 0;overflow:auto;white-space:normal;cursor:pointer;border:solid 1px #EBEBEB;border-radius:4px;}.css-1g0fqss .lazy[data-lazy-status]{background-color:#F6F6F6;}.css-1g0fqss .lazy[data-lazy-status="ok"]{background-color:transparent;-webkit-animation:animation-1yvu044 0.5s ease-in;animation:animation-1yvu044 0.5s ease-in;}.css-1g0fqss .highlight{margin:1em 0;}.css-1g0fqss .highlight pre{margin:0;}.css-1g0fqss .highlight .hll{background-color:#FDFDFD;}.css-1g0fqss .highlight .c{font-style:italic;color:#999999;}.css-1g0fqss .highlight .err{color:#F1403C;}.css-1g0fqss .highlight .k{font-weight:600;}.css-1g0fqss .highlight .o{font-weight:600;}.css-1g0fqss .highlight .cm{font-style:italic;color:#999999;}.css-1g0fqss .highlight .cp{font-weight:600;color:#999999;}.css-1g0fqss .highlight .c1{font-style:italic;color:#999999;}.css-1g0fqss .highlight .cs{font-style:italic;font-weight:600;color:#999999;}.css-1g0fqss .highlight .gd{color:#FF3366;}.css-1g0fqss .highlight .ge{font-style:italic;}.css-1g0fqss .highlight .gr{color:#F1403C;}.css-1g0fqss .highlight .gh{color:#999999;}.css-1g0fqss .highlight .gi{color:#12b370;}.css-1g0fqss .highlight .go{color:#808080;}.css-1g0fqss .highlight .gp{color:#646464;}.css-1g0fqss .highlight .gs{font-weight:600;}.css-1g0fqss .highlight .gu{color:#999999;}.css-1g0fqss .highlight .gt{color:#F1403C;}.css-1g0fqss .highlight .kc{font-weight:600;}.css-1g0fqss .highlight .kd{font-weight:600;}.css-1g0fqss .highlight .kn{font-weight:600;}.css-1g0fqss .highlight .kp{font-weight:600;}.css-1g0fqss .highlight .kr{font-weight:600;}.css-1g0fqss .highlight .kt{font-weight:600;color:#175199;}.css-1g0fqss .highlight .m{color:#056DE8;}.css-1g0fqss .highlight .s{color:#F1403C;}.css-1g0fqss .highlight .na{color:#056DE8;}.css-1g0fqss .highlight .nb{color:#056DE8;}.css-1g0fqss .highlight .nc{font-weight:600;color:#175199;}.css-1g0fqss .highlight .no{color:#056DE8;}.css-1g0fqss .highlight .ni{color:#5555DD;}.css-1g0fqss .highlight .ne{font-weight:600;color:#F1403C;}.css-1g0fqss .highlight .nf{font-weight:600;color:#F1403C;}.css-1g0fqss .highlight .nn{color:#646464;}.css-1g0fqss .highlight .nt{color:#175199;}.css-1g0fqss .highlight .nv{color:#056DE8;}.css-1g0fqss .highlight .ow{font-weight:600;}.css-1g0fqss .highlight .w{color:#BFBFBF;}.css-1g0fqss .highlight .mf{color:#056DE8;}.css-1g0fqss .highlight .mh{color:#056DE8;}.css-1g0fqss .highlight .mi{color:#056DE8;}.css-1g0fqss .highlight .mo{color:#056DE8;}.css-1g0fqss .highlight .sb{color:#F1403C;}.css-1g0fqss .highlight .sc{color:#F1403C;}.css-1g0fqss .highlight .sd{color:#F1403C;}.css-1g0fqss .highlight .s2{color:#F1403C;}.css-1g0fqss .highlight .se{color:#F1403C;}.css-1g0fqss .highlight .sh{color:#F1403C;}.css-1g0fqss .highlight .si{color:#F1403C;}.css-1g0fqss .highlight .sx{color:#F1403C;}.css-1g0fqss .highlight .sr{color:#A5542F;}.css-1g0fqss .highlight .s1{color:#F1403C;}.css-1g0fqss .highlight .ss{color:#F1403C;}.css-1g0fqss .highlight .bp{color:#999999;}.css-1g0fqss .highlight .vc{color:#056DE8;}.css-1g0fqss .highlight .vg{color:#056DE8;}.css-1g0fqss .highlight .vi{color:#056DE8;}.css-1g0fqss .highlight .il{color:#056DE8;}.css-1g0fqss .highlight::-webkit-scrollbar{width:6px;height:6px;}.css-1g0fqss .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(18,18,18,0.5);border-radius:6px;}.css-1g0fqss .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(18,18,18,0.6);}.css-1g0fqss .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1g0fqss .LinkCard.old,.css-1g0fqss .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1g0fqss .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(246,246,246,0.88);color:#D3D3D3;}.css-1g0fqss .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#EBEBEB;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1g0fqss .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1g0fqss .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1g0fqss .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#EBEBEB;}.css-1g0fqss .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1g0fqss .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-1g0fqss .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#F6F6F6;}.css-1g0fqss .LinkCard.new,.css-1g0fqss .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1g0fqss .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1g0fqss .LinkCard.new .LinkCard-contents .loading{height:14px;background:#EBEBEB;border-radius:7px;}.css-1g0fqss .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1g0fqss .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#121212;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1g0fqss .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1g0fqss .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1g0fqss .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1g0fqss .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1g0fqss .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#999999;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1g0fqss .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#444444;}.css-1g0fqss .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#999999;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1g0fqss .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1g0fqss .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(211,211,211,0.3);}.css-1g0fqss .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1g0fqss .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1g0fqss .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#EBEBEB;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1g0fqss .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#EBEBEB;color:#D3D3D3;}.css-1g0fqss .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#999999;}.css-1g0fqss .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1g0fqss .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1g0fqss .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#444444;}.css-1g0fqss .LinkCard.new .LinkCard-richText .text{color:#444444;}.css-1g0fqss .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1g0fqss .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1g0fqss .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(246,246,246,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-1g0fqss .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-1g0fqss .FileLinkCard-info{margin-left:12px;}.css-1g0fqss .FileLinkCard-name{color:#121212;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1g0fqss .FileLinkCard-meta{color:#999999;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-1g0fqss .FileLinkCard-source{white-space:pre;}.css-1g0fqss img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}@-webkit-keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}@keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}</style><style data-emotion-css="1s3a4zw">.css-1s3a4zw{position:relative;display:inline-block;height:30px;padding:0 12px;font-size:14px;line-height:30px;color:#056DE8;vertical-align:top;border-radius:100px;background:rgba(5,109,232,0.1);}.css-1s3a4zw:hover{background-color:rgba(5,109,232,0.15);}</style><style data-emotion-css="1xlfegr">.css-1xlfegr{background:transparent;box-shadow:none;}</style><style data-emotion-css="1gomreu">.css-1gomreu{position:relative;display:inline-block;}</style><style data-emotion="css"></style></head><body class="WhiteBg-body PostIndex-body" aria-basefontsize="16" data-rh="class"><a id="ariaTipText" role="pagedescription" aria-label="欢迎进入 ProtoBuf 官方文档-（C++开发）教程 - 知乎,盲人用户使用操作智能引导，请按快捷键Ctrl+Alt+R；阅读详细操作说明请按快捷键Ctrl+Alt+问号键。" aria-atomic="true" href="javascript:void(0)" class="skipAutoFix" style="width: 1px; height: 1px;"><img src="https://zhuanlan.zhihu.com/p/420648886" style="width:1px !important;height:1px !important;position:absolute;top:0;"></a><div id="root"><div class="App"><div class="LoadingBar  css-uzm3ri"></div><div><span style="position:absolute;top:-10000px;left:-10000px" role="log" aria-live="assertive"></span></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;hexu1985&quot;}" data-zop="{&quot;authorName&quot;:&quot;倔强的码农&quot;,&quot;itemId&quot;:420648886,&quot;title&quot;:&quot;ProtoBuf 官方文档-（C++开发）教程&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;420648886&quot;}}}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader is-fixed css-1l12z7y" style="width: 1905px; top: 0px; left: 0px;"><div class="ColumnPageHeader-content"><a href="https://www.zhihu.com/" aria-label="知乎"><svg viewBox="0 0 64 30" fill="#056DE8" width="64" height="30" class="css-1hlrcxk"><path d="M29.05 4.582H16.733V25.94h3.018l.403 2.572 4.081-2.572h4.815V4.582zm-5.207 18.69l-2.396 1.509-.235-1.508h-1.724V7.233h6.78v16.04h-2.425zM14.46 14.191H9.982c0-.471.033-.954.039-1.458v-5.5h5.106V5.935a1.352 1.352 0 0 0-.404-.957 1.378 1.378 0 0 0-.968-.396H5.783c.028-.088.056-.177.084-.255.274-.82 1.153-3.326 1.153-3.326a4.262 4.262 0 0 0-2.413.698c-.57.4-.912.682-1.371 1.946-.532 1.453-.997 2.856-1.31 3.693C1.444 8.674.28 11.025.28 11.025a5.85 5.85 0 0 0 2.52-.61c1.119-.593 1.679-1.502 2.054-2.883l.09-.3h2.334v5.5c0 .5-.045.982-.073 1.46h-4.12c-.71 0-1.39.278-1.893.775a2.638 2.638 0 0 0-.783 1.874h6.527a17.717 17.717 0 0 1-.778 3.649 16.796 16.796 0 0 1-3.012 5.273A33.104 33.104 0 0 1 0 28.74s3.13 1.175 5.425-.954c1.388-1.292 2.631-3.814 3.23-5.727a28.09 28.09 0 0 0 1.12-5.229h5.967v-1.37a1.254 1.254 0 0 0-.373-.899 1.279 1.279 0 0 0-.909-.37z"></path><path d="M11.27 19.675l-2.312 1.491 5.038 7.458a6.905 6.905 0 0 0 .672-2.218 3.15 3.15 0 0 0-.28-2.168l-3.118-4.563zM51.449 15.195V5.842c4.181-.205 7.988-.405 9.438-.483l.851-.05c.387-.399.885-2.395.689-3.021-.073-.25-.213-.666-.638-.555a33.279 33.279 0 0 1-4.277.727c-2.766.321-3.97.404-7.804.682-6.718.487-12.709.72-12.709.72a2.518 2.518 0 0 0 .788 1.834 2.567 2.567 0 0 0 1.883.706c2.278-.095 5.598-.25 8.996-.41v9.203h-12.78c0 .703.281 1.377.783 1.874a2.69 2.69 0 0 0 1.892.777h10.105v7.075c0 .887-.464 1.192-1.231 1.214h-3.92a4.15 4.15 0 0 0 .837 1.544 4.2 4.2 0 0 0 1.403 1.067 6.215 6.215 0 0 0 2.71.277c1.36-.066 2.967-.826 2.967-3.57v-7.607h11.28c.342 0 .67-.135.91-.374.242-.239.378-.563.378-.902v-1.375H51.449z"></path><path d="M42.614 8.873a2.304 2.304 0 0 0-1.508-.926 2.334 2.334 0 0 0-1.727.405l-.376.272 4.255 5.85 2.24-1.62-2.884-3.98zM57.35 8.68l-3.125 4.097 2.24 1.663 4.517-5.927-.375-.277a2.32 2.32 0 0 0-1.722-.452 2.327 2.327 0 0 0-1.536.896z"></path></svg></a><div class="ColumnPageHeader-Button"><div class="Popover"><button title="更多" id="Popover1-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover1-content" type="button" class="Button ColumnPageHeader-MenuToggler Button--plain"><svg width="24" height="24" viewBox="0 0 24 24" class="Zi Zi--Dots" fill="currentColor"><path fill-rule="evenodd" d="M5.83 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Zm7.835 0a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Zm6.17 1.665a1.665 1.665 0 1 0 0-3.33 1.665 1.665 0 0 0 0 3.33Z" clip-rule="evenodd"></path></svg></button></div><button type="button" class="Button ColumnPageHeader-WriteButton Button--blue"><svg width="24" height="24" viewBox="0 0 24 24" class="Zi Zi--EditSurround" fill="currentColor"><path fill-rule="evenodd" d="M3.55 5.97a2.415 2.415 0 0 1 2.415-2.416h7.56a.75.75 0 0 1 0 1.5h-7.56a.915.915 0 0 0-.915.915v12.072c0 .505.41.915.915.915h12.074c.506 0 .915-.41.915-.915v-7.557a.75.75 0 0 1 1.5 0v7.557a2.415 2.415 0 0 1-2.415 2.415H5.965A2.415 2.415 0 0 1 3.55 18.04V5.969Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M20.239 3.77a.75.75 0 0 1 0 1.06l-8.206 8.206a.75.75 0 0 1-1.06-1.06l8.205-8.206a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg>写文章</button></div></div><div class="ColumnPageHeader-profile"><div class="Popover AppHeader-menu"><button id="Popover4-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover4-content" type="button" class="Button AppHeader-profileEntry FEfUrdfMIKpQDJDqkjte Button--plain fEPKGkUK5jyc4fUuT0QP"><img class="Avatar AppHeader-profileAvatar css-1tzrnvf" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg" srcset="https://picx.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=32738c0c 2x" alt="点击打开hexu1985的主页"></button></div><div class="Popover ddLajxN_Q0AuobBZjX9m AppHeaderProfileMenu-creatorHintPopover"><div class="AppHeaderProfileMenu-creatorHintToggler" id="Popover5-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover5-content"></div></div></div></div><div class="Sticky--holder" style="position: relative; inset: 0px; display: block; float: none; margin: 0px; height: 52px;"></div></div></div><article class="Post-Main Post-NormalMain" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">ProtoBuf 官方文档-（C++开发）教程</h1><div class="Post-Author"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><div class="AuthorInfo"><meta itemprop="name" content="倔强的码农"><meta itemprop="image" content="https://picx.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=172ae18b"><meta itemprop="url" content="https://www.zhihu.com/people/jue-qiang-de-ma-nong-20"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/jue-qiang-de-ma-nong-20" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User"><img class="Avatar AuthorInfo-avatar css-1y9jkzv" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l(1).jpg" srcset="https://picx.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=172ae18b 2x" alt="倔强的码农"></a></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/jue-qiang-de-ma-nong-20" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User">倔强的码农</a></div></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"></div></div></div></div></div><button type="button" class="Button FollowButton Button--primary Button--blue"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Plus FollowButton-icon" fill="currentColor"><path fill-rule="evenodd" d="M13.25 3.25a1.25 1.25 0 1 0-2.5 0v7.5h-7.5a1.25 1.25 0 1 0 0 2.5h7.5v7.5a1.25 1.25 0 1 0 2.5 0v-7.5h7.5a1.25 1.25 0 0 0 0-2.5h-7.5v-7.5Z" clip-rule="evenodd"></path></svg></span>关注</button></div><div class="LabelContainer-wrapper"></div><div role="button" tabindex="0"><span class="Voters"><button type="button" class="Button Button--plain">1 人<!-- -->赞同了该文章</button></span></div></header><div class="Post-RichTextContainer"><div class="css-1yuhvjn"><div class="css-376mun"><div class="RichText ztext Post-RichText css-1g0fqss" options="[object Object]"><p data-first-child="" data-pid="cuEHZs-l">定义你的 protocol 格式<br> 要创建地址簿应用程序，你需要从 .proto 文件开始。.proto 文件中的定义很简单：为要序列化的每个数据结构添加 message 定义，然后为 message 中的每个字段指定名称和类型。下面就是定义相关 message 的 .proto 文件，addressbook.proto。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-7670c76dff5e12cfb60f582cf0ccdb93_b.jpg" data-rawwidth="672" data-rawheight="516" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="672" data-original="https://pic4.zhimg.com/v2-7670c76dff5e12cfb60f582cf0ccdb93_r.jpg"/></noscript><div><img src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-7670c76dff5e12cfb60f582cf0ccdb93_720w.webp" data-rawwidth="672" data-rawheight="516" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="672" data-original="https://pic4.zhimg.com/v2-7670c76dff5e12cfb60f582cf0ccdb93_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-7670c76dff5e12cfb60f582cf0ccdb93_b.jpg" data-original-token="v2-43a4d9979408413ffe3ecf8c1d3008ff" height="516" data-lazy-status="ok"></div></figure><p data-pid="E9sUBNQz">如你所见，语法类似于 C++ 或 Java。让我们浏览文件的每个部分，看看它们的作用。<br> .proto 文件以 package 声明开头，这有助于防止不同项目之间的命名冲突。在 C++ 中，生成的类将放在与包名匹配的 namespace （命名空间）中。<br> 接下来，你将看到相关的 message 定义。message 只是包含一组类型字段的集合。许多标准的简单数据类型都可用作字段类型，包括 bool、int32、float、double 和 string。你还可以使用其他 message 类型作为字段类型在消息中添加更多结构 - 在上面的示例中，Person 包含 PhoneNumber message ，而 AddressBook 包含 Person message。你甚至可以定义嵌套在其他 message 中的 message 类型 -​​ 如你所见，PhoneNumber 类型在 Person 中定义。如果你希望其中一个字段具有预定义的值列表中的值，你还可以定义枚举类型 - 此处你指定（枚举）电话号码，它的值可以是 MOBILE，HOME 或 WORK 之一。<br> 每个元素上的 "=1"，"=2" 标记表示该字段在二进制编码中使用的唯一 “标记”。标签号 1-15 比起更大数字需要少一个字节进行编码，因此以此进行优化，你可以决定将这些标签用于常用或重复的元素，将标记 16 和更高的标记留给不太常用的可选元素。repeated 字段中的每个元素都需要重新编码 Tag，因此 repeated 字段特别适合使用此优化。<br>  译者注：<br>“repeated 字段中的每个元素都需要重新编码 Tag”，指的应该是 string 等类型的 repeated 字段。<br> <br> 必须使用以下修饰符之一注释每个字段：<br> </p><ul><li data-pid="nmEYo8yI"><b>required</b>: 必须提供该字段的值，否则该消息将被视为“未初始化”。如果是在调试模式下编译 libprotobuf，则序列化一个未初始化的 message 将将导致断言失败。在优化的构建中，将跳过检查并始终写入消息。但是，解析未初始化的消息将始终失败（通过从解析方法返回 false）。除此之外，required 字段的行为与 optional 字段完全相同。</li><li data-pid="VGXRBfIi"><b>optional</b>: 可以设置也可以不设置该字段。如果未设置可选字段值，则使用默认值。对于简单类型，你可以指定自己的默认值，就像我们在示例中为电话号码类型所做的那样。否则，使用系统默认值：数字类型为 0，字符串为空字符串，bools 为 false。对于嵌入 message，默认值始终是消息的 “默认实例” 或 “原型”，其中没有设置任何字段。调用访问器以获取尚未显式设置的 optional（或 required）字段的值始终返回该字段的默认值。</li><li data-pid="dpnwCFBx"><b>repeated</b>: 该字段可以重复任意次数（包括零次）。重复值的顺序将保留在 protocol buffer 中。可以将 repeated 字段视为动态大小的数组。</li></ul><p data-pid="TvObDkXt">  对于 required 类型你应该时时刻刻留意，将字段设置为 required 类型是一个值得谨慎思考的事情。如果你希望在某个时刻停止写入或发送 required 字段，则将字段更改为 optional 字段会有问题 - 旧读者会认为没有此字段的邮件不完整，可能会无意中拒绝或删除这些消息。你应该考虑为你的 buffers 编写特定于应用程序的自定义验证例程。谷歌的一些工程师得出的结论是，使用 required 弊大于利;他们更喜欢只使用 optional 和 repeated。但是，这种观点还未得到普及。<br> <br> 你可以在 <a href="https://link.zhihu.com/?target=https%3A//www.jianshu.com/p/6f68fb2c7d19" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Protocol Buffer 语法指南</a> 中找到编写 <code>.proto</code> 文件（包括所有可能的字段类型）的完整指南。不要去寻找类似于类继承的工具（设计），protocol buffers 不会这样做。<br> 编译你的 Protocol Buffers<br> 既然你已经有了一个 <code>.proto</code> 文件，那么你需要做的下一件事就是生成你需要读写<code>AddressBook</code>（以及 <code>Person</code> 和 <code>PhoneNumber</code> ） message 所需的类。为此，你需要在 <code>.proto</code> 上运行 protocol buffer 编译器 <code>protoc</code>：<br> </p><ol><li data-pid="25SpdyrD">如果尚未安装编译器，请 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Fdownloads.html" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">下载软件包</a> 并按照 README 文件中的说明进行操作。</li><li data-pid="_Yj2F9_S">现在运行编译器，指定源目录（应用程序的源代码所在的位置 - 如果不提​​供值，则使用当前目录），目标目录（你希望生成代码的目标目录;通常与源目录 <code>$SRC_DIR</code> 相同），以及 <code>.proto</code> 的路径。在这种情况下，你可以执行如下命令：</li></ol><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-9ce999bdcda79dd978ad2875c9f5d7ae_b.png" data-rawwidth="657" data-rawheight="57" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="657" data-original="https://pic3.zhimg.com/v2-9ce999bdcda79dd978ad2875c9f5d7ae_r.jpg"/></noscript><div><img src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-9ce999bdcda79dd978ad2875c9f5d7ae_720w.webp" data-rawwidth="657" data-rawheight="57" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="657" data-original="https://pic3.zhimg.com/v2-9ce999bdcda79dd978ad2875c9f5d7ae_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-9ce999bdcda79dd978ad2875c9f5d7ae_b.png" data-original-token="v2-9ce999bdcda79dd978ad2875c9f5d7ae" height="57" data-lazy-status="ok"></div></figure><p data-pid="vR64XUqM">因为你需要 C ++ 类，所以使用 <code>--cpp_out</code> 选项 - 当然，为其他支持的语言也提供了类似的选项。<br> 这将在指定的目标目录中生成以下文件：<br> </p><ul><li data-pid="zVYJU6Am"><code>addressbook.pb.h</code>： 类声明的头文件</li><li data-pid="AAHjwcQv"><code>addressbook.pb.cc</code>：类实现</li></ul><p data-pid="l8hzqpNT">The Protocol Buffer API<br> 让我们看看一些生成的代码，看看编译器为你创建了哪些类和函数。如果你查看　addressbook.pb.h，你会发现你在 addressbook.proto 中指定的每条 message 都有一个对应的类。仔细观察 Person 类，你可以看到编译器已为每个字段生成了访问器。例如，对于 name ，id，email 和 phone 字段，你可以使用以下方法：</p><div class="highlight"><pre><code class="language-cpp"> <span class="c1">// required name
</span><span class="c1"></span>  <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">has_name</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">clear_name</span><span class="p">();</span>
  <span class="kr">inline</span> <span class="k">const</span> <span class="o">::</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_name</span><span class="p">(</span><span class="k">const</span> <span class="o">::</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">value</span><span class="p">);</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_name</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">value</span><span class="p">);</span>
  <span class="kr">inline</span> <span class="o">::</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">*</span> <span class="n">mutable_name</span><span class="p">();</span>

  <span class="c1">// required id
</span><span class="c1"></span>  <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">has_id</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">clear_id</span><span class="p">();</span>
  <span class="kr">inline</span> <span class="kt">int32_t</span> <span class="nf">id</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_id</span><span class="p">(</span><span class="kt">int32_t</span> <span class="n">value</span><span class="p">);</span>

  <span class="c1">// optional email
</span><span class="c1"></span>  <span class="kr">inline</span> <span class="kt">bool</span> <span class="nf">has_email</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">clear_email</span><span class="p">();</span>
  <span class="kr">inline</span> <span class="k">const</span> <span class="o">::</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">email</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_email</span><span class="p">(</span><span class="k">const</span> <span class="o">::</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">value</span><span class="p">);</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_email</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">value</span><span class="p">);</span>
  <span class="kr">inline</span> <span class="o">::</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">*</span> <span class="n">mutable_email</span><span class="p">();</span>

  <span class="c1">// repeated phones
</span><span class="c1"></span>  <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">phones_size</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">clear_phones</span><span class="p">();</span>
  <span class="kr">inline</span> <span class="k">const</span> <span class="o">::</span><span class="n">google</span><span class="o">::</span><span class="n">protobuf</span><span class="o">::</span><span class="n">RepeatedPtrField</span><span class="o">&lt;</span> <span class="o">::</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person_PhoneNumber</span> <span class="o">&gt;&amp;</span> <span class="n">phones</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="o">::</span><span class="n">google</span><span class="o">::</span><span class="n">protobuf</span><span class="o">::</span><span class="n">RepeatedPtrField</span><span class="o">&lt;</span> <span class="o">::</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person_PhoneNumber</span> <span class="o">&gt;*</span> <span class="n">mutable_phones</span><span class="p">();</span>
  <span class="kr">inline</span> <span class="k">const</span> <span class="o">::</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person_PhoneNumber</span><span class="o">&amp;</span> <span class="n">phones</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
  <span class="kr">inline</span> <span class="o">::</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person_PhoneNumber</span><span class="o">*</span> <span class="n">mutable_phones</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">);</span>
  <span class="kr">inline</span> <span class="o">::</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person_PhoneNumber</span><span class="o">*</span> <span class="n">add_phones</span><span class="p">();</span>
</code></pre></div><p data-pid="QNLqlCUs">如你所见，getter 的名称与小写字段完全相同，setter 方法以 set_ 开头。每个单数（required 或 optional）字段也有 has_ 方法，如果设置了该字段，则返回 true。最后，每个字段都有一个 clear_ 方法，可以将字段重新设置回 empty 状态。<br> 虽然数字 id 字段只有上面描述的基本访问器集，但是 name 和 email 字段因为是字符串所以有几个额外的方法：一个 mutable_ 的 getter，它允许你获得一个指向字符串的直接指针，以及一个额外的 setter。请注意，即使尚未设置 email ，也可以调用 mutable_email()；它将自动初始化为空字符串。如果在这个例子中你有一个单数的 message 字段，它也会有一个 mutable_ 方法而不是 set_ 方法。<br> repeated 字段也有一些特殊的方法 - 如果你看一下 repeated phones 字段的相关方法，你会发现你可以：<br> </p><ul><li data-pid="O36LTLOz">检查 repeated 字段长度（换句话说，与此人关联的电话号码数）</li><li data-pid="ZNYbhrRQ">使用索引获取指定的电话号码</li><li data-pid="OXza_Nyr">更新指定索引处的现有电话号码</li><li data-pid="XoSp4puN">在 message 中添加另一个电话号码同时之后也可进行再修改（repeated 的标量类型有一个 add_，而且只允许你传入新值）</li></ul><p data-pid="xVuzypXU"> 有关 protocol 编译器为任何特定字段定义生成的确切成员的详细信息，请参阅 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp-generated" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">C++ 生成代码参考</a>。<br> 枚举和嵌套类<br> 生成的代码包含与你的 .proto 枚举对应的 PhoneType 枚举。你可以将此类型称为 Person::PhoneType，其值为 Person::MOBILE，Person::HOME 和 Person::WORK（实现细节稍微复杂一些，但你如果仅仅只是使用不需要理解里面的实现原理）。<br> 编译器还为你生成了一个名为 Person::PhoneNumber 的嵌套类。如果查看代码，可以看到 “真实” 类实际上称为 Person_PhoneNumber，但在 Person 中定义的 typedef 允许你将其视为嵌套类。唯一会造成一点差异的情况是，如果你想在另一个文件中前向声明该类 - 你不能在 C ++ 中前向声明嵌套类型，但你可以前向声明 Person_PhoneNumber。<br> 标准 Message 方法<br> 每个 message 类还包含许多其他方法，可用于检查或操作整个 message，包括：<br> </p><ul><li data-pid="Ixu6qjni"><code>bool IsInitialized() const;</code>: 检查是否已设置所有必填 required 字段</li><li data-pid="RQvFn_tA"><code>string DebugString() const;</code>: 返回 message 的人类可读表达，对调试特别有用</li></ul><p class="ztext-empty-paragraph"><br></p><ul><li data-pid="ReA1WSay"><code>void CopyFrom(const Person&amp; from);</code>: 用给定的 message 的值覆盖 message</li><li data-pid="T1A_rj0z"><code>void Clear();</code>: 将所有元素清除回 empty 状态</li></ul><p data-pid="ioE3Wk2J"> 这些和下一节中描述的 I/O 方法实现了所有 C++ protocol buffer 类共享的 <code>Message</code> 接口。更多的更详细的有关信息，请参阅 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Message 的完整 API 文档</a>。<br> 解析和序列化<br> 最后，每个 protocol buffer 类都有使用 protocol buffer <a href="https://link.zhihu.com/?target=https%3A//www.jianshu.com/p/82ff31c6adc6" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">二进制格式</a> 读写所选类型 message 的方法。包括：<br> </p><ul><li data-pid="Z-KIG-qV"><code>bool SerializeToString(string* output) const;</code>:序列化消息并将字节存储在给定的字符串中。请注意，字节是二进制的，而不是文本;我们只使用 <code>string</code> 类作为方便的容器。</li><li data-pid="HBjsAIWo"><code>bool ParseFromString(const string&amp; data);</code>: 解析给定字符串到 message</li><li data-pid="ooLTeClF"><code>bool SerializeToOstream(ostream* output) const;</code>: 将 message 写入给定的 C++ 的 ostream</li><li data-pid="mR0NZF5H"><code>bool ParseFromIstream(istream* input);</code>: 解析给定 C++ istream 到 message</li></ul><p data-pid="MvJ3P2Hl"> 这些只是解析和序列化提供的几个选项。请参阅 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Message API 参考</a> 以获取完整列表。<br>  Protocol Buffers 和 O-O 设计的 Protocol Buffers 类基本上是 dumb data 持有者（如 C 中的结构）; 他们没有在对象模型中成为优秀的一等公民。如果要为生成的类添加更丰富的行为，最好的方法是将生成的 Protocol Buffers 类包装在特定于应用程序的类中。如果你无法控制 .proto 文件的设计（如果你正在重用另一个项目中的一个），那么包装 Protocol Buffers 的类也是一个好主意。在这种情况下，你可以使用包装器类来创建更适合应用程序的独特环境的接口：隐藏一些数据和方法，公开便利功能等。永远不应该通过继承它们来为生成的类添加行为。这将打破内部机制，无论如何这都不是良好的面向对象的实践。<br> 译者注：对象模型设计原则之一：使用组合代替继承<br> <br> 写入一个 Message<br> 现在让我们尝试使用你的 Protocol Buffer 类。你希望地址簿应用程序能够做的第一件事可能是将个人详细信息写入的地址簿文件。为此，你需要创建并填充 Protocol Buffer 类的实例，然后将它们写入输出流。<br> 这是一个从文件中读取 AddressBook 的程序，根据用户输入向其添加一个新 Person，并将新的 AddressBook 重新写回文件。其中直接调用或引用 protocol 编译器生成的代码部分将高亮显示。<br>  译者注：<br>“直接调用或引用 protocol 编译器生成的代码部分” 采用注释 ＠＠＠ 的方式标出<br><br></p><div class="highlight"><pre><code class="language-cpp"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">"addressbook.pb.h"</span><span class="cp">
</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// This function fills in a Person message based on user input.
</span><span class="c1"></span><span class="kt">void</span> <span class="nf">PromptForAddress</span><span class="p">(</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">*</span> <span class="n">person</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Enter person ID number: "</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">person</span><span class="o">-&gt;</span><span class="n">set_id</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
  <span class="n">cin</span><span class="p">.</span><span class="n">ignore</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="sc">'\n'</span><span class="p">);</span>

  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Enter name: "</span><span class="p">;</span>
  <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="o">*</span><span class="n">person</span><span class="o">-&gt;</span><span class="n">mutable_name</span><span class="p">());</span>

  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Enter email address (blank for none): "</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">email</span><span class="p">;</span>
  <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">email</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">email</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">person</span><span class="o">-&gt;</span><span class="n">set_email</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Enter a phone number (or leave blank to finish): "</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">number</span><span class="p">;</span>
    <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">number</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">number</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// ＠＠＠ Person::PhoneNumber
</span><span class="c1"></span>    <span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="n">PhoneNumber</span><span class="o">*</span> <span class="n">phone_number</span> <span class="o">=</span> <span class="n">person</span><span class="o">-&gt;</span><span class="n">add_phones</span><span class="p">();</span>
    <span class="n">phone_number</span><span class="o">-&gt;</span><span class="n">set_number</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Is this a mobile, home, or work phone? "</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">type</span><span class="p">;</span>
    <span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span> <span class="n">type</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"mobile"</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// ＠＠＠ Person
</span><span class="c1"></span>      <span class="n">phone_number</span><span class="o">-&gt;</span><span class="n">set_type</span><span class="p">(</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="n">MOBILE</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"home"</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// ＠＠＠ Person
</span><span class="c1"></span>      <span class="n">phone_number</span><span class="o">-&gt;</span><span class="n">set_type</span><span class="p">(</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="n">HOME</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="o">==</span> <span class="s">"work"</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// ＠＠＠ Person
</span><span class="c1"></span>      <span class="n">phone_number</span><span class="o">-&gt;</span><span class="n">set_type</span><span class="p">(</span><span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="n">WORK</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Unknown phone type.  Using default."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Main function:  Reads the entire address book from a file,
</span><span class="c1">//   adds one person based on user input, then writes it back out to the same
</span><span class="c1">//   file.
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="c1">// Verify that the version of the library that we linked against is
</span><span class="c1"></span>  <span class="c1">// compatible with the version of the headers we compiled against.
</span><span class="c1"></span>  <span class="n">GOOGLE_PROTOBUF_VERIFY_VERSION</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Usage:  "</span> <span class="o">&lt;&lt;</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" ADDRESS_BOOK_FILE"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// ＠＠＠ AddressBook
</span><span class="c1"></span>  <span class="n">tutorial</span><span class="o">::</span><span class="n">AddressBook</span> <span class="n">address_book</span><span class="p">;</span>

  <span class="p">{</span>
    <span class="c1">// Read the existing address book.
</span><span class="c1"></span>    <span class="n">fstream</span> <span class="n">input</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ios</span><span class="o">::</span><span class="n">in</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">input</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">": File not found.  Creating a new file."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="c1">// ＠＠＠ ParseFromIstream
</span><span class="c1"></span>    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">address_book</span><span class="p">.</span><span class="n">ParseFromIstream</span><span class="p">(</span><span class="o">&amp;</span><span class="n">input</span><span class="p">))</span> <span class="p">{</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Failed to parse address book."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Add an address.
</span><span class="c1"></span>  <span class="n">PromptForAddress</span><span class="p">(</span><span class="n">address_book</span><span class="p">.</span><span class="n">add_people</span><span class="p">());</span>

  <span class="p">{</span>
    <span class="c1">// Write the new address book back to disk.
</span><span class="c1"></span>    <span class="n">fstream</span> <span class="n">output</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ios</span><span class="o">::</span><span class="n">out</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">trunc</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
    <span class="c1">// ＠＠＠ SerializeToOstream
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">address_book</span><span class="p">.</span><span class="n">SerializeToOstream</span><span class="p">(</span><span class="o">&amp;</span><span class="n">output</span><span class="p">))</span> <span class="p">{</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Failed to write address book."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Optional:  Delete all global objects allocated by libprotobuf.
</span><span class="c1"></span>  <span class="c1">// ＠＠＠ ShutdownProtobufLibrary
</span><span class="c1"></span>  <span class="n">google</span><span class="o">::</span><span class="n">protobuf</span><span class="o">::</span><span class="n">ShutdownProtobufLibrary</span><span class="p">();</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p data-pid="C7dkE5Qr">请注意 GOOGLE_PROTOBUF_VERIFY_VERSION 宏。在使用 C++ Protocol Buffer 库之前执行此宏是一种很好的做法 - 尽管不是绝对必要的。它验证你没有意外链接到与你编译的头文件不兼容的库版本。如果检测到版本不匹配，程序将中止。请注意，每个 .<a href="https://link.zhihu.com/?target=http%3A//pb.cc" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">http://</span><span class="visible">pb.cc</span><span class="invisible"></span></a> 文件在启动时都会自动调用此宏。<br> 另请注意在程序结束时调用 ShutdownProtobufLibrary()。所有这一切都是删除 Protocol Buffer 库分配的所有全局对象。对于大多数程序来说这是不必要的，因为该过程无论如何都要退出，并且操作系统将负责回收其所有内存。但是，如果你使用了内存泄漏检查程序，该程序需要释放每个最后对象，或者你正在编写可以由单个进程多次加载和卸载的库，那么你可能希望强制使用 Protocol Buffers 来清理所有内容。</p><h2>读取一个 Message</h2><p data-pid="bjyRLT_I">当然，如果你无法从中获取任何信息，那么地址簿就不会有多大用处！此示例读取上面示例创建的文件并打印其中的所有信息</p><p class="ztext-empty-paragraph"><br></p><div class="highlight"><pre><code class="language-cpp"><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;fstream&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">"addressbook.pb.h"</span><span class="cp">
</span><span class="cp"></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// Iterates though all people in the AddressBook and prints info about them.
</span><span class="c1"></span><span class="kt">void</span> <span class="nf">ListPeople</span><span class="p">(</span><span class="k">const</span> <span class="n">tutorial</span><span class="o">::</span><span class="n">AddressBook</span><span class="o">&amp;</span> <span class="n">address_book</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">address_book</span><span class="p">.</span><span class="n">people_size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">&amp;</span> <span class="n">person</span> <span class="o">=</span> <span class="n">address_book</span><span class="p">.</span><span class="n">people</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>

    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Person ID: "</span> <span class="o">&lt;&lt;</span> <span class="n">person</span><span class="p">.</span><span class="n">id</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"  Name: "</span> <span class="o">&lt;&lt;</span> <span class="n">person</span><span class="p">.</span><span class="n">name</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="n">has_email</span><span class="p">())</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"  E-mail address: "</span> <span class="o">&lt;&lt;</span> <span class="n">person</span><span class="p">.</span><span class="n">email</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">person</span><span class="p">.</span><span class="n">phones_size</span><span class="p">();</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">const</span> <span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="n">PhoneNumber</span><span class="o">&amp;</span> <span class="n">phone_number</span> <span class="o">=</span> <span class="n">person</span><span class="p">.</span><span class="n">phones</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>

      <span class="k">switch</span> <span class="p">(</span><span class="n">phone_number</span><span class="p">.</span><span class="n">type</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="nl">MOBILE</span><span class="p">:</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"  Mobile phone #: "</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="nl">HOME</span><span class="p">:</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"  Home phone #: "</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">tutorial</span><span class="o">::</span><span class="n">Person</span><span class="o">::</span><span class="nl">WORK</span><span class="p">:</span>
          <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"  Work phone #: "</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">phone_number</span><span class="p">.</span><span class="n">number</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Main function:  Reads the entire address book from a file and prints all
</span><span class="c1">//   the information inside.
</span><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
  <span class="c1">// Verify that the version of the library that we linked against is
</span><span class="c1"></span>  <span class="c1">// compatible with the version of the headers we compiled against.
</span><span class="c1"></span>  <span class="n">GOOGLE_PROTOBUF_VERIFY_VERSION</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Usage:  "</span> <span class="o">&lt;&lt;</span> <span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" ADDRESS_BOOK_FILE"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">tutorial</span><span class="o">::</span><span class="n">AddressBook</span> <span class="n">address_book</span><span class="p">;</span>

  <span class="p">{</span>
    <span class="c1">// Read the existing address book.
</span><span class="c1"></span>    <span class="n">fstream</span> <span class="n">input</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">ios</span><span class="o">::</span><span class="n">in</span> <span class="o">|</span> <span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">address_book</span><span class="p">.</span><span class="n">ParseFromIstream</span><span class="p">(</span><span class="o">&amp;</span><span class="n">input</span><span class="p">))</span> <span class="p">{</span>
      <span class="n">cerr</span> <span class="o">&lt;&lt;</span> <span class="s">"Failed to parse address book."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="n">ListPeople</span><span class="p">(</span><span class="n">address_book</span><span class="p">);</span>

  <span class="c1">// Optional:  Delete all global objects allocated by libprotobuf.
</span><span class="c1"></span>  <span class="n">google</span><span class="o">::</span><span class="n">protobuf</span><span class="o">::</span><span class="n">ShutdownProtobufLibrary</span><span class="p">();</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p data-pid="ArhLUViO">扩展一个 Protocol Buffer<br> 在发布使用 protocol buffer 的代码之后，无疑早晚有一天你将会想要 “改进” protocol buffer 的定义。如果你希望你的新 buffer 向后兼容，并且你的旧 buffer 是向前兼容的（实际上你一定想要这种兼容性） - 那么你需要遵循一些规则。在新版本的 protocol buffer 中：<br> </p><ul><li data-pid="Feei50t4">你不得更改任何现有字段的字段编号</li><li data-pid="k3emLZL6">你不得添加或删除任何 required 字段</li><li data-pid="xVNCCaag">你可以删除 optional 或 repeated 的字段</li><li data-pid="VjMXeMQl">你可以添加新的 optional 或 repeated 字段，但必须使用新的标记号（即从未在此协议缓冲区中使用的编号，甚至包括那些已删除的字段的编号）</li></ul><p data-pid="2UNQ-QfZ"> （这些规则有一些 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Fproto%2523updating" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">例外</a>，但它们很少使用）。<br> 如果你遵循这些规则，旧代码将很乐意阅读新消息并简单地忽略任何新字段。对于旧代码，已删除的可选字段将只具有其默认值，删除的重复字段将为空。新代码也将透明地读取旧消息。但是，请记住旧的 message 中不会出现新的可选字段，因此你需要明确通过调用  has_ 方法来检查它们是否被设置，或者在字段编号后面使用 [default = value] 在 .proto 文件中提供合理的默认值。如果未为 optional 元素指定默认值，则使用特定于类型的默认值：对于字符串，默认值为空字符串。对于布尔值，默认值为 false。对于数字类型，默认值为零。另请注意，如果添加了新的 repeated 字段，则新代码将无法判断它是否为空（通过新代码）或从未设置（通过旧代码），因为它没有 has_ 标志。<br> 优化技巧<br> C++ Protocol Buffers 已经做了极大优化。但是，正确使用可以进一步提高性能。以下是压榨最后一点速度的一些提示和技巧：<br> </p><ul><li data-pid="KrOfuqIb">尽可能重用 message 对象。message 会为了重用尝试保留它们分配的任何内存，即使它们被清除。因此，如果你连续处理具有相同类型和类似结构的许多 message，则每次重新使用相同的 message 对象来加载内存分配器是个好主意。但是，随着时间的推移，对象会变得臃肿，特别是如果你的 message 在 “形状” 上有所不同，或者你偶尔构造的 message 比平时大得多。你应该通过调用 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message.SpaceUsed.details" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">SpaceUsed</a> 方法来监控邮件对象的大小，一旦它们变得太大就删除它们。</li><li data-pid="I9_gSeN9">你的系统内存分配器可能没有针对从多个线程分配大量小对象这种情况进行良好优化。请尝试使用 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fgithub.com%252Fgperftools%252Fgperftools" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Google 的 tcmalloc</a>。</li></ul><p data-pid="1cbq0q6F"> 高级用法<br> Protocol buffers 的用途不仅仅是简单的访问器和序列化。请务必浏览 C++ API 参考，以了解你可以使用它们做些什么。<br> Protocol buffers 类提供的一个关键特性是反射。你可以迭代 message 的字段并操纵它们的值，而无需针对任何特定的 message 类型编写代码。使用反射的一种非常有用的应用是将 protocol messages 转换为其他编码，例如 XML 或 JSON。更高级的反射用法可能是找到两个相同类型的 message 之间的差异，或者开发一种 “protocol messages 的正则表达式”，你可以在其中编写与某些 message 内容匹配的表达式。如果你运用自己的想象力，可以将 Protocol Buffers 应用于比你最初预期更广泛的问题！<br> 反射由 <a href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message.Reflection" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Message::Reflection 接口</a>. 提供。</p></div></div></div></div><div role="button" tabindex="0" class="ContentItem-time">编辑于 2021-10-13 14:30</div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19564722&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19564722" target="_blank"><div class="css-1gomreu">protobuf</div></a></span></div><div class="Tag Topic css-1s3a4zw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19584970&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19584970" target="_blank"><div class="css-1gomreu">C++</div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 690px; bottom: 0px; left: 607.5px;"><div class="ContentItem-actions" data-za-detail-view-path-module="BottomBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;420648886&quot;}}}"><span><button aria-label="赞同 1 " aria-live="polite" type="button" class="Button VoteButton VoteButton--up"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor"><path fill-rule="evenodd" d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" clip-rule="evenodd"></path></svg></span>赞同 1</button><button aria-label="反对" aria-live="polite" type="button" class="Button VoteButton VoteButton--down"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" class="Zi Zi--TriangleDown" fill="currentColor"><path fill-rule="evenodd" d="M13.792 20.319c-.781 1.406-2.803 1.406-3.584 0L2.418 6.296c-.76-1.367.228-3.046 1.791-3.046h15.582c1.563 0 2.55 1.68 1.791 3.046l-7.79 14.023Z" clip-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Comment Button-zi" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>添加评论</button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="Popover2-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover2-content"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Share Button-zi" fill="currentColor"><path d="M19.47 1.914a.8.8 0 0 1 1.204.778l-1.872 16.386a.9.9 0 0 1-1.204.743l-4.615-1.692a.7.7 0 0 0-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 0 1 .179-.504l5.808-7.148a.595.595 0 0 0-.897-.781l-5.93 6.354a1.1 1.1 0 0 1-1.258.252L2.57 13.46a.8.8 0 0 1-.08-1.415l16.98-10.13Z"></path></svg></span>分享</button></div></div><button aria-live="polite" type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Heart Button-zi" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>喜欢</button><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Star Button-zi" fill="currentColor"><path d="M10.484 3.307c.673-1.168 2.358-1.168 3.032 0l2.377 4.122a.25.25 0 0 0 .165.12l4.655.987c1.319.28 1.84 1.882.937 2.884l-3.186 3.535a.25.25 0 0 0-.063.193l.5 4.733c.142 1.34-1.222 2.33-2.453 1.782l-4.346-1.938a.25.25 0 0 0-.204 0l-4.346 1.938c-1.231.549-2.595-.442-2.453-1.782l.5-4.733a.25.25 0 0 0-.064-.193L2.35 11.42c-.903-1.002-.382-2.604.937-2.884l4.655-.987a.25.25 0 0 0 .164-.12l2.378-4.122Z"></path></svg></span>收藏</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="Popover3-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover3-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly undefined"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Dots Button-zi" fill="currentColor"><path fill-rule="evenodd" d="M5.83 12a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Zm7.835 0a1.665 1.665 0 1 1-3.33 0 1.665 1.665 0 0 1 3.33 0Zm6.17 1.665a1.665 1.665 0 1 0 0-3.33 1.665 1.665 0 0 0 0 3.33Z" clip-rule="evenodd"></path></svg></span></button></div></div></div></div><div class="Post-SideActions" data-za-detail-view-path-module="LeftTabBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;420648886&quot;}}}" style="opacity: 1;"><button class="like"><div class="Post-SideActions-icon"><svg width="16" height="16" viewBox="0 0 24 24" class="Zi Zi--TriangleUp Post-SideActions-upIcon" fill="currentColor"><path fill-rule="evenodd" d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" clip-rule="evenodd"></path></svg></div><div class="likeCount"><div class="likeCount-inner" data-previous="已赞同 2">赞同 1</div></div></button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="Popover7-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover7-content"><button><div class="Post-SideActions-icon"><span style="display: inline-flex; align-items: center;">​<svg width="20" height="20" viewBox="0 0 24 24" class="Zi Zi--Share" fill="currentColor"><path d="M19.47 1.914a.8.8 0 0 1 1.204.778l-1.872 16.386a.9.9 0 0 1-1.204.743l-4.615-1.692a.7.7 0 0 0-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 0 1 .179-.504l5.808-7.148a.595.595 0 0 0-.897-.781l-5.93 6.354a1.1 1.1 0 0 1-1.258.252L2.57 13.46a.8.8 0 0 1-.08-1.415l16.98-10.13Z"></path></svg></span></div>分享</button></div></div></div></div><div class="Sticky--holder" style="position: static; inset: auto auto 0px 0px; display: block; float: none; margin: 0px 0px 10px; height: 54px;"></div></div></article><div class="Post-Sub Post-NormalSub"><div style="overflow: unset;" data-za-detail-view-path-module="CommentList" data-za-extra-module="{}"><div class="Comments-container css-plbgu"><div class="css-z07uxh"><div class="css-jzppqm"><div class="css-1vjm6vs"></div><div class="css-1goiptz"><div class="css-1jroejq"><svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M131.52 85.96L126.21 89.77L126.26 85.97H119.01V73.47V66.29H142.14V35.2H120.94V19.04H93.41V35.2V46.57H78.27L72.32 50.23L71.66 46.57H36.42V19.04H21.62V46.57H31.03V60.48H69.57V72.15H12.26V91.39H28.45V81.19H47.97V111.52H39.3L34.67 114.47L34.21 111.52H28.45V111.87H21.62V126.13H53.97V138.4H132.32V112.6H142.79L142.82 85.93L131.52 85.96Z" fill="#E6E6E6"></path><path d="M34.32 115.23L33.82 111.98H28V80.73H48.43V112H39.43L34.32 115.23ZM28.91 111.06H34.6L35 113.7L39.15 111.06H47.49V81.65H28.91V111.06Z" fill="#E8E8E8"></path><path d="M45.6327 28.1539H41.2484V31.7392H46.3414V32.8301H39.9143V22.7134H46.2719V23.8112H41.2484V27.063H45.6327V28.1539Z" fill="#F2F2F2"></path><path d="M51.7124 28.7376H49.3361V32.8301H47.9951V22.7134H51.3442C52.4837 22.7134 53.3592 22.9728 53.9706 23.4916C54.5867 24.0104 54.8947 24.7655 54.8947 25.7568C54.8947 26.3867 54.7233 26.9356 54.3805 27.4035C54.0424 27.8713 53.5699 28.2211 52.9631 28.4527L55.3394 32.7467V32.8301H53.9081L51.7124 28.7376ZM49.3361 27.6467H51.3859C52.0483 27.6467 52.574 27.4753 52.9631 27.1325C53.3568 26.7897 53.5537 26.3311 53.5537 25.7568C53.5537 25.1314 53.3661 24.652 52.9909 24.3185C52.6203 23.985 52.083 23.8159 51.3789 23.8112H49.3361V27.6467Z" fill="#F2F2F2"></path><path d="M60.4811 28.7376H58.1048V32.8301H56.7638V22.7134H60.1128C61.2524 22.7134 62.1278 22.9728 62.7393 23.4916C63.3554 24.0104 63.6634 24.7655 63.6634 25.7568C63.6634 26.3867 63.492 26.9356 63.1492 27.4035C62.8111 27.8713 62.3386 28.2211 61.7318 28.4527L64.1081 32.7467V32.8301H62.6767L60.4811 28.7376ZM58.1048 27.6467H60.1545C60.8169 27.6467 61.3427 27.4753 61.7318 27.1325C62.1255 26.7897 62.3224 26.3311 62.3224 25.7568C62.3224 25.1314 62.1348 24.652 61.7596 24.3185C61.389 23.985 60.8517 23.8159 60.1476 23.8112H58.1048V27.6467Z" fill="#F2F2F2"></path><path d="M73.3215 28.0983C73.3215 29.0896 73.1547 29.9558 72.8212 30.697C72.4877 31.4335 72.0152 31.9963 71.4037 32.3854C70.7923 32.7745 70.0789 32.969 69.2637 32.969C68.4669 32.969 67.7605 32.7745 67.1445 32.3854C66.5284 31.9916 66.049 31.4335 65.7062 30.7109C65.368 29.9836 65.1943 29.1429 65.1851 28.1886V27.4591C65.1851 26.4863 65.3541 25.6271 65.6923 24.8813C66.0304 24.1355 66.5075 23.5657 67.1236 23.172C67.7443 22.7736 68.4531 22.5745 69.2498 22.5745C70.0604 22.5745 70.7738 22.7713 71.3898 23.1651C72.0106 23.5542 72.4877 24.1216 72.8212 24.8674C73.1547 25.6085 73.3215 26.4724 73.3215 27.4591V28.0983ZM71.9943 27.4452C71.9943 26.2455 71.7535 25.326 71.2717 24.6867C70.79 24.0429 70.116 23.7209 69.2498 23.7209C68.4067 23.7209 67.742 24.0429 67.2556 24.6867C66.7739 25.326 66.5261 26.2153 66.5122 27.3549V28.0983C66.5122 29.261 66.7554 30.1758 67.2417 30.8429C67.7327 31.5053 68.4067 31.8365 69.2637 31.8365C70.1253 31.8365 70.7923 31.5238 71.2648 30.8985C71.7373 30.2685 71.9804 29.3675 71.9943 28.1956V27.4452Z" fill="#F2F2F2"></path><path d="M79.0329 28.7376H76.6566V32.8301H75.3156V22.7134H78.6647C79.8042 22.7134 80.6796 22.9728 81.2911 23.4916C81.9072 24.0104 82.2152 24.7655 82.2152 25.7568C82.2152 26.3867 82.0438 26.9356 81.701 27.4035C81.3629 27.8713 80.8904 28.2211 80.2836 28.4527L82.6599 32.7467V32.8301H81.2286L79.0329 28.7376ZM76.6566 27.6467H78.7063C79.3687 27.6467 79.8945 27.4753 80.2836 27.1325C80.6773 26.7897 80.8742 26.3311 80.8742 25.7568C80.8742 25.1314 80.6866 24.652 80.3114 24.3185C79.9408 23.985 79.4035 23.8159 78.6994 23.8112H76.6566V27.6467Z" fill="#F2F2F2"></path><path d="M31.92 72.1701L25.65 76.1701L25.03 72.1701H17.23V52.8501H69.51V72.1701H31.92Z" fill="#F2F2F2"></path><path d="M110.25 51.9299L105.61 54.8799L105.15 51.9299H99.39V31.1299H147.74V51.9299H110.25Z" fill="#F2F2F2"></path><path d="M25.3112 61.0907H21.7865V63.9731H25.881V64.8501H20.714V56.7169H25.8251V57.5995H21.7865V60.2137H25.3112V61.0907Z" fill="white"></path><path d="M30.1989 61.56H28.2885V64.8501H27.2104V56.7169H29.9029C30.8189 56.7169 31.5228 56.9255 32.0143 57.3426C32.5096 57.7597 32.7573 58.3667 32.7573 59.1636C32.7573 59.67 32.6195 60.1113 32.3439 60.4875C32.0721 60.8636 31.6922 61.1447 31.2044 61.3309L33.1148 64.783V64.8501H31.9641L30.1989 61.56ZM28.2885 60.683H29.9364C30.4689 60.683 30.8916 60.5452 31.2044 60.2696C31.5209 59.994 31.6792 59.6254 31.6792 59.1636C31.6792 58.6608 31.5284 58.2754 31.2267 58.0073C30.9288 57.7392 30.4968 57.6032 29.9308 57.5995H28.2885V60.683Z" fill="white"></path><path d="M37.2484 61.56H35.338V64.8501H34.2599V56.7169H36.9523C37.8684 56.7169 38.5722 56.9255 39.0638 57.3426C39.5591 57.7597 39.8067 58.3667 39.8067 59.1636C39.8067 59.67 39.6689 60.1113 39.3934 60.4875C39.1215 60.8636 38.7417 61.1447 38.2538 61.3309L40.1642 64.783V64.8501H39.0135L37.2484 61.56ZM35.338 60.683H36.9858C37.5184 60.683 37.941 60.5452 38.2538 60.2696C38.5704 59.994 38.7286 59.6254 38.7286 59.1636C38.7286 58.6608 38.5778 58.2754 38.2762 58.0073C37.9783 57.7392 37.5463 57.6032 36.9802 57.5995H35.338V60.683Z" fill="white"></path><path d="M47.5712 61.046C47.5712 61.843 47.4371 62.5394 47.169 63.1352C46.9009 63.7273 46.521 64.1798 46.0295 64.4926C45.5379 64.8054 44.9644 64.9618 44.309 64.9618C43.6685 64.9618 43.1006 64.8054 42.6053 64.4926C42.11 64.176 41.7246 63.7273 41.449 63.1464C41.1771 62.5617 41.0375 61.8858 41.03 61.1187V60.5321C41.03 59.7501 41.166 59.0593 41.4378 58.4598C41.7097 57.8602 42.0932 57.4022 42.5885 57.0856C43.0875 56.7654 43.6573 56.6052 44.2978 56.6052C44.9495 56.6052 45.523 56.7635 46.0183 57.08C46.5173 57.3928 46.9009 57.849 47.169 58.4486C47.4371 59.0444 47.5712 59.7389 47.5712 60.5321V61.046ZM46.5043 60.521C46.5043 59.5565 46.3106 58.8173 45.9233 58.3033C45.536 57.7857 44.9942 57.5269 44.2978 57.5269C43.6201 57.5269 43.0857 57.7857 42.6947 58.3033C42.3074 58.8173 42.1081 59.5323 42.097 60.4483V61.046C42.097 61.9808 42.2925 62.7162 42.6835 63.2525C43.0782 63.785 43.6201 64.0513 44.309 64.0513C45.0016 64.0513 45.5379 63.7999 45.9177 63.2972C46.2976 62.7907 46.4931 62.0664 46.5043 61.1242V60.521Z" fill="white"></path><path d="M52.1628 61.56H50.2524V64.8501H49.1743V56.7169H51.8668C52.7829 56.7169 53.4867 56.9255 53.9782 57.3426C54.4735 57.7597 54.7212 58.3667 54.7212 59.1636C54.7212 59.67 54.5834 60.1113 54.3078 60.4875C54.036 60.8636 53.6561 61.1447 53.1683 61.3309L55.0787 64.783V64.8501H53.928L52.1628 61.56ZM50.2524 60.683H51.9003C52.4328 60.683 52.8555 60.5452 53.1683 60.2696C53.4848 59.994 53.6431 59.6254 53.6431 59.1636C53.6431 58.6608 53.4923 58.2754 53.1906 58.0073C52.8927 57.7392 52.4607 57.6032 51.8947 57.5995H50.2524V60.683Z" fill="white"></path><path d="M106.752 40.5389H103.348V43.323H107.303V44.1701H102.312V36.3142H107.249V37.1667H103.348V39.6918H106.752V40.5389Z" fill="white"></path><path d="M111.473 40.9921H109.628V44.1701H108.587V36.3142H111.188C112.072 36.3142 112.752 36.5156 113.227 36.9185C113.705 37.3214 113.945 37.9077 113.945 38.6774C113.945 39.1666 113.812 39.5929 113.545 39.9562C113.283 40.3195 112.916 40.591 112.445 40.7709L114.29 44.1053V44.1701H113.178L111.473 40.9921ZM109.628 40.145H111.22C111.734 40.145 112.143 40.0119 112.445 39.7458C112.75 39.4796 112.903 39.1235 112.903 38.6774C112.903 38.1918 112.758 37.8196 112.466 37.5606C112.178 37.3016 111.761 37.1703 111.214 37.1667H109.628V40.145Z" fill="white"></path><path d="M118.283 40.9921H116.437V44.1701H115.396V36.3142H117.997C118.881 36.3142 119.561 36.5156 120.036 36.9185C120.515 37.3214 120.754 37.9077 120.754 38.6774C120.754 39.1666 120.621 39.5929 120.354 39.9562C120.092 40.3195 119.725 40.591 119.254 40.7709L121.099 44.1053V44.1701H119.988L118.283 40.9921ZM116.437 40.145H118.029C118.543 40.145 118.952 40.0119 119.254 39.7458C119.56 39.4796 119.712 39.1235 119.712 38.6774C119.712 38.1918 119.567 37.8196 119.275 37.5606C118.988 37.3016 118.57 37.1703 118.024 37.1667H116.437V40.145Z" fill="white"></path><path d="M128.253 40.4957C128.253 41.2655 128.124 41.9381 127.865 42.5136C127.606 43.0856 127.239 43.5226 126.764 43.8248C126.29 44.1269 125.736 44.278 125.103 44.278C124.484 44.278 123.935 44.1269 123.457 43.8248C122.978 43.519 122.606 43.0856 122.34 42.5244C122.077 41.9597 121.943 41.3069 121.935 40.5659V39.9993C121.935 39.244 122.067 38.5767 122.329 37.9976C122.592 37.4185 122.962 36.9761 123.441 36.6703C123.923 36.361 124.473 36.2063 125.092 36.2063C125.721 36.2063 126.275 36.3592 126.754 36.6649C127.236 36.9671 127.606 37.4077 127.865 37.9868C128.124 38.5623 128.253 39.2332 128.253 39.9993V40.4957ZM127.223 39.9885C127.223 39.0569 127.036 38.3429 126.662 37.8465C126.288 37.3465 125.764 37.0966 125.092 37.0966C124.437 37.0966 123.921 37.3465 123.543 37.8465C123.169 38.3429 122.977 39.0335 122.966 39.9184V40.4957C122.966 41.3986 123.155 42.109 123.532 42.627C123.914 43.1413 124.437 43.3985 125.103 43.3985C125.772 43.3985 126.29 43.1557 126.656 42.6701C127.023 42.1809 127.212 41.4813 127.223 40.5713V39.9885Z" fill="white"></path><path d="M132.689 40.9921H130.843V44.1701H129.802V36.3142H132.403C133.288 36.3142 133.967 36.5156 134.442 36.9185C134.921 37.3214 135.16 37.9077 135.16 38.6774C135.16 39.1666 135.027 39.5929 134.76 39.9562C134.498 40.3195 134.131 40.591 133.66 40.7709L135.505 44.1053V44.1701H134.394L132.689 40.9921ZM130.843 40.145H132.435C132.949 40.145 133.358 40.0119 133.66 39.7458C133.966 39.4796 134.118 39.1235 134.118 38.6774C134.118 38.1918 133.973 37.8196 133.681 37.5606C133.394 37.3016 132.976 37.1703 132.43 37.1667H130.843V40.145Z" fill="white"></path><path d="M72 51.5499L71.27 46.8499H35.27V13.3899H93.87V46.8499H79.37L72 51.5499ZM36.2 45.9199H72L72.63 50.0199L79.07 45.9199H92.93V14.3099H36.17L36.2 45.9199Z" fill="#E8E8E8"></path><path d="M126.23 89.8701L125.69 86.4201H118.55V65.8301H137.75V86.4201H131.65L126.23 89.8701ZM119.47 85.5001H126.47L126.91 88.3401L131.37 85.5001H136.82V66.7501H119.47V85.5001Z" fill="#E8E8E8"></path><path d="M122.972 68.8044L121.236 70.4177L133.339 83.4423L135.075 81.829L122.972 68.8044Z" fill="#E8E8E8"></path><path d="M133.333 68.8055L121.229 81.8301L122.966 83.4434L135.069 70.4188L133.333 68.8055Z" fill="#E8E8E8"></path><path d="M33.0242 88.76L31.2881 90.3733L43.3913 103.398L45.1274 101.785L33.0242 88.76Z" fill="#E8E8E8"></path><path d="M43.1151 88.8189L31.0247 101.798L32.7548 103.41L44.8452 90.4305L43.1151 88.8189Z" fill="#E8E8E8"></path><path d="M114.08 107.85C113.783 107.851 113.493 107.765 113.245 107.601C112.998 107.437 112.805 107.204 112.69 106.93C109.77 100.12 104.69 100.34 104.59 100.34C104.382 100.373 104.17 100.363 103.966 100.309C103.762 100.256 103.572 100.16 103.408 100.029C103.243 99.8975 103.108 99.7331 103.011 99.5464C102.914 99.3596 102.856 99.1546 102.843 98.9445C102.83 98.7344 102.861 98.5238 102.933 98.3263C103.006 98.1288 103.12 97.9487 103.266 97.7976C103.413 97.6465 103.59 97.5277 103.785 97.4489C103.98 97.3701 104.19 97.3329 104.4 97.3399C104.7 97.3399 111.72 96.9999 115.48 105.76C115.559 105.944 115.601 106.141 115.604 106.341C115.607 106.542 115.57 106.74 115.495 106.926C115.421 107.112 115.311 107.281 115.171 107.424C115.031 107.567 114.864 107.681 114.68 107.76C114.487 107.828 114.284 107.858 114.08 107.85Z" fill="#333333"></path><path d="M53.84 107.85C53.6341 107.849 53.4305 107.808 53.24 107.73C53.0559 107.652 52.8891 107.537 52.7495 107.394C52.6099 107.251 52.5001 107.081 52.4266 106.895C52.3531 106.709 52.3173 106.51 52.3213 106.31C52.3254 106.11 52.3691 105.913 52.45 105.73C56.2 96.9999 63.22 97.2999 63.52 97.3199C63.7188 97.3301 63.9137 97.3797 64.0932 97.466C64.2726 97.5522 64.4331 97.6733 64.5653 97.8223C64.6975 97.9712 64.7987 98.145 64.863 98.3334C64.9273 98.5219 64.9535 98.7212 64.94 98.9199C64.9167 99.3196 64.7367 99.694 64.439 99.9618C64.1412 100.23 63.7499 100.369 63.35 100.35C63.11 100.35 58.11 100.23 55.24 106.93C55.1224 107.204 54.927 107.437 54.6781 107.6C54.4292 107.764 54.1378 107.851 53.84 107.85Z" fill="#333333"></path><path d="M47.28 107.61C46.9583 107.608 46.6454 107.504 46.3866 107.313C46.1277 107.122 45.9361 106.854 45.8394 106.547C45.7426 106.24 45.7458 105.911 45.8483 105.606C45.9509 105.301 46.1475 105.036 46.41 104.85C47.5287 104.102 48.8442 103.703 50.19 103.703C51.5358 103.703 52.8513 104.102 53.97 104.85C54.1475 104.957 54.3012 105.099 54.4217 105.268C54.5423 105.437 54.627 105.628 54.6708 105.831C54.7145 106.033 54.7164 106.243 54.6763 106.446C54.6361 106.649 54.5548 106.842 54.4373 107.013C54.3198 107.184 54.1686 107.329 53.9931 107.439C53.8175 107.549 53.6212 107.622 53.4164 107.654C53.2115 107.686 53.0024 107.675 52.8018 107.623C52.6012 107.57 52.4134 107.478 52.25 107.35C51.6379 106.954 50.9242 106.743 50.195 106.743C49.4657 106.743 48.7521 106.954 48.14 107.35C47.885 107.519 47.586 107.61 47.28 107.61Z" fill="#333333"></path><path d="M48.8101 110.9C48.6253 110.902 48.442 110.868 48.2701 110.8C48.0788 110.729 47.9038 110.621 47.7554 110.481C47.607 110.341 47.4882 110.173 47.4061 109.987C47.324 109.8 47.2802 109.599 47.2775 109.395C47.2747 109.191 47.313 108.989 47.3901 108.8C47.8669 107.674 48.6645 106.714 49.6834 106.038C50.7023 105.362 51.8975 105.001 53.12 105C53.4758 105.058 53.7993 105.241 54.0327 105.516C54.2661 105.791 54.3943 106.139 54.3943 106.5C54.3943 106.861 54.2661 107.209 54.0327 107.484C53.7993 107.759 53.4758 107.942 53.12 108C52.5114 108.003 51.9165 108.181 51.4059 108.513C50.8954 108.844 50.4908 109.315 50.2401 109.87C50.137 110.168 49.9442 110.427 49.6882 110.612C49.4322 110.796 49.1255 110.897 48.8101 110.9Z" fill="#333333"></path><path d="M53.11 112.09C52.922 112.092 52.7353 112.058 52.56 111.99C52.3696 111.918 52.1957 111.809 52.0483 111.669C51.9009 111.529 51.7832 111.36 51.7021 111.174C51.621 110.987 51.5781 110.786 51.576 110.583C51.5739 110.38 51.6127 110.178 51.69 109.99C52.49 107.93 51.91 106.99 51.88 106.99V107.04L54.25 105.15C54.43 105.37 55.93 107.41 54.48 111.15C54.3685 111.423 54.1794 111.658 53.9359 111.825C53.6924 111.992 53.4052 112.084 53.11 112.09Z" fill="#333333"></path><path d="M114 107.62C113.676 107.619 113.362 107.515 113.101 107.322C112.841 107.13 112.649 106.86 112.553 106.551C112.457 106.242 112.462 105.91 112.568 105.604C112.674 105.298 112.874 105.034 113.14 104.85C114.259 104.102 115.574 103.703 116.92 103.703C118.266 103.703 119.581 104.102 120.7 104.85C120.88 104.956 121.036 105.099 121.158 105.268C121.28 105.438 121.366 105.63 121.411 105.834C121.455 106.039 121.457 106.25 121.416 106.455C121.376 106.659 121.293 106.854 121.174 107.025C121.055 107.197 120.901 107.342 120.724 107.452C120.546 107.561 120.347 107.633 120.141 107.663C119.934 107.692 119.723 107.679 119.522 107.623C119.32 107.568 119.133 107.471 118.97 107.34C118.356 106.943 117.641 106.731 116.91 106.731C116.179 106.731 115.464 106.943 114.85 107.34C114.602 107.518 114.305 107.615 114 107.62Z" fill="#333333"></path><path d="M118.28 110.9C117.97 110.897 117.668 110.799 117.414 110.621C117.161 110.442 116.967 110.191 116.86 109.9C116.608 109.346 116.203 108.876 115.693 108.544C115.183 108.213 114.588 108.034 113.98 108.03C113.781 108.033 113.584 107.996 113.4 107.921C113.216 107.847 113.048 107.737 112.906 107.598C112.765 107.458 112.653 107.292 112.576 107.109C112.499 106.925 112.46 106.729 112.46 106.53C112.459 106.328 112.498 106.127 112.575 105.94C112.652 105.754 112.765 105.584 112.909 105.441C113.052 105.299 113.222 105.187 113.41 105.111C113.597 105.035 113.798 104.997 114 105C115.225 105.003 116.422 105.367 117.441 106.046C118.46 106.726 119.256 107.69 119.73 108.82C119.807 109.009 119.845 109.211 119.843 109.415C119.84 109.619 119.796 109.82 119.714 110.006C119.632 110.193 119.513 110.361 119.365 110.501C119.216 110.641 119.041 110.749 118.85 110.82C118.667 110.885 118.473 110.912 118.28 110.9Z" fill="#333333"></path><path d="M114 112.09C113.691 112.089 113.389 111.993 113.136 111.814C112.884 111.635 112.693 111.382 112.59 111.09C111.14 107.37 112.64 105.33 112.81 105.09L115.19 106.98V106.93C115.19 106.93 114.58 107.93 115.38 109.93C115.47 110.16 115.502 110.409 115.474 110.654C115.445 110.899 115.357 111.134 115.217 111.337C115.077 111.54 114.889 111.706 114.67 111.82C114.451 111.934 114.207 111.992 113.96 111.99L114 112.09Z" fill="#333333"></path><path d="M96.63 140.67H72.48C70.8397 140.67 69.51 142 69.51 143.64V143.65C69.51 145.29 70.8397 146.62 72.48 146.62H96.63C98.2703 146.62 99.6 145.29 99.6 143.65V143.64C99.6 142 98.2703 140.67 96.63 140.67Z" fill="#F2F2F2"></path><path d="M104.49 101.28C104.49 87.7699 101.6 85.9999 101.6 85.9999C101.6 85.9999 98 75.0599 92.28 74.7799C88.17 74.5699 86.85 83.7799 86.85 83.7799C84.918 83.5299 82.9619 83.5299 81.03 83.7799C81.03 83.7799 79.71 74.5299 75.6 74.7799C69.88 75.0599 66.28 85.9999 66.28 85.9999C66.28 85.9999 63.39 87.7699 63.39 101.28C63.39 114.79 63.2 119 65.45 123C67.7 127 71.71 130.14 83.94 130.14C96.17 130.14 100.19 127.01 102.44 123C104.69 118.99 104.49 114.78 104.49 101.28Z" fill="white"></path><path d="M104.93 101.28C104.93 91.03 103.27 87.54 102.47 86.45C102.47 98.35 102.62 116.62 100.66 120.1C98.7 123.58 95.15 126.39 84.38 126.39C73.61 126.39 70.09 123.63 68.11 120.1C66.13 116.57 66.29 98.35 66.3 86.45C65.5 87.54 63.83 91.03 63.83 101.28C63.83 114.78 63.64 118.99 65.89 123C68.14 127.01 72.15 130.14 84.38 130.14C96.61 130.14 100.63 127.01 102.88 123C105.13 118.99 104.93 114.78 104.93 101.28Z" fill="#DCDCDC"></path><path d="M83.94 130.6C70.94 130.6 67.2 127.06 65.05 123.22C62.9 119.38 62.92 115.6 62.93 104.22V101.22C62.93 95.57 63.43 91.22 64.4 88.37C64.6576 87.3574 65.1706 86.4278 65.89 85.67C66.34 84.34 69.89 74.54 75.58 74.26C77.51 74.16 79.09 75.76 80.29 79C80.7865 80.3821 81.1645 81.8039 81.42 83.25C83.082 83.0736 84.758 83.0736 86.42 83.25C86.6754 81.8039 87.0535 80.3821 87.55 79C88.74 75.76 90.33 74.16 92.25 74.26C97.94 74.54 101.49 84.34 101.95 85.67C102.665 86.4297 103.174 87.3589 103.43 88.37C104.43 91.24 104.9 95.57 104.9 101.22V104.22C104.9 115.55 104.9 119.37 102.79 123.22C101.536 125.574 99.5187 127.432 97.07 128.49C94 129.91 89.7 130.6 83.94 130.6ZM66.52 86.4C65.8484 87.1296 65.3885 88.0285 65.19 89C64.58 90.91 63.85 94.6 63.85 101.31V104.31C63.85 115.46 63.85 119.22 65.85 122.81C67.85 126.4 71.45 129.72 83.94 129.72C96.43 129.72 100 126.36 102 122.77C104 119.18 104 115.42 104 104.27V101.27C104 94.56 103.27 90.87 102.66 88.96C102 86.87 101.33 86.38 101.32 86.38C101.233 86.3242 101.169 86.239 101.14 86.14C101.14 86.03 97.57 75.49 92.23 75.23H92.12C89.12 75.23 87.63 81.45 87.28 83.88C87.2626 83.9987 87.1995 84.1059 87.1043 84.1787C87.009 84.2516 86.889 84.2843 86.77 84.27C84.8742 84.03 82.9557 84.03 81.06 84.27C81.0008 84.2784 80.9405 84.275 80.8827 84.2599C80.8249 84.2448 80.7707 84.2183 80.7232 84.182C80.6757 84.1457 80.6359 84.1003 80.6062 84.0484C80.5765 83.9966 80.5573 83.9393 80.55 83.88C80.2 81.43 78.62 75.08 75.55 75.24C70.2 75.5 66.67 86.04 66.64 86.15C66.5996 86.2514 66.53 86.3384 66.44 86.4H66.52Z" fill="#333333"></path><path d="M81.09 130.28C81.16 133.79 81.51 136.68 81.57 140.19L81.63 142.29C81.74 143.46 80.35 144 79.14 144.08C78.4217 144.142 77.6979 144.081 77 143.9C76.5839 143.849 76.1924 143.675 75.8754 143.401C75.5583 143.127 75.3302 142.764 75.22 142.36C75.0396 141.863 75.0229 141.321 75.1722 140.814C75.3215 140.306 75.6291 139.86 76.0501 139.54C76.3054 139.35 76.5888 139.202 76.89 139.1C77.0755 139.041 77.2665 139.001 77.46 138.98C77.34 135.69 77.26 133.42 77.14 130.14L81.09 130.28Z" fill="#333333"></path><path d="M87.4199 130.28C87.3599 133.79 87 136.68 86.94 140.19V142.29C86.82 143.46 88.22 144 89.43 144.08C90.1417 144.142 90.8588 144.081 91.55 143.9C91.967 143.852 92.3599 143.679 92.6773 143.404C92.9948 143.13 93.2223 142.766 93.33 142.36C93.5136 141.863 93.532 141.32 93.3825 140.812C93.2329 140.304 92.9234 139.858 92.5 139.54C92.2471 139.346 91.963 139.198 91.66 139.1C91.4775 139.042 91.29 139.002 91.0999 138.98C91.2199 135.69 91.2999 133.42 91.4199 130.14L87.4199 130.28Z" fill="#333333"></path><path d="M84.1099 98.4999C87.5175 98.4999 90.2799 95.7375 90.2799 92.3299C90.2799 88.9223 87.5175 86.1599 84.1099 86.1599C80.7023 86.1599 77.9399 88.9223 77.9399 92.3299C77.9399 95.7375 80.7023 98.4999 84.1099 98.4999Z" fill="#333333"></path><path d="M87.86 93.3201L88.39 93.9501C87.7521 94.6335 87.0374 95.2408 86.26 95.7601L87.86 93.3201Z" fill="white"></path><path d="M85.78 90.3401L85.25 91.2401H86.84L85.78 90.3401Z" fill="white"></path><path d="M80.4399 92.3301H81.1299L82.3999 94.1801C81.959 94.0316 81.5554 93.7894 81.2171 93.47C80.8787 93.1506 80.6136 92.7617 80.4399 92.3301Z" fill="white"></path><path d="M73.51 92.1099C74.6091 92.1099 75.5 91.2189 75.5 90.1199C75.5 89.0208 74.6091 88.1299 73.51 88.1299C72.411 88.1299 71.52 89.0208 71.52 90.1199C71.52 91.2189 72.411 92.1099 73.51 92.1099Z" fill="#333333"></path><path d="M94.71 92.1099C95.809 92.1099 96.7 91.2189 96.7 90.1199C96.7 89.0208 95.809 88.1299 94.71 88.1299C93.6109 88.1299 92.72 89.0208 92.72 90.1199C92.72 91.2189 93.6109 92.1099 94.71 92.1099Z" fill="#333333"></path><path d="M70.71 85.55C70.5597 85.5978 70.3989 85.6013 70.2468 85.5601C70.0946 85.5188 69.9575 85.4346 69.852 85.3175C69.7465 85.2003 69.677 85.0553 69.6518 84.8996C69.6266 84.744 69.6468 84.5844 69.71 84.44C70.71 82.07 72.71 77.91 74.71 77.44C76.93 76.98 77.89 81.31 78.21 83.22C78.2345 83.3343 78.2346 83.4524 78.2102 83.5668C78.1859 83.6811 78.1377 83.789 78.0688 83.8834C77.9999 83.9778 77.9118 84.0566 77.8103 84.1146C77.7089 84.1726 77.5963 84.2085 77.48 84.22C75.1873 84.455 72.9211 84.9002 70.71 85.55Z" fill="#DCDCDC"></path><path d="M96.91 85.55C97.0602 85.5978 97.2211 85.6013 97.3732 85.5601C97.5254 85.5188 97.6624 85.4346 97.768 85.3175C97.8735 85.2003 97.943 85.0553 97.9682 84.8996C97.9934 84.744 97.9732 84.5844 97.91 84.44C96.91 82.07 94.91 77.91 92.91 77.44C90.69 76.98 89.73 81.31 89.42 83.22C89.3921 83.3338 89.3893 83.4522 89.4116 83.5672C89.4339 83.6822 89.4809 83.791 89.5494 83.886C89.6178 83.9811 89.7061 84.0602 89.808 84.1178C89.91 84.1755 90.0233 84.2103 90.14 84.22C92.4328 84.4541 94.6991 84.8993 96.91 85.55Z" fill="#DCDCDC"></path><path d="M122.56 131.51C122.56 131.51 123.39 129.56 122.56 129.16C121.73 128.76 121.56 129.16 121.56 127.95C121.56 126.74 120.75 126.95 120.07 127.19C119.39 127.43 119.53 125.8 119.43 124.28C119.33 122.76 119.43 121.2 118.25 121.4C117.07 121.6 117.33 125.21 117.25 126.68C117.17 128.15 116.25 126.68 115.54 126.92C114.83 127.16 115.22 129.16 115.22 129.16C117.024 129.357 118.79 129.818 120.46 130.53C118.764 129.898 117.008 129.439 115.22 129.16C114.841 129.05 114.434 129.094 114.086 129.281C113.738 129.468 113.478 129.783 113.36 130.16L111.15 137.75C111.04 138.129 111.084 138.536 111.271 138.884C111.458 139.231 111.773 139.492 112.15 139.61C114.296 140.498 116.533 141.149 118.82 141.55C119.201 141.662 119.61 141.621 119.96 141.433C120.31 141.246 120.572 140.929 120.69 140.55L122.89 132.95C122.965 132.702 122.974 132.439 122.916 132.186C122.858 131.934 122.735 131.701 122.56 131.51Z" fill="white"></path><path d="M123.79 134.26L122.94 134.02L122.43 135.7L123.3 135.95C123.392 135.978 123.469 136.04 123.516 136.124C123.563 136.208 123.575 136.307 123.55 136.4L123.04 138.16C123.01 138.25 122.947 138.325 122.863 138.37C122.779 138.415 122.681 138.425 122.59 138.4L121.76 138.16L121.23 139.84L122.1 140.09C122.367 140.168 122.646 140.193 122.922 140.162C123.198 140.132 123.466 140.048 123.709 139.914C123.952 139.78 124.167 139.6 124.341 139.383C124.514 139.166 124.643 138.917 124.72 138.65L125.24 136.89C125.395 136.349 125.329 135.769 125.057 135.276C124.786 134.783 124.33 134.418 123.79 134.26Z" fill="white"></path><path d="M114.22 125.38C115.98 125.23 114.97 122.88 113.63 123.54C112.75 124 112.46 125.53 114.22 125.38Z" fill="white"></path><path d="M122.28 121.31C123.2 121.9 124.19 118.75 123.05 118.56C122.23 118.43 121.36 120.72 122.28 121.31Z" fill="white"></path><path d="M124.36 134.43L123.74 136.23L122.67 135.82L122.94 134.02L124.36 134.43Z" fill="#F2F2F2"></path><path d="M122.92 138.34L122.29 140.14L121.23 139.73L121.5 137.93L122.92 138.34Z" fill="#F2F2F2"></path><path d="M113.36 130.19C113.36 130.19 121.58 132.13 122.93 133.19L120.31 141.19L118.14 141.43L112.14 139.62L111.06 138.26L113.36 130.19Z" fill="#F2F2F2"></path><path d="M119.26 142.1C119.084 142.101 118.909 142.078 118.74 142.03C116.437 141.622 114.184 140.968 112.02 140.08C111.531 139.921 111.122 139.58 110.879 139.127C110.635 138.675 110.574 138.146 110.71 137.65L112.91 130.06C113.061 129.568 113.396 129.154 113.845 128.902C114.293 128.651 114.822 128.582 115.32 128.71C117.638 129.094 119.899 129.766 122.05 130.71C122.537 130.869 122.944 131.209 123.187 131.659C123.431 132.109 123.493 132.636 123.36 133.13L121.15 140.73C121.025 141.135 120.775 141.49 120.435 141.743C120.095 141.997 119.684 142.136 119.26 142.14V142.1ZM114.8 129.56C114.573 129.553 114.35 129.623 114.168 129.759C113.987 129.896 113.857 130.09 113.8 130.31L111.59 137.91C111.546 138.041 111.53 138.18 111.542 138.318C111.554 138.456 111.595 138.59 111.662 138.711C111.729 138.832 111.82 138.938 111.93 139.022C112.039 139.107 112.166 139.167 112.3 139.2C114.415 140.07 116.618 140.711 118.87 141.11C119.001 141.15 119.138 141.162 119.274 141.147C119.41 141.131 119.542 141.088 119.66 141.02C119.781 140.956 119.888 140.869 119.974 140.762C120.06 140.655 120.124 140.532 120.16 140.4L122.37 132.81C122.448 132.543 122.416 132.257 122.283 132.013C122.15 131.77 121.926 131.589 121.66 131.51H121.61C119.513 130.601 117.308 129.962 115.05 129.61H114.99C114.929 129.587 114.865 129.57 114.8 129.56Z" fill="#333333"></path><path d="M122.69 140.63C122.447 140.631 122.204 140.598 121.97 140.53L121.1 140.28C120.981 140.242 120.881 140.16 120.82 140.05C120.775 139.938 120.775 139.812 120.82 139.7L121.35 138.02C121.385 137.906 121.463 137.811 121.568 137.754C121.673 137.698 121.796 137.686 121.91 137.72L122.65 137.93L123.11 136.37L122.33 136.14C122.273 136.123 122.219 136.095 122.173 136.057C122.127 136.019 122.088 135.973 122.06 135.92C122.016 135.808 122.016 135.683 122.06 135.57L122.57 133.88C122.605 133.764 122.684 133.665 122.791 133.607C122.898 133.549 123.023 133.536 123.14 133.57L123.99 133.82C124.317 133.913 124.621 134.071 124.886 134.284C125.15 134.497 125.369 134.761 125.53 135.06C125.699 135.362 125.805 135.694 125.843 136.038C125.881 136.381 125.849 136.729 125.75 137.06L125.24 138.82C125.147 139.145 124.989 139.448 124.776 139.711C124.563 139.974 124.299 140.191 124 140.35C123.598 140.562 123.144 140.659 122.69 140.63ZM121.81 139.53L122.23 139.65C122.652 139.77 123.104 139.719 123.49 139.51C123.681 139.404 123.849 139.26 123.985 139.089C124.12 138.917 124.221 138.721 124.28 138.51L124.79 136.75C124.854 136.542 124.875 136.322 124.851 136.105C124.827 135.889 124.759 135.679 124.65 135.49C124.546 135.297 124.403 135.128 124.232 134.992C124.06 134.856 123.862 134.757 123.65 134.7L123.23 134.58L122.99 135.38L123.41 135.5C123.616 135.561 123.789 135.699 123.894 135.886C123.998 136.073 124.026 136.293 123.97 136.5L123.46 138.26C123.397 138.464 123.258 138.635 123.071 138.738C122.885 138.84 122.666 138.866 122.46 138.81L122.06 138.7L121.81 139.53Z" fill="#333333"></path><path d="M115.03 132.9C115.477 132.9 115.84 132.537 115.84 132.09C115.84 131.643 115.477 131.28 115.03 131.28C114.583 131.28 114.22 131.643 114.22 132.09C114.22 132.537 114.583 132.9 115.03 132.9Z" fill="#333333"></path><path d="M120.31 134.43C120.757 134.43 121.12 134.067 121.12 133.62C121.12 133.173 120.757 132.81 120.31 132.81C119.863 132.81 119.5 133.173 119.5 133.62C119.5 134.067 119.863 134.43 120.31 134.43Z" fill="#333333"></path><path d="M117.64 134.35C118.474 134.35 119.15 133.674 119.15 132.84C119.15 132.006 118.474 131.33 117.64 131.33C116.806 131.33 116.13 132.006 116.13 132.84C116.13 133.674 116.806 134.35 117.64 134.35Z" fill="#333333"></path><path d="M122.56 132C122.479 132.001 122.4 131.98 122.33 131.94C120.104 130.752 117.682 129.976 115.18 129.65C115.081 129.64 114.989 129.598 114.915 129.532C114.841 129.465 114.791 129.377 114.77 129.28C114.65 128.7 114.35 126.79 115.42 126.51C115.84 126.439 116.271 126.536 116.62 126.78L116.78 126.86C116.78 126.86 116.78 126.76 116.78 126.69C116.78 126.44 116.78 126.12 116.78 125.77C116.78 123.77 116.78 121.2 118.12 120.98C118.293 120.943 118.471 120.944 118.644 120.982C118.816 121.02 118.979 121.094 119.12 121.2C119.7 121.67 119.75 122.63 119.8 123.73V124.28C119.8 124.62 119.8 124.96 119.8 125.28C119.802 125.769 119.842 126.257 119.92 126.74C120.158 126.634 120.417 126.584 120.677 126.594C120.937 126.605 121.192 126.675 121.42 126.8C121.611 126.934 121.764 127.115 121.866 127.325C121.967 127.535 122.014 127.767 122 128C121.985 128.176 121.985 128.354 122 128.53H122.14C122.347 128.587 122.548 128.664 122.74 128.76C123.91 129.32 123.13 131.31 122.96 131.7C122.936 131.759 122.899 131.812 122.852 131.855C122.806 131.898 122.75 131.93 122.69 131.95C122.65 131.974 122.606 131.991 122.56 132ZM115.56 128.77C117.893 129.098 120.154 129.815 122.25 130.89C122.44 130.27 122.48 129.69 122.31 129.61C122.16 129.534 122.003 129.474 121.84 129.43C121.18 129.23 121.02 128.95 121.02 127.98C121.02 127.69 120.96 127.57 120.92 127.54C120.88 127.51 120.57 127.54 120.13 127.66C120.017 127.699 119.897 127.711 119.779 127.695C119.661 127.679 119.549 127.637 119.45 127.57C118.99 127.24 118.96 126.43 118.93 125.31C118.93 124.99 118.93 124.66 118.93 124.31V123.74C118.93 123.01 118.85 122.1 118.59 121.89C118.59 121.89 118.5 121.82 118.31 121.89C117.72 121.99 117.73 124.89 117.74 125.78C117.74 126.14 117.74 126.47 117.74 126.78C117.757 126.969 117.726 127.16 117.651 127.334C117.576 127.509 117.459 127.662 117.31 127.78C117.13 127.85 116.935 127.871 116.744 127.843C116.553 127.815 116.373 127.738 116.22 127.62C116.05 127.53 115.79 127.4 115.69 127.43C115.56 127.854 115.533 128.303 115.61 128.74L115.56 128.77Z" fill="#333333"></path><path d="M114 125.85C113.687 125.896 113.368 125.83 113.099 125.664C112.83 125.497 112.628 125.241 112.53 124.94C112.461 124.58 112.512 124.208 112.677 123.88C112.842 123.553 113.11 123.289 113.44 123.13C113.699 122.996 113.992 122.943 114.281 122.978C114.57 123.014 114.842 123.137 115.06 123.33C115.289 123.523 115.458 123.776 115.548 124.061C115.638 124.346 115.646 124.651 115.57 124.94C115.47 125.204 115.293 125.432 115.06 125.593C114.828 125.754 114.552 125.84 114.27 125.84L114 125.85ZM114.11 123.85C114.016 123.852 113.923 123.876 113.84 123.92C113.703 123.983 113.589 124.088 113.514 124.218C113.439 124.349 113.406 124.5 113.42 124.65C113.49 124.92 114.03 124.89 114.19 124.88C114.35 124.87 114.63 124.81 114.69 124.62C114.711 124.504 114.701 124.384 114.661 124.274C114.621 124.163 114.551 124.065 114.46 123.99C114.358 123.911 114.229 123.875 114.1 123.89L114.11 123.85Z" fill="#333333"></path><path d="M122.52 121.84C122.347 121.836 122.178 121.788 122.03 121.7C121.712 121.41 121.5 121.023 121.428 120.599C121.355 120.175 121.426 119.739 121.63 119.36C121.96 118.51 122.55 118.02 123.13 118.11C123.343 118.153 123.537 118.259 123.689 118.414C123.841 118.569 123.942 118.766 123.98 118.98C124.061 119.467 124.02 119.967 123.861 120.434C123.702 120.902 123.43 121.323 123.07 121.66C122.908 121.773 122.717 121.835 122.52 121.84ZM123 119C122.847 119.109 122.718 119.247 122.62 119.407C122.522 119.567 122.457 119.745 122.43 119.93C122.31 120.38 122.36 120.77 122.54 120.93C122.738 120.721 122.892 120.475 122.991 120.205C123.091 119.935 123.135 119.647 123.12 119.36C123.09 119.24 123.06 119 123 119Z" fill="#333333"></path><path d="M108.77 143.64L107.86 141.32H109.51L109.07 136.43L113.65 140.22L115.45 138.42L116.63 140.84L120.67 139.63V141.83L123.3 141.1L122.28 143.64H108.77Z" fill="white"></path><path d="M122.28 144.1H108.77C108.678 144.099 108.588 144.071 108.511 144.02C108.435 143.968 108.375 143.895 108.34 143.81L107.43 141.49C107.396 141.423 107.378 141.35 107.378 141.275C107.378 141.2 107.396 141.126 107.43 141.06C107.473 140.999 107.53 140.95 107.596 140.915C107.662 140.88 107.735 140.861 107.81 140.86H109L108.61 136.47C108.601 136.38 108.619 136.289 108.662 136.209C108.705 136.129 108.77 136.063 108.85 136.02C108.925 135.968 109.014 135.941 109.105 135.941C109.196 135.941 109.285 135.968 109.36 136.02L113.62 139.55L115.12 138.05C115.172 137.996 115.237 137.955 115.308 137.933C115.38 137.91 115.456 137.906 115.53 137.92C115.601 137.932 115.668 137.961 115.725 138.005C115.783 138.048 115.829 138.105 115.86 138.17L116.86 140.24L120.53 139.14C120.599 139.121 120.672 139.118 120.743 139.13C120.813 139.142 120.881 139.169 120.94 139.21C120.995 139.255 121.04 139.311 121.071 139.375C121.102 139.439 121.119 139.509 121.12 139.58V141.18L123.17 140.61C123.253 140.585 123.341 140.584 123.424 140.607C123.507 140.63 123.582 140.676 123.64 140.74C123.694 140.806 123.73 140.885 123.744 140.969C123.758 141.053 123.75 141.14 123.72 141.22L122.72 143.76C122.695 143.858 122.639 143.944 122.559 144.006C122.479 144.068 122.381 144.101 122.28 144.1ZM109.08 143.18H122L122.57 141.8L120.84 142.28C120.77 142.299 120.697 142.302 120.626 142.288C120.554 142.274 120.488 142.244 120.43 142.2C120.374 142.156 120.329 142.1 120.297 142.036C120.266 141.972 120.25 141.901 120.25 141.83V140.25L116.8 141.25C116.697 141.285 116.586 141.281 116.486 141.238C116.386 141.196 116.306 141.118 116.26 141.02L115.36 139.17L114 140.55C113.915 140.627 113.805 140.67 113.69 140.67C113.575 140.67 113.465 140.627 113.38 140.55L109.64 137.46L109.98 141.26C109.988 141.323 109.982 141.386 109.963 141.447C109.944 141.507 109.912 141.563 109.87 141.61C109.827 141.658 109.775 141.696 109.716 141.722C109.658 141.748 109.594 141.761 109.53 141.76H108.53L109.08 143.18Z" fill="#333333"></path><path d="M97.3 89.3499C93.73 89.1799 92.45 87.7299 92.4 87.6699C92.3205 87.5771 92.281 87.4565 92.2904 87.3346C92.2998 87.2127 92.3572 87.0995 92.45 87.0199C92.5429 86.9403 92.6635 86.9009 92.7854 86.9103C92.9073 86.9197 93.0205 86.9771 93.1 87.0699C93.1 87.0699 94.23 88.2799 97.35 88.4299C97.4105 88.4337 97.4696 88.4494 97.524 88.4762C97.5783 88.5029 97.6269 88.5401 97.6668 88.5856C97.7068 88.6311 97.7373 88.6841 97.7568 88.7415C97.7762 88.7988 97.7841 88.8595 97.78 88.9199C97.7775 88.9799 97.763 89.0388 97.7373 89.0931C97.7117 89.1474 97.6754 89.196 97.6307 89.2361C97.586 89.2762 97.5337 89.3069 97.4769 89.3265C97.4201 89.346 97.36 89.354 97.3 89.3499Z" fill="#333333"></path><path d="M70.92 89.3499C70.8023 89.3526 70.6883 89.3091 70.6023 89.2287C70.5163 89.1484 70.4652 89.0375 70.46 88.9199C70.456 88.8594 70.4639 88.7988 70.4833 88.7414C70.5027 88.6841 70.5333 88.6311 70.5732 88.5856C70.6132 88.54 70.6617 88.5028 70.7161 88.4761C70.7705 88.4494 70.8296 88.4337 70.89 88.4299C74.03 88.2799 75.13 87.0799 75.15 87.0699C75.1868 87.0167 75.2344 86.9718 75.2898 86.9383C75.3451 86.9047 75.4068 86.8832 75.471 86.8752C75.5352 86.8671 75.6004 86.8727 75.6622 86.8915C75.7241 86.9103 75.7813 86.942 75.8302 86.9845C75.879 87.0269 75.9183 87.0792 75.9455 87.1379C75.9728 87.1965 75.9873 87.2603 75.9883 87.325C75.9892 87.3896 75.9765 87.4538 75.9509 87.5132C75.9254 87.5727 75.8876 87.626 75.84 87.6699C75.84 87.7299 74.52 89.1799 70.94 89.3499H70.92Z" fill="#333333"></path></svg></div><div class="css-1lvgb89">评论区已关闭</div></div><div class="css-1vjm6vs"></div></div></div></div></div><div role="complementary" aria-label="推荐阅读" class="Recommendations-Main" style="width: 1905px;"><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class="Recommendations-List"><button class="PagingButton PagingButton-Previous" disabled="" data-za-detail-view-path-module="Unknown" data-za-detail-view-path-module_name="推荐阅读" data-za-extra-module="{}"><svg width="40" height="40" viewBox="0 0 24 24" fill="#d3d3d3" class="Zi Zi--ArrowLeft"><path fill-rule="evenodd" d="m10.752 12 4.025-3.78a.684.684 0 0 0 0-1.01.796.796 0 0 0-1.075 0l-4.42 4.15a.866.866 0 0 0 0 1.28l4.42 4.15a.796.796 0 0 0 1.075 0 .684.684 0 0 0 0-1.01L10.752 12Z" clip-rule="evenodd"></path></svg></button><a href="https://zhuanlan.zhihu.com/p/81774784" class="PostItem"><div><img src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-14b850e4eee3d502f4e0d9b3d351f3e1_250x0.jpg" srcset="https://picx.zhimg.com/v2-14b850e4eee3d502f4e0d9b3d351f3e1_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="Python Readability 源码导读"><h1 class="PostItem-Title">Python Readability 源码导读</h1><div class="PostItem-Footer"><span>Angry...</span><span class="PostItem-FooterTitle">发表于爬虫技术学...</span></div></div></a><a href="https://zhuanlan.zhihu.com/p/25104580" class="PostItem"><div><h1 class="PostItem-Title">彻底深刻理解js原型链之prototype,__proto__以及constructor(一)</h1><p class="PostItem-Summary">前言 以下概念请花费一定的时间彻底理解,才能进行下一步,思考题一定要思考,这样才能彻底掌握原型链的知识点,教程中如果有任何的错误不足请指正!由function创造出来的函数,比如: function a(…</p><div class="PostItem-Footer"><span>大米</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="https://zhuanlan.zhihu.com/p/464297149" class="PostItem"><div><img src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-c8214d55e6f876cf6197b585f8d3fe93_250x0.jpg" srcset="https://pic1.zhimg.com/v2-c8214d55e6f876cf6197b585f8d3fe93_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="《Chrome V8 源码》46. BigInt的疑惑"><h1 class="PostItem-Title">《Chrome V8 源码》46. BigInt的疑惑</h1><div class="PostItem-Footer"><span>灰豆</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="https://zhuanlan.zhihu.com/p/379566824" class="PostItem"><div><img src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/v2-cf15aae7b97f30b9eebb7ec79cad2ad9_250x0.jpg" srcset="https://pic1.zhimg.com/v2-cf15aae7b97f30b9eebb7ec79cad2ad9_qhd.jpg?source=172ae18b 2x" class="PostItem-TitleImage" alt="Copy/move elision: C++ 17 vs C++ 11"><h1 class="PostItem-Title">Copy/move elision: C++ 17 vs C++ 11</h1><div class="PostItem-Footer"><span>Crack...</span><span class="PostItem-FooterTitle">发表于C++驿站</span></div></div></a><button class="PagingButton PagingButton-Next" data-za-detail-view-path-module="Unknown" data-za-detail-view-path-module_name="推荐阅读" data-za-extra-module="{}"><svg width="40" height="40" viewBox="0 0 24 24" fill="#d3d3d3" class="Zi Zi--ArrowRight"><path fill-rule="evenodd" d="m13.248 12-4.025 3.78a.684.684 0 0 0 0 1.01.796.796 0 0 0 1.075 0l4.42-4.15a.867.867 0 0 0 0-1.28l-4.42-4.15a.796.796 0 0 0-1.075 0 .684.684 0 0 0 0 1.01L13.248 12Z" clip-rule="evenodd"></path></svg></button></ul></div></div></div></main><div role="complementary"><div class="CornerButtons"><div class="CornerAnimayedFlex"><button data-tooltip="回到顶部" data-tooltip-position="left" data-tooltip-will-hide-on-click="true" aria-label="回到顶部" type="button" class="Button CornerButton Button--plain css-gdd4kf"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="Zi Zi--BackToTop" fill="currentColor"><path fill-rule="evenodd" d="M13.204 3.107a1.75 1.75 0 0 0-2.408 0L3.806 9.73c-1.148 1.088-.378 3.02 1.204 3.02h2.24V20c0 .966.784 1.75 1.75 1.75h6A1.75 1.75 0 0 0 16.75 20v-7.25h2.24c1.582 0 2.353-1.932 1.204-3.02l-6.99-6.623Z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div><script id="js-clientConfig" type="text/json">{"fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","lens":"https:\u002F\u002Flens.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fapi\u002F","walletpay":"https:\u002F\u002Fwalletpay.zhihu.com","captcha":"https:\u002F\u002Fcaptcha.zhihu.com","vzuu":"https:\u002F\u002Fv.vzuu.com","openapi":"https:\u002F\u002Fopenapi.zhihu.com","svip":"https:\u002F\u002Fsvip.zhihu.com"},"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","videoHost":"video.zhihu.com","zhuanlanHost":"zhuanlan.zhihu.com","allowSignUp":true,"refreshValidityPeriod":"30","release":"721-49f562a5","currentEntry":"column","isMobileEntry":false,"apollo":{"env":"prod","globalSilence":"","topstory_rec_adp":"1","test_canary":"member|0-100,1-0","use_new_player":"member|0-50,1-50","player_vendor":"member|0-50,1-50,2-0","use_hevc":"member|0-0,1-100","upload_use_signature":"member|0-0,1-100","use_backdrop_blur":"member|0-70,1-30","article_title_imagex":"member|0-70,1-30","play_station":"member|0-0,1-100"}}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false,"article\u002FloadPostSearchEntity\u002F":false}},"entities":{"users":{"c29982ea4958b35f1d733b99ef5bf579":{"uid":1454038455692562400,"userType":"people","id":"c29982ea4958b35f1d733b99ef5bf579"},"jue-qiang-de-ma-nong-20":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-abed1a8c04700ba7d72b45195223e0ff.jpg?source=172ae18b","uid":"1429824313579507713","userType":"people","isFollowing":false,"urlToken":"jue-qiang-de-ma-nong-20","id":"d55802ef2a3fe4e30fd4338495888e91","description":"","name":"倔强的码农","isAdvertiser":false,"headline":"","gender":-1,"url":"\u002Fpeople\u002Fd55802ef2a3fe4e30fd4338495888e91","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=172ae18b","isOrg":false,"type":"people","badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"972475023013875712","medalName":"有口皆碑","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-eb56655cce39587eedeacb2824f6a116_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-eb56655cce39587eedeacb2824f6a116_l.png?source=172ae18b","description":"获得 50 个赞同","medalAvatarFrame":""}}},"questions":{},"answers":{},"articles":{"420648886":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fcontent_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=BiBUKF0xBSkqGGpfBWh6CVx3AAGOF_uGOiPJ&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__&zid=__ZONEID__"],"entityWords":[{"name":"源代码","mention":"源代码","matchorder":1,"begin":3185,"end":3188,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Unknown","score":0,"attachedInfoBytes":"sgJUCgnmupDku6PnoIESB1Vua25vd24Y8Rgg9BgoATUAAAAAOgdhcnRpY2xlQABIAFIkMWRmMjQyYTItZGIzMy00MjZkLWEzMzctNGNjZjEwZTliMDMx","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libprotobuf","mention":"libprotobuf","matchorder":1,"begin":1492,"end":1503,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgJWCgtsaWJwcm90b2J1ZhIHTWVkaWNhbBjUCyDfCygBNQAAAAA6B2FydGljbGVAAEgAUiQxZGYyNDJhMi1kYjMzLTQyNmQtYTMzNy00Y2NmMTBlOWIwMzE=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"protocol buffer","mention":"protocol buffer","matchorder":1,"begin":1961,"end":1976,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJcCg9wcm90b2NvbCBidWZmZXISCU90aGVyVGVybRipDyC4DygBNQAAAAA6B2FydGljbGVAAEgAUiQxZGYyNDJhMi1kYjMzLTQyNmQtYTMzNy00Y2NmMTBlOWIwMzE=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"repeated","mention":"repeated","matchorder":2,"begin":1239,"end":1247,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJVCghyZXBlYXRlZBIJT3RoZXJUZXJtGNcJIN8JKAI1AAAAADoHYXJ0aWNsZUAASABSJDFkZjI0MmEyLWRiMzMtNDI2ZC1hMzM3LTRjY2YxMGU5YjAzMQ==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"getter","mention":"getter","matchorder":1,"begin":10304,"end":10310,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJTCgZnZXR0ZXISCU90aGVyVGVybRjAUCDGUCgBNQAAAAA6B2FydGljbGVAAEgAUiQxZGYyNDJhMi1kYjMzLTQyNmQtYTMzNy00Y2NmMTBlOWIwMzE=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"by libprotobuf","mention":"by libprotobuf","matchorder":2,"begin":26685,"end":26699,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgJbCg5ieSBsaWJwcm90b2J1ZhIHTWVkaWNhbBi90AEgy9ABKAI1AAAAADoHYXJ0aWNsZUAASABSJDFkZjI0MmEyLWRiMzMtNDI2ZC1hMzM3LTRjY2YxMGU5YjAzMQ==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"正则表达式","mention":"正则表达式","matchorder":1,"begin":39466,"end":39471,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Unknown","score":0,"attachedInfoBytes":"sgJcCg\u002FmraPliJnooajovr7lvI8SB1Vua25vd24YqrQCIK+0AigBNQAAAAA6B2FydGljbGVAAEgAUiQxZGYyNDJhMi1kYjMzLTQyNmQtYTMzNy00Y2NmMTBlOWIwMzE=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"protocol buffers","mention":"protocol buffers","matchorder":1,"begin":2549,"end":2565,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0,"attachedInfoBytes":"sgJbChBwcm90b2NvbCBidWZmZXJzEgdNZWRpY2FsGPUTIIUUKAE1AAAAADoHYXJ0aWNsZUAASABSJDFkZjI0MmEyLWRiMzMtNDI2ZC1hMzM3LTRjY2YxMGU5YjAzMQ==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"required","mention":"required","matchorder":2,"begin":1440,"end":1448,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJVCghyZXF1aXJlZBIJT3RoZXJUZXJtGKALIKgLKAI1AAAAADoHYXJ0aWNsZUAASABSJDFkZjI0MmEyLWRiMzMtNDI2ZC1hMzM3LTRjY2YxMGU5YjAzMQ==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"cpp_out","mention":"cpp_out","matchorder":1,"begin":3746,"end":3753,"entityid":0,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0,"attachedInfoBytes":"sgJUCgdjcHBfb3V0EglPdGhlclRlcm0Yoh0gqR0oATUAAAAAOgdhcnRpY2xlQABIAFIkMWRmMjQyYTItZGIzMy00MjZkLWEzMzctNGNjZjEwZTliMDMx","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""}],"id":420648886,"title":"ProtoBuf 官方文档-（C++开发）教程","type":"article","articleType":"normal","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F420648886","imageUrl":"","titleImage":"","excerpt":"\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-43a4d9979408413ffe3ecf8c1d3008ff_200x112.png\" data-rawwidth=\"672\" data-rawheight=\"516\" data-size=\"normal\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-43a4d9979408413ffe3ecf8c1d3008ff\" data-watermark-src=\"v2-7670c76dff5e12cfb60f582cf0ccdb93\" data-private-watermark-src=\"\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-43a4d9979408413ffe3ecf8c1d3008ff_r.png\" class=\"origin_image inline-img zh-lightbox-thumb\"\u002F\u003E定义你的 protocol 格式 要创建地址簿应用程序，你需要从 .proto 文件开始。.proto 文件中的定义很简单：为要序列化的每个数据结构添加 message 定义，然后为 message 中的每个字段指定名称和类型。下面就是定义相关 message 的 .proto 文件，addressbook.p…","created":1634095059,"updated":1634106625,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-abed1a8c04700ba7d72b45195223e0ff.jpg?source=172ae18b","uid":"1429824313579507713","userType":"people","isFollowing":false,"urlToken":"jue-qiang-de-ma-nong-20","id":"d55802ef2a3fe4e30fd4338495888e91","description":"","name":"倔强的码农","isAdvertiser":false,"headline":"","gender":-1,"url":"\u002Fpeople\u002Fd55802ef2a3fe4e30fd4338495888e91","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=172ae18b","isOrg":false,"type":"people","badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"972475023013875712","medalName":"有口皆碑","avatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-eb56655cce39587eedeacb2824f6a116_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-eb56655cce39587eedeacb2824f6a116_l.png?source=172ae18b","description":"获得 50 个赞同","medalAvatarFrame":""}},"commentPermission":"nobody","copyrightPermission":"reserved","state":"published","ipInfo":"","imageWidth":0,"imageHeight":0,"content":"\u003Cp data-pid=\"cuEHZs-l\"\u003E定义你的 protocol 格式\u003Cbr\u002F\u003E 要创建地址簿应用程序，你需要从 .proto 文件开始。.proto 文件中的定义很简单：为要序列化的每个数据结构添加 message 定义，然后为 message 中的每个字段指定名称和类型。下面就是定义相关 message 的 .proto 文件，addressbook.proto。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-7670c76dff5e12cfb60f582cf0ccdb93_b.jpg\" data-rawwidth=\"672\" data-rawheight=\"516\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"672\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-7670c76dff5e12cfb60f582cf0ccdb93_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;672&#39; height=&#39;516&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"672\" data-rawheight=\"516\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"672\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-7670c76dff5e12cfb60f582cf0ccdb93_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-7670c76dff5e12cfb60f582cf0ccdb93_b.jpg\" data-original-token=\"v2-43a4d9979408413ffe3ecf8c1d3008ff\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"E9sUBNQz\"\u003E如你所见，语法类似于 C++ 或 Java。让我们浏览文件的每个部分，看看它们的作用。\u003Cbr\u002F\u003E .proto 文件以 package 声明开头，这有助于防止不同项目之间的命名冲突。在 C++ 中，生成的类将放在与包名匹配的 namespace （命名空间）中。\u003Cbr\u002F\u003E 接下来，你将看到相关的 message 定义。message 只是包含一组类型字段的集合。许多标准的简单数据类型都可用作字段类型，包括 bool、int32、float、double 和 string。你还可以使用其他 message 类型作为字段类型在消息中添加更多结构 - 在上面的示例中，Person 包含 PhoneNumber message ，而 AddressBook 包含 Person message。你甚至可以定义嵌套在其他 message 中的 message 类型 -​​ 如你所见，PhoneNumber 类型在 Person 中定义。如果你希望其中一个字段具有预定义的值列表中的值，你还可以定义枚举类型 - 此处你指定（枚举）电话号码，它的值可以是 MOBILE，HOME 或 WORK 之一。\u003Cbr\u002F\u003E 每个元素上的 &#34;=1&#34;，&#34;=2&#34; 标记表示该字段在二进制编码中使用的唯一 “标记”。标签号 1-15 比起更大数字需要少一个字节进行编码，因此以此进行优化，你可以决定将这些标签用于常用或重复的元素，将标记 16 和更高的标记留给不太常用的可选元素。repeated 字段中的每个元素都需要重新编码 Tag，因此 repeated 字段特别适合使用此优化。\u003Cbr\u002F\u003E  译者注：\u003Cbr\u002F\u003E“repeated 字段中的每个元素都需要重新编码 Tag”，指的应该是 string 等类型的 repeated 字段。\u003Cbr\u002F\u003E \u003Cbr\u002F\u003E 必须使用以下修饰符之一注释每个字段：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"nmEYo8yI\"\u003E\u003Cb\u003Erequired\u003C\u002Fb\u003E: 必须提供该字段的值，否则该消息将被视为“未初始化”。如果是在调试模式下编译 libprotobuf，则序列化一个未初始化的 message 将将导致断言失败。在优化的构建中，将跳过检查并始终写入消息。但是，解析未初始化的消息将始终失败（通过从解析方法返回 false）。除此之外，required 字段的行为与 optional 字段完全相同。\u003C\u002Fli\u003E\u003Cli data-pid=\"VGXRBfIi\"\u003E\u003Cb\u003Eoptional\u003C\u002Fb\u003E: 可以设置也可以不设置该字段。如果未设置可选字段值，则使用默认值。对于简单类型，你可以指定自己的默认值，就像我们在示例中为电话号码类型所做的那样。否则，使用系统默认值：数字类型为 0，字符串为空字符串，bools 为 false。对于嵌入 message，默认值始终是消息的 “默认实例” 或 “原型”，其中没有设置任何字段。调用访问器以获取尚未显式设置的 optional（或 required）字段的值始终返回该字段的默认值。\u003C\u002Fli\u003E\u003Cli data-pid=\"dpnwCFBx\"\u003E\u003Cb\u003Erepeated\u003C\u002Fb\u003E: 该字段可以重复任意次数（包括零次）。重复值的顺序将保留在 protocol buffer 中。可以将 repeated 字段视为动态大小的数组。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"TvObDkXt\"\u003E  对于 required 类型你应该时时刻刻留意，将字段设置为 required 类型是一个值得谨慎思考的事情。如果你希望在某个时刻停止写入或发送 required 字段，则将字段更改为 optional 字段会有问题 - 旧读者会认为没有此字段的邮件不完整，可能会无意中拒绝或删除这些消息。你应该考虑为你的 buffers 编写特定于应用程序的自定义验证例程。谷歌的一些工程师得出的结论是，使用 required 弊大于利;他们更喜欢只使用 optional 和 repeated。但是，这种观点还未得到普及。\u003Cbr\u002F\u003E \u003Cbr\u002F\u003E 你可以在 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fwww.jianshu.com\u002Fp\u002F6f68fb2c7d19\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EProtocol Buffer 语法指南\u003C\u002Fa\u003E 中找到编写 \u003Ccode\u003E.proto\u003C\u002Fcode\u003E 文件（包括所有可能的字段类型）的完整指南。不要去寻找类似于类继承的工具（设计），protocol buffers 不会这样做。\u003Cbr\u002F\u003E 编译你的 Protocol Buffers\u003Cbr\u002F\u003E 既然你已经有了一个 \u003Ccode\u003E.proto\u003C\u002Fcode\u003E 文件，那么你需要做的下一件事就是生成你需要读写\u003Ccode\u003EAddressBook\u003C\u002Fcode\u003E（以及 \u003Ccode\u003EPerson\u003C\u002Fcode\u003E 和 \u003Ccode\u003EPhoneNumber\u003C\u002Fcode\u003E ） message 所需的类。为此，你需要在 \u003Ccode\u003E.proto\u003C\u002Fcode\u003E 上运行 protocol buffer 编译器 \u003Ccode\u003Eprotoc\u003C\u002Fcode\u003E：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Col\u003E\u003Cli data-pid=\"25SpdyrD\"\u003E如果尚未安装编译器，请 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Fdownloads.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E下载软件包\u003C\u002Fa\u003E 并按照 README 文件中的说明进行操作。\u003C\u002Fli\u003E\u003Cli data-pid=\"_Yj2F9_S\"\u003E现在运行编译器，指定源目录（应用程序的源代码所在的位置 - 如果不提​​供值，则使用当前目录），目标目录（你希望生成代码的目标目录;通常与源目录 \u003Ccode\u003E$SRC_DIR\u003C\u002Fcode\u003E 相同），以及 \u003Ccode\u003E.proto\u003C\u002Fcode\u003E 的路径。在这种情况下，你可以执行如下命令：\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-9ce999bdcda79dd978ad2875c9f5d7ae_b.png\" data-rawwidth=\"657\" data-rawheight=\"57\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"657\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-9ce999bdcda79dd978ad2875c9f5d7ae_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;657&#39; height=&#39;57&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"657\" data-rawheight=\"57\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"657\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-9ce999bdcda79dd978ad2875c9f5d7ae_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-9ce999bdcda79dd978ad2875c9f5d7ae_b.png\" data-original-token=\"v2-9ce999bdcda79dd978ad2875c9f5d7ae\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"vR64XUqM\"\u003E因为你需要 C ++ 类，所以使用 \u003Ccode\u003E--cpp_out\u003C\u002Fcode\u003E 选项 - 当然，为其他支持的语言也提供了类似的选项。\u003Cbr\u002F\u003E 这将在指定的目标目录中生成以下文件：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"zVYJU6Am\"\u003E\u003Ccode\u003Eaddressbook.pb.h\u003C\u002Fcode\u003E： 类声明的头文件\u003C\u002Fli\u003E\u003Cli data-pid=\"AAHjwcQv\"\u003E\u003Ccode\u003Eaddressbook.pb.cc\u003C\u002Fcode\u003E：类实现\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"l8hzqpNT\"\u003EThe Protocol Buffer API\u003Cbr\u002F\u003E 让我们看看一些生成的代码，看看编译器为你创建了哪些类和函数。如果你查看　addressbook.pb.h，你会发现你在 addressbook.proto 中指定的每条 message 都有一个对应的类。仔细观察 Person 类，你可以看到编译器已为每个字段生成了访问器。例如，对于 name ，id，email 和 phone 字段，你可以使用以下方法：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-cpp\"\u003E \u003Cspan class=\"c1\"\u003E\u002F\u002F required name\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Ebool\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Ehas_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eclear_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eset_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eset_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Echar\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emutable_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F required id\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Ebool\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Ehas_id\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eclear_id\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint32_t\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eset_id\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint32_t\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F optional email\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Ebool\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Ehas_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eclear_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eemail\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eset_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eset_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Echar\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Evalue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emutable_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F repeated phones\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Ephones_size\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eclear_phones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Egoogle\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprotobuf\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ERepeatedPtrField\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson_PhoneNumber\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ephones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Egoogle\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprotobuf\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ERepeatedPtrField\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson_PhoneNumber\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emutable_phones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson_PhoneNumber\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ephones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eindex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson_PhoneNumber\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emutable_phones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eindex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kr\"\u003Einline\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson_PhoneNumber\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eadd_phones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"QNLqlCUs\"\u003E如你所见，getter 的名称与小写字段完全相同，setter 方法以 set_ 开头。每个单数（required 或 optional）字段也有 has_ 方法，如果设置了该字段，则返回 true。最后，每个字段都有一个 clear_ 方法，可以将字段重新设置回 empty 状态。\u003Cbr\u002F\u003E 虽然数字 id 字段只有上面描述的基本访问器集，但是 name 和 email 字段因为是字符串所以有几个额外的方法：一个 mutable_ 的 getter，它允许你获得一个指向字符串的直接指针，以及一个额外的 setter。请注意，即使尚未设置 email ，也可以调用 mutable_email()；它将自动初始化为空字符串。如果在这个例子中你有一个单数的 message 字段，它也会有一个 mutable_ 方法而不是 set_ 方法。\u003Cbr\u002F\u003E repeated 字段也有一些特殊的方法 - 如果你看一下 repeated phones 字段的相关方法，你会发现你可以：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"O36LTLOz\"\u003E检查 repeated 字段长度（换句话说，与此人关联的电话号码数）\u003C\u002Fli\u003E\u003Cli data-pid=\"ZNYbhrRQ\"\u003E使用索引获取指定的电话号码\u003C\u002Fli\u003E\u003Cli data-pid=\"OXza_Nyr\"\u003E更新指定索引处的现有电话号码\u003C\u002Fli\u003E\u003Cli data-pid=\"XoSp4puN\"\u003E在 message 中添加另一个电话号码同时之后也可进行再修改（repeated 的标量类型有一个 add_，而且只允许你传入新值）\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"xVuzypXU\"\u003E 有关 protocol 编译器为任何特定字段定义生成的确切成员的详细信息，请参阅 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp-generated\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EC++ 生成代码参考\u003C\u002Fa\u003E。\u003Cbr\u002F\u003E 枚举和嵌套类\u003Cbr\u002F\u003E 生成的代码包含与你的 .proto 枚举对应的 PhoneType 枚举。你可以将此类型称为 Person::PhoneType，其值为 Person::MOBILE，Person::HOME 和 Person::WORK（实现细节稍微复杂一些，但你如果仅仅只是使用不需要理解里面的实现原理）。\u003Cbr\u002F\u003E 编译器还为你生成了一个名为 Person::PhoneNumber 的嵌套类。如果查看代码，可以看到 “真实” 类实际上称为 Person_PhoneNumber，但在 Person 中定义的 typedef 允许你将其视为嵌套类。唯一会造成一点差异的情况是，如果你想在另一个文件中前向声明该类 - 你不能在 C ++ 中前向声明嵌套类型，但你可以前向声明 Person_PhoneNumber。\u003Cbr\u002F\u003E 标准 Message 方法\u003Cbr\u002F\u003E 每个 message 类还包含许多其他方法，可用于检查或操作整个 message，包括：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"Ixu6qjni\"\u003E\u003Ccode\u003Ebool IsInitialized() const;\u003C\u002Fcode\u003E: 检查是否已设置所有必填 required 字段\u003C\u002Fli\u003E\u003Cli data-pid=\"RQvFn_tA\"\u003E\u003Ccode\u003Estring DebugString() const;\u003C\u002Fcode\u003E: 返回 message 的人类可读表达，对调试特别有用\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp class=\"ztext-empty-paragraph\"\u003E\u003Cbr\u002F\u003E\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"ReA1WSay\"\u003E\u003Ccode\u003Evoid CopyFrom(const Person&amp; from);\u003C\u002Fcode\u003E: 用给定的 message 的值覆盖 message\u003C\u002Fli\u003E\u003Cli data-pid=\"T1A_rj0z\"\u003E\u003Ccode\u003Evoid Clear();\u003C\u002Fcode\u003E: 将所有元素清除回 empty 状态\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"ioE3Wk2J\"\u003E 这些和下一节中描述的 I\u002FO 方法实现了所有 C++ protocol buffer 类共享的 \u003Ccode\u003EMessage\u003C\u002Fcode\u003E 接口。更多的更详细的有关信息，请参阅 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EMessage 的完整 API 文档\u003C\u002Fa\u003E。\u003Cbr\u002F\u003E 解析和序列化\u003Cbr\u002F\u003E 最后，每个 protocol buffer 类都有使用 protocol buffer \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fwww.jianshu.com\u002Fp\u002F82ff31c6adc6\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E二进制格式\u003C\u002Fa\u003E 读写所选类型 message 的方法。包括：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"Z-KIG-qV\"\u003E\u003Ccode\u003Ebool SerializeToString(string* output) const;\u003C\u002Fcode\u003E:序列化消息并将字节存储在给定的字符串中。请注意，字节是二进制的，而不是文本;我们只使用 \u003Ccode\u003Estring\u003C\u002Fcode\u003E 类作为方便的容器。\u003C\u002Fli\u003E\u003Cli data-pid=\"HBjsAIWo\"\u003E\u003Ccode\u003Ebool ParseFromString(const string&amp; data);\u003C\u002Fcode\u003E: 解析给定字符串到 message\u003C\u002Fli\u003E\u003Cli data-pid=\"ooLTeClF\"\u003E\u003Ccode\u003Ebool SerializeToOstream(ostream* output) const;\u003C\u002Fcode\u003E: 将 message 写入给定的 C++ 的 ostream\u003C\u002Fli\u003E\u003Cli data-pid=\"mR0NZF5H\"\u003E\u003Ccode\u003Ebool ParseFromIstream(istream* input);\u003C\u002Fcode\u003E: 解析给定 C++ istream 到 message\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"MvJ3P2Hl\"\u003E 这些只是解析和序列化提供的几个选项。请参阅 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EMessage API 参考\u003C\u002Fa\u003E 以获取完整列表。\u003Cbr\u002F\u003E  Protocol Buffers 和 O-O 设计的 Protocol Buffers 类基本上是 dumb data 持有者（如 C 中的结构）; 他们没有在对象模型中成为优秀的一等公民。如果要为生成的类添加更丰富的行为，最好的方法是将生成的 Protocol Buffers 类包装在特定于应用程序的类中。如果你无法控制 .proto 文件的设计（如果你正在重用另一个项目中的一个），那么包装 Protocol Buffers 的类也是一个好主意。在这种情况下，你可以使用包装器类来创建更适合应用程序的独特环境的接口：隐藏一些数据和方法，公开便利功能等。永远不应该通过继承它们来为生成的类添加行为。这将打破内部机制，无论如何这都不是良好的面向对象的实践。\u003Cbr\u002F\u003E 译者注：对象模型设计原则之一：使用组合代替继承\u003Cbr\u002F\u003E \u003Cbr\u002F\u003E 写入一个 Message\u003Cbr\u002F\u003E 现在让我们尝试使用你的 Protocol Buffer 类。你希望地址簿应用程序能够做的第一件事可能是将个人详细信息写入的地址簿文件。为此，你需要创建并填充 Protocol Buffer 类的实例，然后将它们写入输出流。\u003Cbr\u002F\u003E 这是一个从文件中读取 AddressBook 的程序，根据用户输入向其添加一个新 Person，并将新的 AddressBook 重新写回文件。其中直接调用或引用 protocol 编译器生成的代码部分将高亮显示。\u003Cbr\u002F\u003E  译者注：\u003Cbr\u002F\u003E“直接调用或引用 protocol 编译器生成的代码部分” 采用注释 ＠＠＠ 的方式标出\u003Cbr\u002F\u003E\u003Cbr\u002F\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-cpp\"\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&lt;iostream&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&lt;fstream&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&lt;string&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&#34;addressbook.pb.h&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eusing\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enamespace\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F This function fills in a Person message based on user input.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EPromptForAddress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Enter person ID number: &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Ecin\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&gt;&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_id\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Ecin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eignore\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E256\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"sc\"\u003E&#39;\\n&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Enter name: &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Egetline\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emutable_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E());\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Enter email address (blank for none): &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eemail\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"n\"\u003Egetline\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eemail\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eemail\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eempty\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eemail\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ewhile\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Enter a phone number (or leave blank to finish): &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enumber\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Egetline\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enumber\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enumber\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eempty\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ebreak\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ Person::PhoneNumber\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E    \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPhoneNumber\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eadd_phones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_number\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enumber\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Is this a mobile, home, or work phone? &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Estring\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Egetline\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecin\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;mobile&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ Person\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E      \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_type\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EMOBILE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;home&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ Person\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E      \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_type\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EHOME\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etype\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;work&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ Person\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E      \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_type\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EWORK\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Unknown phone type.  Using default.&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F Main function:  Reads the entire address book from a file,\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F   adds one person based on user input, then writes it back out to the same\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F   file.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Emain\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargc\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Echar\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[])\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F Verify that the version of the library that we linked against is\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F compatible with the version of the headers we compiled against.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EGOOGLE_PROTOBUF_VERIFY_VERSION\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eargc\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ecerr\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Usage:  &#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34; ADDRESS_BOOK_FILE&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ AddressBook\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EAddressBook\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F Read the existing address book.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E    \u003Cspan class=\"n\"\u003Efstream\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebinary\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;: File not found.  Creating a new file.&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ ParseFromIstream\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EParseFromIstream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecerr\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Failed to parse address book.&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F Add an address.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EPromptForAddress\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eadd_people\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E());\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F Write the new address book back to disk.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E    \u003Cspan class=\"n\"\u003Efstream\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etrunc\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebinary\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ SerializeToOstream\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ESerializeToOstream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecerr\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Failed to write address book.&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F Optional:  Delete all global objects allocated by libprotobuf.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F ＠＠＠ ShutdownProtobufLibrary\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003Egoogle\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprotobuf\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EShutdownProtobufLibrary\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"C7dkE5Qr\"\u003E请注意 GOOGLE_PROTOBUF_VERIFY_VERSION 宏。在使用 C++ Protocol Buffer 库之前执行此宏是一种很好的做法 - 尽管不是绝对必要的。它验证你没有意外链接到与你编译的头文件不兼容的库版本。如果检测到版本不匹配，程序将中止。请注意，每个 .\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=http%3A\u002F\u002Fpb.cc\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttp:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Epb.cc\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E 文件在启动时都会自动调用此宏。\u003Cbr\u002F\u003E 另请注意在程序结束时调用 ShutdownProtobufLibrary()。所有这一切都是删除 Protocol Buffer 库分配的所有全局对象。对于大多数程序来说这是不必要的，因为该过程无论如何都要退出，并且操作系统将负责回收其所有内存。但是，如果你使用了内存泄漏检查程序，该程序需要释放每个最后对象，或者你正在编写可以由单个进程多次加载和卸载的库，那么你可能希望强制使用 Protocol Buffers 来清理所有内容。\u003C\u002Fp\u003E\u003Ch2\u003E读取一个 Message\u003C\u002Fh2\u003E\u003Cp data-pid=\"bjyRLT_I\"\u003E当然，如果你无法从中获取任何信息，那么地址簿就不会有多大用处！此示例读取上面示例创建的文件并打印其中的所有信息\u003C\u002Fp\u003E\u003Cp class=\"ztext-empty-paragraph\"\u003E\u003Cbr\u002F\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-cpp\"\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&lt;iostream&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&lt;fstream&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&lt;string&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E#include\u003C\u002Fspan\u003E \u003Cspan class=\"cpf\"\u003E&#34;addressbook.pb.h&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"cp\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Eusing\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Enamespace\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Estd\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F Iterates though all people in the AddressBook and prints info about them.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Evoid\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003EListPeople\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EAddressBook\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Epeople_size\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E++\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Epeople\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Person ID: &#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;  Name: &#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ehas_email\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;  E-mail address: &#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eemail\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ephones_size\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E++\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPhoneNumber\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eperson\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ephones\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ej\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n      \u003Cspan class=\"k\"\u003Eswitch\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003EMOBILE\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;  Mobile phone #: &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ebreak\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003EHOME\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;  Home phone #: &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ebreak\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EPerson\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"nl\"\u003EWORK\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;  Work phone #: &#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"k\"\u003Ebreak\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecout\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ephone_number\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enumber\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E\u002F\u002F Main function:  Reads the entire address book from a file and prints all\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u002F\u002F   the information inside.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Emain\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kt\"\u003Eint\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargc\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"kt\"\u003Echar\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[])\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F Verify that the version of the library that we linked against is\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"c1\"\u003E\u002F\u002F compatible with the version of the headers we compiled against.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EGOOGLE_PROTOBUF_VERIFY_VERSION\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eargc\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E!=\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ecerr\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Usage:  &#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34; ADDRESS_BOOK_FILE&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"n\"\u003Etutorial\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EAddressBook\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"c1\"\u003E\u002F\u002F Read the existing address book.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E    \u003Cspan class=\"n\"\u003Efstream\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eargv\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E|\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eios\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebinary\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EParseFromIstream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E&amp;\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"n\"\u003Ecerr\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"s\"\u003E&#34;Failed to parse address book.&#34;\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E&lt;&lt;\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eendl\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"n\"\u003EListPeople\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eaddress_book\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E);\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"c1\"\u003E\u002F\u002F Optional:  Delete all global objects allocated by libprotobuf.\n\u003C\u002Fspan\u003E\u003Cspan class=\"c1\"\u003E\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003Egoogle\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eprotobuf\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E::\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EShutdownProtobufLibrary\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E();\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E}\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"ArhLUViO\"\u003E扩展一个 Protocol Buffer\u003Cbr\u002F\u003E 在发布使用 protocol buffer 的代码之后，无疑早晚有一天你将会想要 “改进” protocol buffer 的定义。如果你希望你的新 buffer 向后兼容，并且你的旧 buffer 是向前兼容的（实际上你一定想要这种兼容性） - 那么你需要遵循一些规则。在新版本的 protocol buffer 中：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"Feei50t4\"\u003E你不得更改任何现有字段的字段编号\u003C\u002Fli\u003E\u003Cli data-pid=\"k3emLZL6\"\u003E你不得添加或删除任何 required 字段\u003C\u002Fli\u003E\u003Cli data-pid=\"xVNCCaag\"\u003E你可以删除 optional 或 repeated 的字段\u003C\u002Fli\u003E\u003Cli data-pid=\"VjMXeMQl\"\u003E你可以添加新的 optional 或 repeated 字段，但必须使用新的标记号（即从未在此协议缓冲区中使用的编号，甚至包括那些已删除的字段的编号）\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"2UNQ-QfZ\"\u003E （这些规则有一些 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Fproto%2523updating\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E例外\u003C\u002Fa\u003E，但它们很少使用）。\u003Cbr\u002F\u003E 如果你遵循这些规则，旧代码将很乐意阅读新消息并简单地忽略任何新字段。对于旧代码，已删除的可选字段将只具有其默认值，删除的重复字段将为空。新代码也将透明地读取旧消息。但是，请记住旧的 message 中不会出现新的可选字段，因此你需要明确通过调用  has_ 方法来检查它们是否被设置，或者在字段编号后面使用 [default = value] 在 .proto 文件中提供合理的默认值。如果未为 optional 元素指定默认值，则使用特定于类型的默认值：对于字符串，默认值为空字符串。对于布尔值，默认值为 false。对于数字类型，默认值为零。另请注意，如果添加了新的 repeated 字段，则新代码将无法判断它是否为空（通过新代码）或从未设置（通过旧代码），因为它没有 has_ 标志。\u003Cbr\u002F\u003E 优化技巧\u003Cbr\u002F\u003E C++ Protocol Buffers 已经做了极大优化。但是，正确使用可以进一步提高性能。以下是压榨最后一点速度的一些提示和技巧：\u003Cbr\u002F\u003E \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"KrOfuqIb\"\u003E尽可能重用 message 对象。message 会为了重用尝试保留它们分配的任何内存，即使它们被清除。因此，如果你连续处理具有相同类型和类似结构的许多 message，则每次重新使用相同的 message 对象来加载内存分配器是个好主意。但是，随着时间的推移，对象会变得臃肿，特别是如果你的 message 在 “形状” 上有所不同，或者你偶尔构造的 message 比平时大得多。你应该通过调用 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message.SpaceUsed.details\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ESpaceUsed\u003C\u002Fa\u003E 方法来监控邮件对象的大小，一旦它们变得太大就删除它们。\u003C\u002Fli\u003E\u003Cli data-pid=\"I9_gSeN9\"\u003E你的系统内存分配器可能没有针对从多个线程分配大量小对象这种情况进行良好优化。请尝试使用 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fgithub.com%252Fgperftools%252Fgperftools\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EGoogle 的 tcmalloc\u003C\u002Fa\u003E。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"1cbq0q6F\"\u003E 高级用法\u003Cbr\u002F\u003E Protocol buffers 的用途不仅仅是简单的访问器和序列化。请务必浏览 C++ API 参考，以了解你可以使用它们做些什么。\u003Cbr\u002F\u003E Protocol buffers 类提供的一个关键特性是反射。你可以迭代 message 的字段并操纵它们的值，而无需针对任何特定的 message 类型编写代码。使用反射的一种非常有用的应用是将 protocol messages 转换为其他编码，例如 XML 或 JSON。更高级的反射用法可能是找到两个相同类型的 message 之间的差异，或者开发一种 “protocol messages 的正则表达式”，你可以在其中编写与某些 message 内容匹配的表达式。如果你运用自己的想象力，可以将 Protocol Buffers 应用于比你最初预期更广泛的问题！\u003Cbr\u002F\u003E 反射由 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Flinks.jianshu.com\u002Fgo%3Fto%3Dhttps%253A%252F%252Fdevelopers.google.com%252Fprotocol-buffers%252Fdocs%252Freference%252Fcpp%252Fgoogle.protobuf.message.html%2523Message.Reflection\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EMessage::Reflection 接口\u003C\u002Fa\u003E. 提供。\u003C\u002Fp\u003E","adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19564722","type":"topic","id":"19564722","name":"protobuf"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19584970","type":"topic","id":"19584970","name":"C++"}],"voteupCount":1,"voting":0,"heavyUpStatus":"allow_heavy_up","commentCount":0,"contributions":[],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"favlistsCount":8,"isNormal":true,"status":0,"shareText":"ProtoBuf 官方文档-（C++开发）教程 - 来自知乎专栏，作者: 倔强的码农 https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F420648886 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":false,"reason":"因作者设置，评论已关闭"},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":1,"hasColumn":false,"republishers":[],"isNewLinkCard":true,"emojiReaction":{"cryFaceCount":0,"cryFaceHasSet":false,"hugCount":0,"hugHasSet":false,"likeCount":1,"likeHasSet":false,"onlookerCount":0,"onlookerHasSet":false},"abParam":{"qaHiddenVoteup":"1"},"attachedInfo":"kgIkCgkxODE2MDc3NTMSCTQyMDY0ODg4NhgHIgpJTUFHRV9URVhU","shareGuide":{"hasPositiveBubble":false,"hasTimeBubble":false,"hitShareGuideCluster":false},"settings":{"tableOfContents":{"enabled":false}},"canReference":false,"reactionInstruction":{}}},"columns":{},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"zvideos":{},"zvideoContributions":{},"briefs":{},"eduCourses":{}},"currentUser":"c29982ea4958b35f1d733b99ef5bf579","account":{"lockLevel":{},"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false},"cardUserInfo":{"vipInfo":{}},"handleWidget":{},"widgetList":[],"userWidgetId":""},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{},"infinity":{},"batchUsers":{},"profileInfinity":null},"env":{"ab":{"config":{"params":[],"experiments":[],"chains":[],"encodedParams":"CjwbAD8ARwC0AGkBagF0ATsCzALXAtgCtwPWBFEFiwWMBZ4FMQbrBicHdAh5CPQJawq+CnELhwvlC+YL+AwSHgAAAAABAQAAAAAAAAQBAAABAQAAAAYDAAAAAAAAAA=="},"triggers":{}},"abV2":{"config":{"paramMap":{"in_editor_title":{"value":"1","abId":"rl-pineditor_title-1"},"ws_pc_route":{"value":"0"},"pm_new_task":{"value":"0"},"ws_invite":{"value":"0"},"ws_rec":{"value":"0"}},"abMap":{"rl-pineditor_title-1":{"abId":"rl-pineditor_title-1","layerId":"rl-pineditor_title","diversionType":2}}},"triggers":{}},"userAgent":{"Edge":false,"IE":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Quark":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"WxMiniProgram":false,"BaiduMiniProgram":false,"QQMiniProgram":false,"JDMiniProgram":false,"isWebView":false,"isMiniProgram":false,"origin":"Mozilla\u002F5.0 (X11; Linux x86_64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F103.0.0.0 Safari\u002F537.36"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F420648886","query":{},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F420648886","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"beijing":true,"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false,"oppoSearch":false,"baiduSearch":false,"googleSearch":false,"shenma":false,"miniProgram":false,"xiaomi":false},"theme":"light","appHeaderTheme":{"current":"normal","disable":true,"normal":{"bgColor":"GBK99A"},"custom":{"bgColor":"GBK99A"}},"enableShortcut":true,"referer":"https:\u002F\u002Fwww2.bing.com\u002F","xUDId":"AIAe75fvzhSPTpeNw8WYbUTCwgHWLCTfJt8=","mode":"ssr","conf":{},"xTrafficFreeOrigin":"","ipInfo":{"cityName":"北京","countryName":"中国","regionName":"北京","countryCode":"CN"},"logged":true,"vars":{"passThroughHeaders":{}}},"me":{"columnContributions":[]},"label":{"recognizerLists":{}},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0}},"customPromotion":{"itemLists":{}},"recommend":{"recommendTimes":{}}},"explore":{},"rightsStatus":{},"levelUpperLimit":10,"mcn":{},"videoSupport":{},"textBenefit":{},"mcnManage":{},"tasks":{},"recentlyCreated":[],"announcement":{},"bannerList":[],"creatorsRecommendInfo":{}},"creators":{"bayesDomains":{"status":{},"options":{"topDomains":null,"allDomains":null,"editable":0},"contents":null},"school":{"tabs":[],"contents":[],"banner":null,"entities":{}},"faq":{"tabs":[],"article":{}},"knowledgeIncome":{},"safeguardRights":{},"analytics":{"all":{},"answer":{},"zvideo":{},"article":{},"pin":{},"singleContent":{}},"account":{"growthLevel":{}},"KMResource":{},"training":{},"ToolsQuestion":{"goodatTopics":[]},"ToolsHotspot":{"domains":[]},"ToolsSearchQuestion":{},"editorSetting":{},"MCNManage":{},"knowledgeTasks":{},"incomeAnalysis":{"income":{"aggregation":{}}},"creationManage":{"editModal":{"status":false}},"activity":{},"announcement":{},"home":{"currentCreatorUrlToken":null,"rights":[],"newRights":[],"applyStatus":{},"scoreInfo":{},"menusShowControlByServer":{"bVipRecomend":false,"creationRelationship":false},"newTasks":{"creatorTask":{"tasks":[],"des":[]}}}},"answers":{"voters":{},"copyrightApplicants":{},"favlists":{},"newAnswer":{},"entityWords":{},"concernedUpvoters":{},"simpleConcernedUpvoters":{},"paidContent":{},"settings":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{},"concernedUpvoters":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotList":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]},"hotDaily":{"data":[],"paging":{}},"hotHighlight":{"isFetching":false,"isDrained":false,"data":[],"paging":{}},"banner":{},"commercialBanner":{"show":false,"banner":{},"trackData":{}},"video":{"items":[],"next":null,"isLoading":false,"isDrained":false}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[],"contributionInvitation":null},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"userProfit":{"permission":{"permissionStatus":{"zhiZixuan":0,"recommend":-1,"task":0,"plugin":0,"infinity":0},"visible":false}},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[],"lists":{},"banners":{},"protocolStatus":{"isAgreedNew":true,"isAgreedOld":true},"probationCountdownDays":0},"zvideos":{"campaignVideoList":{},"campaigns":{},"tagoreCategory":[],"recommendations":{},"insertable":{},"recruit":{"form":{"platform":"","nickname":"","followerCount":"","domain":"","contact":""},"submited":false,"ranking":[]},"qyActivityData":{},"talkActivityData":{},"party2022ActivityData":{},"batchVideos":{},"contribution":{"selectedContribution":null,"campaign":null,"configs":{},"contributionLists":{},"recommendQuestions":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]},"questionSearchResults":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]}},"creationReferences":{},"zvideoCollection":{},"zvideoGrant":{},"collectData":{"isFetching":false,"list":[]},"videoSource":{"isLoaded":false}},"republish":{},"commentPermission":{},"creatorRightStatus":{"list":[]},"adPromotion":{"answer":{},"article":{}}},"fetchHost":"www.zhihu.com","subAppName":"column","spanName":"Post","canaryConfig":{"test_canary":"0","use_new_player":"1","player_vendor":"1","use_hevc":"1","upload_use_signature":"1","use_backdrop_blur":"0","article_title_imagex":"0"}}</script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/vendor.8551e0b87fc43b2e5529.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/react.production.min.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/react-dom.production.min.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/react-dom-server.browser.production.min.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/runtime.app.7c5038017dcf17d5f66e.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/lib-2ec050f6.app.d775035239add1474147.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/lib-29107295.app.a5891096834538104d7e.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/lib-79b5cf47.app.7ec9842ac1b68669fb3a.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/lib-330004dc.app.0392aba96165d5f92d6c.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/lib-0e5ce61e.app.6d8a39a9f40142a4724c.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/5459.app.9d5586c01c265c2677c2.js"></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/column.app.53d9a84092165f45bf26.js"></script><script defer="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/aria.js" id="ariascripts" wapforceoldfixed="false" loaddata="false"></script><script src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/hm.js" async=""></script><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/zap.js"></script><div><div style="display: none;"><i>想来知乎工作？请发送邮件到 jobs@zhihu.com</i></div></div><script src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/push.js"></script><div><div><div class="css-8pdeid"></div></div></div><script crossorigin="" src="./ProtoBuf 官方文档-（C++开发）教程 - 知乎_files/emoticon.js"></script></body></html>