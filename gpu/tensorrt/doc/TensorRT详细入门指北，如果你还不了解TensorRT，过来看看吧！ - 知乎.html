<!DOCTYPE html>
<!-- saved from url=(0038)https://zhuanlan.zhihu.com/p/371239130 -->
<html lang="zh" data-hairline="true" class="itcauecng" data-theme="light" data-rh="data-theme"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=10,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><meta data-rh="true" name="keywords" content="NVIDIA（英伟达）,GPU 通用计算,TensorRT"><meta data-rh="true" name="description" content="好久不见各位！想我不？ 经历了五一还有点后遗症，感觉还没有休息够，时间过得太快了啊啊啊。 希望大家也能及时调整工作状态，搞起来搞起来！ 为了更方便地搞起来，早点进入状态。老潘为大家准备了TensorRT入门指…"><meta data-rh="true" property="og:title" content="TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！"><meta data-rh="true" property="og:url" content="https://zhuanlan.zhihu.com/p/371239130"><meta data-rh="true" property="og:description" content="好久不见各位！想我不？ 经历了五一还有点后遗症，感觉还没有休息够，时间过得太快了啊啊啊。 希望大家也能及时调整工作状态，搞起来搞起来！ 为了更方便地搞起来，早点进入状态。老潘为大家准备了TensorRT入门指…"><meta data-rh="true" property="og:image" content="https://pic1.zhimg.com/v2-20e9dccf8f84cf17507eeab4e52e9a00_720w.jpg?source=172ae18b"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="og:site_name" content="知乎专栏"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.81060cab.png" sizes="152x152"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-120.d5793cac.png" sizes="120x120"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-76.7abf3393.png" sizes="76x76"><link data-rh="true" rel="apple-touch-icon" href="https://static.zhihu.com/heifetz/assets/apple-touch-icon-60.362a8eac.png" sizes="60x60"><link crossorigin="" rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/heifetz/favicon.ico"><link crossorigin="" rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/heifetz/search.xml" title="知乎"><link rel="dns-prefetch" href="https://static.zhimg.com/"><link rel="dns-prefetch" href="https://pica.zhimg.com/"><link rel="dns-prefetch" href="https://picx.zhimg.com/"><link rel="dns-prefetch" href="https://pic1.zhimg.com/"><link rel="dns-prefetch" href="https://pic2.zhimg.com/"><link rel="dns-prefetch" href="https://pic3.zhimg.com/"><link rel="dns-prefetch" href="https://pic4.zhimg.com/"><link rel="dns-prefetch" href="https://static.zhihu.com/"><style data-emotion-css="9mvwt1">:root{--zhc-padding-horizontal:20px;--zhc-padding-vertical:16px;--zhc-notification-top:75px;--app-padding:16px;--app-header-height:52px;--app-max-width:640px;--app-width:1000px;--app-font-size:15px;}</style><script nonce="" data-web-reporter-config="{&quot;platform&quot;:&quot;web&quot;,&quot;project&quot;:&quot;heifetz&quot;}">!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).webReporter={})}(this,function(e){"use strict";var t={},n=!1,o=function(){var e,o,r,a,i;return n||(e=document.querySelector("script[data-web-reporter-config]"),o=e&&e.dataset.webReporterConfig||"{}",r=JSON.parse(o),a=r.platform,i=r.project,t={platform:a,project:i},n=!0),t};function r(e){return a(function(){return localStorage.getItem(e)})()}function a(e){return function(){try{return e.apply(void 0,arguments)}catch(e){}}}var i=a(function(e,t){var n={platform:"web",project:o().project,clientTimestamp:+new Date};!function(e,t,n){"1"===r("weber:logenabled")&&console.log("[web-reporter]%o",{type:e,base:t,data:n})}(e,n,t),function(e,t){var n=btoa(JSON.stringify(t));if("undefined"!=typeof Blob&&window.navigator&&window.navigator.sendBeacon){var o=new Blob([n],{type:"text/plain"});navigator.sendBeacon(e,o)}else{var r=new XMLHttpRequest;r.open("POST",e),r.withCredentials=!1,r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(n)}}(r("weber:api")||"https://apm.zhihu.com/collector/web_json",{type:e,base:n,data:t})});e.report=i,Object.defineProperty(e,"__esModule",{value:!0})});
</script><link href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/3555.216a26f4.eadefe8d5e828d4e99e7.css" crossorigin="" rel="stylesheet"><link href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/column.216a26f4.2c6bc29d03f98e987815.css" crossorigin="" rel="stylesheet"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/user-hover-card.216a26f4.0e3930e2ffc649f7ed8b.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/GoodsRecommendGoodsCardList.216a26f4.d95ce79191cdf8d7ac28.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/report_modals.216a26f4.370935343bb8c3bca346.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/632.216a26f4.763aa082a89da06da92e.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/ECommerceAd.216a26f4.c90979d08ed65b86fc8f.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/1468.216a26f4.101bb14a2c1d8d20b744.css" crossorigin="anonymous"><link rel="stylesheet" type="text/css" href="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/EditableV2.216a26f4.6c9301eaad8df7e50cb2.css" crossorigin="anonymous"><script nonce="">!function(){"use strict";!function(e,n){var r=[];function t(e){return function(){r.push([e,arguments])}}n.Raven={captureException:t("captureException"),captureMessage:t("captureMessage"),captureBreadcrumb:t("captureBreadcrumb")};var a,o,c,i,s,u="undefined"!=typeof DOMError;function d(e){var n=e instanceof Error||e instanceof ErrorEvent||u&&e instanceof DOMError||e instanceof DOMException;Raven.captureException(n?e:new Error(e.message||e.reason))}n.addEventListener("unhandledrejection",d),n.addEventListener("error",d,!0),a=e.src,o=e,c=function(){r.forEach(function(e){var n;(n=Raven)[e[0]].apply(n,e[1])}),n.removeEventListener("unhandledrejection",d),n.removeEventListener("error",d,!0)},i=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("script")).crossOrigin=o.crossOrigin,s.dataset.sentryConfig=o["data-sentry-config"],s.onload=c,s.src=a,i.appendChild(s)}({"defer":true,"crossOrigin":"anonymous","src":"https://unpkg.zhimg.com/@cfe/sentry-script@1.3.1/dist/init.js","data-sentry-config":"{\"dsn\":\"https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224\",\"sampleRate\":0.1,\"release\":\"1345-57d55824\",\"ignoreErrorNames\":[\"NetworkError\",\"SecurityError\"],\"ignoreErrorsPreset\":\"ReactApp\",\"tags\":{\"app_name\":\"heifetz\"}}"},window)}();
</script><script crossorigin="anonymous" data-sentry-config="{&quot;dsn&quot;:&quot;https://2d8d764432cc4f6fb3bc78ab9528299d@crash2.zhihu.com/1224&quot;,&quot;sampleRate&quot;:0.1,&quot;release&quot;:&quot;1345-57d55824&quot;,&quot;ignoreErrorNames&quot;:[&quot;NetworkError&quot;,&quot;SecurityError&quot;],&quot;ignoreErrorsPreset&quot;:&quot;ReactApp&quot;,&quot;tags&quot;:{&quot;app_name&quot;:&quot;heifetz&quot;}}" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/init.js"></script><style data-emotion-css="55n9hh">.css-55n9hh{position:fixed;top:0;right:0;left:0;z-index:101;display:none;height:2px;pointer-events:none;background:#1772F6;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}</style><style data-emotion-css="1l12z7y">.css-1l12z7y{box-shadow:0px 16px 32px rgba(0,0,0,0.04);}</style><style data-emotion-css="1hlrcxk">.css-1hlrcxk{-webkit-transition-property:fill;transition-property:fill;-webkit-transition-duration:0.25s;transition-duration:0.25s;-webkit-transition-timing-function:ease-in;transition-timing-function:ease-in;}</style><style data-emotion-css="icip60">.css-icip60{border-radius:2px;}</style><style data-emotion-css="fnnb9l">.css-fnnb9l{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#ffffff;width:30px;height:30px;border-radius:2px;}</style><style data-emotion-css="78p1r9">.css-78p1r9{box-sizing:border-box;margin:0;min-width:0;margin-left:auto;margin-right:auto;max-width:690px;margin-top:0;}@media screen and (min-width:40em){.css-78p1r9{margin-top:1em;}}</style><style data-emotion-css="1xa1hik">.css-1xa1hik{position:relative;padding-bottom:56%;height:0;border-radius:inherit;}</style><style data-emotion-css="1h1xzpn">.css-1h1xzpn{box-sizing:border-box;margin:0;min-width:0;position:relative;padding-bottom:56%;height:0;border-radius:inherit;}</style><style data-emotion-css="1ld0bim">.css-1ld0bim{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;}</style><style data-emotion-css="uodor8">.css-uodor8{border-radius:50%;}</style><style data-emotion-css="1syywx2">.css-1syywx2{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#ffffff;width:38px;height:38px;border-radius:50%;}</style><style data-emotion-css="1cd9gw4">.css-1cd9gw4{margin-left:.3em;}</style><style data-emotion-css="z4ujak">.css-z4ujak{color:#8491a5;}</style><style data-emotion-css="1od93p9">.css-1od93p9{margin-top:16px;position:relative;}</style><style data-emotion-css="376mun">.css-376mun{position:relative;display:inline;}</style><style data-emotion-css="dg64xe">.css-dg64xe .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(248,248,250,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-dg64xe .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-dg64xe .FileLinkCard-info{margin-left:12px;}.css-dg64xe .FileLinkCard-name{color:#191B1F;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-dg64xe .FileLinkCard-meta{color:#9196a1;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-dg64xe .FileLinkCard-source{white-space:pre;}.css-dg64xe img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}.css-dg64xe img.content_image[data-size="normal"],.css-dg64xe img.origin_image[data-size="normal"]{width:100%;max-width:100%;}.css-dg64xe img.content_image[data-size="small"],.css-dg64xe img.origin_image[data-size="small"]{width:320px;max-width:100%;}</style><style data-emotion-css="1vqsdx1">.css-1vqsdx1 .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#f8f8fa;}.css-1vqsdx1 .LinkCard.new,.css-1vqsdx1 .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1vqsdx1 .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-1vqsdx1 .LinkCard.new .LinkCard-contents .loading{height:14px;background:#ebeced;border-radius:7px;}.css-1vqsdx1 .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-1vqsdx1 .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#191B1F;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-1vqsdx1 .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-1vqsdx1 .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#9196a1;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1vqsdx1 .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#373a40;}.css-1vqsdx1 .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#9196a1;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-1vqsdx1 .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-1vqsdx1 .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(196,199,206,0.3);}.css-1vqsdx1 .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-1vqsdx1 .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-1vqsdx1 .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#ebeced;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-1vqsdx1 .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ebeced;color:#c4c7ce;}.css-1vqsdx1 .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#9196a1;}.css-1vqsdx1 .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-1vqsdx1 .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-1vqsdx1 .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#373a40;}.css-1vqsdx1 .LinkCard.new .LinkCard-richText .text{color:#373a40;}.css-1vqsdx1 .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-1vqsdx1 .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-1vqsdx1 .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-1vqsdx1 .LinkCard.old,.css-1vqsdx1 .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(248,248,250,0.88);color:#c4c7ce;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#ebeced;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#ebeced;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-1vqsdx1 .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}</style><style data-emotion-css="yxro2d">.css-yxro2d .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-yxro2d .LinkCard.old,.css-yxro2d .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-yxro2d .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(248,248,250,0.88);color:#c4c7ce;}.css-yxro2d .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#ebeced;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-yxro2d .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#ebeced;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-yxro2d .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-yxro2d .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#f8f8fa;}.css-yxro2d .LinkCard.new,.css-yxro2d .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-yxro2d .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-yxro2d .LinkCard.new .LinkCard-contents .loading{height:14px;background:#ebeced;border-radius:7px;}.css-yxro2d .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-yxro2d .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#191B1F;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yxro2d .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-yxro2d .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-yxro2d .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-yxro2d .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-yxro2d .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#9196a1;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yxro2d .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#373a40;}.css-yxro2d .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#9196a1;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-yxro2d .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-yxro2d .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(196,199,206,0.3);}.css-yxro2d .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-yxro2d .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-yxro2d .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#ebeced;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-yxro2d .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ebeced;color:#c4c7ce;}.css-yxro2d .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#9196a1;}.css-yxro2d .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-yxro2d .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-yxro2d .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#373a40;}.css-yxro2d .LinkCard.new .LinkCard-richText .text{color:#373a40;}.css-yxro2d .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-yxro2d .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-yxro2d .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(248,248,250,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-yxro2d .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-yxro2d .FileLinkCard-info{margin-left:12px;}.css-yxro2d .FileLinkCard-name{color:#191B1F;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-yxro2d .FileLinkCard-meta{color:#9196a1;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-yxro2d .FileLinkCard-source{white-space:pre;}.css-yxro2d img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}.css-yxro2d img.content_image[data-size="normal"],.css-yxro2d img.origin_image[data-size="normal"]{width:100%;max-width:100%;}.css-yxro2d img.content_image[data-size="small"],.css-yxro2d img.origin_image[data-size="small"]{width:320px;max-width:100%;}</style><style data-emotion-css="jflero animation-1yvu044">.css-jflero{word-break:break-word;line-height:1.6;}.css-jflero > [data-first-child]{margin-top:0;}.css-jflero > :last-child{margin-bottom:0;}.css-jflero h1,.css-jflero h2{clear:left;margin-top:calc((1.4em * 2) / 1.2);margin-bottom:calc(1.4em / 1.2);font-size:1.2em;line-height:1.5;font-weight:600;}.css-jflero h3,.css-jflero h4,.css-jflero h5,.css-jflero h6{clear:left;margin-top:calc((1.4em * 1.5) / 1.1);margin-bottom:calc(1.4em / 1.1);font-size:1.1em;line-height:1.5;font-weight:600;}.css-jflero u{-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid #373a40;}.css-jflero b{font-weight:600;}.css-jflero sup{font-size:0.8em;}.css-jflero sup[data-draft-type='reference']{color:#09408e;}.css-jflero a:focus{outline:none;-webkit-transition:box-shadow 0.3s;transition:box-shadow 0.3s;}html[data-focus-visible] .css-jflero a:focus{box-shadow:0 0 0 2px #ffffff,0 0 0 4px rgba(23,114,246,0.3);}.css-jflero a.ztext-link,.css-jflero a.internal,.css-jflero a.external{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;border-bottom:1px solid #81858f;}.css-jflero a.ztext-link:hover,.css-jflero a.internal:hover,.css-jflero a.external:hover{color:#09408e;border-bottom:1px solid #09408e;}.css-jflero a.ztext-link > .ellipsis::after,.css-jflero a.internal > .ellipsis::after,.css-jflero a.external > .ellipsis::after{content:'...';}.css-jflero a.ztext-link > .invisible,.css-jflero a.internal > .invisible,.css-jflero a.external > .invisible{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;}.css-jflero a.ztext-link u,.css-jflero a.internal u,.css-jflero a.external u{border:none;}.css-jflero a.member_mention{color:#09408e;}.css-jflero a.member_mention:hover{border-bottom:1px solid #09408e;}.css-jflero a.UserLink-link{color:#09408e;}.css-jflero a.UserLink-link:hover{border-bottom:1px solid #09408e;}.css-jflero p{margin:1.4em 0;}.css-jflero p.ztext-empty-paragraph{margin:calc((2.8em- (1.4em * 2 + 1.6em)) / 2) 0;}.css-jflero p.ztext-empty-paragraph + .ztext-empty-paragraph{margin:1.4em 0;}.css-jflero hr{margin:4em auto;width:240px;max-width:100%;border:none;border-top:1px solid #c4c7ce;}.css-jflero img[eeimg]{max-width:100%;vertical-align:middle;}.css-jflero img[eeimg="1"]{margin:0 3px;max-width:calc(100% - 6px);display:inline-block;}.css-jflero img[eeimg="2"]{margin:1.4em auto;display:block;}.css-jflero blockquote{margin:1.4em 0;padding-left:1em;color:#535861;border-left:3px solid #c4c7ce;}.css-jflero ol,.css-jflero ul{margin:1.4em 0;padding:0;width:100%;}.css-jflero ol ol,.css-jflero ul ol,.css-jflero ol ul,.css-jflero ul ul{margin:0;}.css-jflero ol li::before,.css-jflero ul li::before{width:1em;}.css-jflero ol > ol,.css-jflero ul > ol,.css-jflero ol > ul,.css-jflero ul > ul{padding-left:1em;box-sizing:border-box;}.css-jflero ul>li{display:table;width:100%;list-style:none;}.css-jflero ul>li::before{display:table-cell;content:'•  ';white-space:pre;}.css-jflero ol{counter-reset:ol;}.css-jflero ol > li{display:table;width:100%;list-style:none;}.css-jflero ol > li::before{display:table-cell;text-align:right;counter-increment:ol;content:counter(ol) '. ';white-space:pre;}.css-jflero ol ol{counter-reset:ol2;}.css-jflero ol ol li::before{counter-increment:ol2;content:counter(ol2) '. ';}.css-jflero ol ol ol{counter-reset:ol3;}.css-jflero ol ol ol li::before{counter-increment:ol3;content:counter(ol3) '. ';}.css-jflero ol ol ol ol{counter-reset:ol4;}.css-jflero ol ol ol ol li::before{counter-increment:ol4;content:counter(ol4) '. ';}.css-jflero figure{margin:1.4em 0;}.css-jflero figure .content_image,.css-jflero figure .origin_image{margin:0 auto;}.css-jflero figure figcaption{margin-top:calc(0.6em / 0.9);padding:0 1em;font-size:0.9em;line-height:1.5;text-align:center;color:#9196a1;}.css-jflero figure + figure{margin-top:calc(1.4em * 1.6);}.css-jflero figure[data-size='small'],.css-jflero figure:not([data-size]) > [data-size='small']{clear:both;}.css-jflero figure[data-size='left'],.css-jflero figure:not([data-size]) > [data-size='left']{float:left;margin:0 20px 20px 0;max-width:33%;}.css-jflero figure[data-size='right'],.css-jflero figure:not([data-size]) > [data-size='right']{float:right;margin:0 0 20px 20px;max-width:33%;}.css-jflero figure[data-size='collapse']{margin-bottom:0;}.css-jflero figure[data-size='collapse'] + figure{margin-top:0;}.css-jflero .content_image,.css-jflero .origin_image{display:block;max-width:100%;height:auto;margin:1.4em auto;}.css-jflero .content_image[data-size='small'],.css-jflero .origin_image[data-size='small']{max-width:40%;}.css-jflero .content_image.zh-lightbox-thumb,.css-jflero .origin_image.zh-lightbox-thumb{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}.css-jflero code{margin:0 2px;padding:3px 4px;border-radius:3px;font-family:Menlo,Monaco,Consolas,'Andale Mono','lucida console','Courier New',monospace;font-size:0.9em;background-color:#f8f8fa;}.css-jflero pre{margin:1.4em 0;padding:calc(0.8em / 0.9);font-size:0.9em;word-break:initial;word-wrap:initial;white-space:pre;overflow:auto;-webkit-overflow-scrolling:touch;background:#f8f8fa;border-radius:4px;}.css-jflero pre code{margin:0;padding:0;font-size:inherit;border-radius:0;background-color:inherit;}.css-jflero li pre{white-space:pre-wrap;}.css-jflero table[data-draft-type='table']{border-collapse:collapse;font-size:15px;margin:1.4em auto;max-width:100%;table-layout:fixed;text-align:left;width:100%;}.css-jflero table[data-draft-type='table'][data-size='small']{min-width:260px;width:40%;}.css-jflero table[data-draft-type='table'][data-row-style='striped'] tr:nth-of-type(2n + 1){background:#f8f8fa;}.css-jflero table[data-draft-type='table'] td,.css-jflero table[data-draft-type='table'] th{border:1px solid #c4c7ce;line-height:24px;height:24px;padding:3px 12px;}.css-jflero table[data-draft-type='table'] th{background:#ebeced;color:#191B1F;font-weight:500;}.css-jflero .video-box,.css-jflero .link-box{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:1.4em 0;overflow:auto;white-space:normal;cursor:pointer;border:solid 1px #ebeced;border-radius:4px;}.css-jflero .lazy[data-lazy-status]{background-color:#f8f8fa;}.css-jflero .lazy[data-lazy-status="ok"]{background-color:transparent;-webkit-animation:animation-1yvu044 0.5s ease-in;animation:animation-1yvu044 0.5s ease-in;}.css-jflero .highlight{margin:1em 0;}.css-jflero .highlight pre{margin:0;}.css-jflero .highlight .hll{background-color:#f8f8fa;}.css-jflero .highlight .c{font-style:italic;color:#9196a1;}.css-jflero .highlight .err{color:#D95350;}.css-jflero .highlight .k{font-weight:600;}.css-jflero .highlight .o{font-weight:600;}.css-jflero .highlight .cm{font-style:italic;color:#9196a1;}.css-jflero .highlight .cp{font-weight:600;color:#9196a1;}.css-jflero .highlight .c1{font-style:italic;color:#9196a1;}.css-jflero .highlight .cs{font-style:italic;font-weight:600;color:#9196a1;}.css-jflero .highlight .gd{color:#F05159;}.css-jflero .highlight .ge{font-style:italic;}.css-jflero .highlight .gr{color:#D95350;}.css-jflero .highlight .gh{color:#9196a1;}.css-jflero .highlight .gi{color:#12b370;}.css-jflero .highlight .go{color:#81858f;}.css-jflero .highlight .gp{color:#535861;}.css-jflero .highlight .gs{font-weight:600;}.css-jflero .highlight .gu{color:#9196a1;}.css-jflero .highlight .gt{color:#D95350;}.css-jflero .highlight .kc{font-weight:600;}.css-jflero .highlight .kd{font-weight:600;}.css-jflero .highlight .kn{font-weight:600;}.css-jflero .highlight .kp{font-weight:600;}.css-jflero .highlight .kr{font-weight:600;}.css-jflero .highlight .kt{font-weight:600;color:#09408e;}.css-jflero .highlight .m{color:#1772F6;}.css-jflero .highlight .s{color:#D95350;}.css-jflero .highlight .na{color:#1772F6;}.css-jflero .highlight .nb{color:#1772F6;}.css-jflero .highlight .nc{font-weight:600;color:#09408e;}.css-jflero .highlight .no{color:#1772F6;}.css-jflero .highlight .ni{color:#6A5FF3;}.css-jflero .highlight .ne{font-weight:600;color:#D95350;}.css-jflero .highlight .nf{font-weight:600;color:#D95350;}.css-jflero .highlight .nn{color:#535861;}.css-jflero .highlight .nt{color:#09408e;}.css-jflero .highlight .nv{color:#1772F6;}.css-jflero .highlight .ow{font-weight:600;}.css-jflero .highlight .w{color:#adb1b7;}.css-jflero .highlight .mf{color:#1772F6;}.css-jflero .highlight .mh{color:#1772F6;}.css-jflero .highlight .mi{color:#1772F6;}.css-jflero .highlight .mo{color:#1772F6;}.css-jflero .highlight .sb{color:#D95350;}.css-jflero .highlight .sc{color:#D95350;}.css-jflero .highlight .sd{color:#D95350;}.css-jflero .highlight .s2{color:#D95350;}.css-jflero .highlight .se{color:#D95350;}.css-jflero .highlight .sh{color:#D95350;}.css-jflero .highlight .si{color:#D95350;}.css-jflero .highlight .sx{color:#D95350;}.css-jflero .highlight .sr{color:#A5542F;}.css-jflero .highlight .s1{color:#D95350;}.css-jflero .highlight .ss{color:#D95350;}.css-jflero .highlight .bp{color:#9196a1;}.css-jflero .highlight .vc{color:#1772F6;}.css-jflero .highlight .vg{color:#1772F6;}.css-jflero .highlight .vi{color:#1772F6;}.css-jflero .highlight .il{color:#1772F6;}.css-jflero .highlight::-webkit-scrollbar{width:6px;height:6px;}.css-jflero .highlight::-webkit-scrollbar-thumb:horizontal{background-color:rgba(25,27,31,0.5);border-radius:6px;}.css-jflero .highlight::-webkit-scrollbar-thumb:horizontal:hover{background-color:rgba(25,27,31,0.6);}.css-jflero .LinkCard.old{position:relative;display:block;margin:1em auto;width:390px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;}.css-jflero .LinkCard.old,.css-jflero .LinkCard.old:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-jflero .LinkCard-ecommerceLoadingCard{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-radius:inherit;height:80px;box-sizing:border-box;background:rgba(248,248,250,0.88);color:#c4c7ce;}.css-jflero .LinkCard-ecommerceLoadingCardAvatarWrapper{width:60px;height:60px;background:#ebeced;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:6px;margin-right:10px;}.css-jflero .LinkCard-ecommerceLoadingCardNetwork{width:20px;height:20px;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar{height:60px;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar span{height:16px;display:inline-block;background:#ebeced;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(1){width:60px;margin-bottom:4px;}.css-jflero .LinkCard-ecommerceLoadingCardLoadingbar span:nth-of-type(2){width:127px;}.css-jflero .LinkCard.new{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:390px;min-height:84px;border-radius:8px;max-width:100%;overflow:hidden;margin:16px auto;padding:12px 12px 9px 12px;background-color:#f8f8fa;}.css-jflero .LinkCard.new,.css-jflero .LinkCard.new:hover{-webkit-text-decoration:none;text-decoration:none;border:none !important;color:inherit !important;}.css-jflero .LinkCard.new .LinkCard-contents{display:block;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;}.css-jflero .LinkCard.new .LinkCard-contents .loading{height:14px;background:#ebeced;border-radius:7px;}.css-jflero .LinkCard.new .LinkCard-contents.withTitle{margin-bottom:3px;}.css-jflero .LinkCard.new .LinkCard-title{display:-webkit-box;font-size:15px;font-weight:500;line-height:1.4;margin-bottom:2px;color:#191B1F;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-jflero .LinkCard.new .LinkCard-title.two-line{line-height:20px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-jflero .LinkCard.new .LinkCard-title.loading{margin-bottom:8px;width:80%;}.css-jflero .LinkCard.new .LinkCard-title.loading.withTitle{margin-bottom:6px;}.css-jflero .LinkCard.new .LinkCard-title.loadingTitle{margin-bottom:5px;}.css-jflero .LinkCard.new .LinkCard-excerpt{display:-webkit-box;text-overflow:ellipsis;font-size:13px;line-height:18px;color:#9196a1;margin-bottom:4px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-jflero .LinkCard.new .LinkCard-excerpt .LinkCard-author{color:#373a40;}.css-jflero .LinkCard.new .LinkCard-desc{display:-webkit-box;font-size:13px;height:18px;line-height:18px;color:#9196a1;word-break:break-all;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;}.css-jflero .LinkCard.new .LinkCard-desc .LinkCard-tag,.css-jflero .LinkCard.new .LinkCard-desc .tag{display:inline-block;font-size:11px;margin-left:8px;padding:0 4px;border-radius:3px;background:rgba(196,199,206,0.3);}.css-jflero .LinkCard.new .LinkCard-desc.loading{width:40%;}.css-jflero .LinkCard.new .LinkCard-desc svg{margin-right:2px;}.css-jflero .LinkCard.new .LinkCard-image{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;background-color:#ebeced;background-size:cover;background-position:center;position:relative;display:block;width:60px;height:60px;margin-left:20px;object-fit:cover;border-radius:inherit;overflow:hidden;}.css-jflero .LinkCard.new .LinkCard-image.LinkCard-image--default{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ebeced;color:#c4c7ce;}.css-jflero .LinkCard.new .LinkCard-image.LinkCard-image--default svg{color:#9196a1;}.css-jflero .LinkCard.new .LinkCard-image img{width:100%;height:100%;object-fit:cover;}.css-jflero .LinkCard.new .LinkCard-image .LinkCard-image--video{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:24px;height:24px;border-radius:12px;background:rgba(255,255,255,0.9);pointer-events:none;}.css-jflero .LinkCard.new .LinkCard-image .LinkCard-image--video svg{color:#373a40;}.css-jflero .LinkCard.new .LinkCard-richText .text{color:#373a40;}.css-jflero .LinkCard.new .LinkCard-richText .bold{font-weight:600;}.css-jflero .LinkCard.new .LinkCard-richText .tag{margin-left:4px;}.css-jflero .FileLinkCard{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(248,248,250,0.88);border-radius:12px;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:1em auto;max-width:100%;overflow:hidden;padding:12px;position:relative;width:390px;}.css-jflero .FileLinkCard-icon{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:30px;width:30px;}.css-jflero .FileLinkCard-info{margin-left:12px;}.css-jflero .FileLinkCard-name{color:#191B1F;font-size:15px;font-weight:500;line-height:21px;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;}.css-jflero .FileLinkCard-meta{color:#9196a1;font-size:12px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;line-height:14px;margin-top:5px;}.css-jflero .FileLinkCard-source{white-space:pre;}.css-jflero img[data-uncomfortable]{content:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20344.88888888888886%20194%22%3E%3CforeignObject%20width%3D%22344.88888888888886%22%20height%3D%22194%22%3E%0A%20%20%20%20%20%20%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22font-size%3A%2013px%3B%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20Microsoft%20YaHei%2C%20sans-serif%3B%20color%3A%20%23fff%3B%20width%3A100%25%3B%20height%3A194px%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20height%3A%20100%25%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22currentColor%22%3E%3Cpath%20d%3D%22M8%203.65a7%207%200%2000-1.353.128.65.65%200%2011-.25-1.275A8.3%208.3%200%20018%202.35c2.387%200%204.172.954%205.357%202.125C14.511%205.615%2015.15%207.022%2015.15%208c0%20.621-.257%201.391-.699%202.134a7.076%207.076%200%2001-1.403%201.68l.495.46a.65.65%200%2011-.886.951l-.998-.929a.645.645%200%2001-.104-.097L9.73%2010.501a.647.647%200%2001-.29.301%203.15%203.15%200%2001-4.313-4.094.647.647%200%2001.234-.275L3.908%205.08a5.774%205.774%200%2000-1.283%201.522C2.282%207.198%202.15%207.707%202.15%208c0%20.522.41%201.616%201.407%202.6.965.954%202.43%201.75%204.443%201.75.468%200%20.905-.043%201.311-.12a.65.65%200%2001.243%201.277A8.322%208.322%200%20018%2013.65c-2.387%200-4.172-.954-5.357-2.125C1.49%2010.385.85%208.978.85%208c0-.598.238-1.333.648-2.046A7.054%207.054%200%20012.95%204.188l-.547-.509a.65.65%200%2011.886-.951l8.8%208.194a5.793%205.793%200%20001.244-1.453c.372-.624.516-1.163.516-1.469%200-.522-.41-1.616-1.407-2.6-.965-.954-2.43-1.75-4.443-1.75zM6.29%207.296a1.85%201.85%200%20002.534%202.36l-2.535-2.36zM8%204.85a.65.65%200%20100%201.3%201.85%201.85%200%20011.843%201.694.65.65%200%20101.296-.11A3.15%203.15%200%20008%204.85z%22%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin%3A%20.6em%200%201.2em%22%3E%E8%AF%A5%E5%9B%BE%E7%89%87%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E4%B8%8D%E9%80%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cbutton%20style%3D%22padding%3A%204px%201em%3B%20font-size%3A%201.1em%3B%20color%3A%20inherit%3B%20background%3A%20none%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C.5%29%3B%20border-radius%3A%209999px%3B%22%3E%E7%BB%A7%E7%BB%AD%E6%9F%A5%E7%9C%8B%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2FforeignObject%3E%3C%2Fsvg%3E);width:100%;height:194px;background:url(https://pic1.zhimg.com/v2-cf70d0759d787c70091857151c1cad4a.jpeg) no-repeat rgba(191,191,191,0.7);background-size:cover;cursor:pointer!important;}.css-jflero img.content_image[data-size="normal"],.css-jflero img.origin_image[data-size="normal"]{width:100%;max-width:100%;}.css-jflero img.content_image[data-size="small"],.css-jflero img.origin_image[data-size="small"]{width:320px;max-width:100%;}@-webkit-keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}@keyframes animation-1yvu044{from{opacity:0;}to{opacity:1;}}</style><style data-emotion-css="ch8ocw">.css-ch8ocw{position:relative;display:inline-block;height:30px;padding:0 12px;font-size:14px;line-height:30px;color:#1772F6;vertical-align:top;border-radius:100px;background:rgba(23,114,246,0.1);}.css-ch8ocw:hover{background-color:rgba(23,114,246,0.15);}</style><style data-emotion-css="1xlfegr">.css-1xlfegr{background:transparent;box-shadow:none;}</style><style data-emotion-css="1gomreu">.css-1gomreu{position:relative;display:inline-block;}</style><style data-emotion-css="1u7r5c9">.css-1u7r5c9{box-sizing:border-box;margin:0;min-width:0;max-width:100%;height:auto;background-color:#ffffff;width:40px;height:40px;border-radius:50%;}</style><style type="text/css">.Marquee_module_marquee__218919a6 {
  overflow: hidden;
}

.Marquee_module_marqueeText__218919a6 {
  position: relative;
  transition: all 0.5s ease-in-out;
}
.Marquee_module_noAnimation__218919a6 {
  transition: none;
}

.Marquee_module_marqueeItem__218919a6 {
  display: flex;
  align-items: center;
  flex-wrap: nowrap;
  overflow: hidden;
  flex: 1;
}
</style><style data-emotion="css"></style></head><body class="WhiteBg-body PostIndex-body" aria-basefontsize="16" data-rh="class"><a id="ariaTipText" role="pagedescription" aria-label="欢迎进入 TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎,盲人用户使用操作智能引导，请按快捷键Ctrl+Alt+R；阅读详细操作说明请按快捷键Ctrl+Alt+问号键。" aria-atomic="true" href="javascript:void(0)" class="skipAutoFix" style="width: 1px; height: 1px;"><img src="https://zhuanlan.zhihu.com/p/371239130" style="width:1px !important;height:1px !important;position:absolute;top:0;"></a><div id="root"><div class="App"><div class="LoadingBar  css-55n9hh"></div><div><span style="position:absolute;top:-10000px;left:-10000px" role="log" aria-live="assertive"></span></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;hexu1985&quot;}" data-zop="{&quot;authorName&quot;:&quot;OLDPAN&quot;,&quot;itemId&quot;:371239130,&quot;title&quot;:&quot;TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;371239130&quot;}}}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader is-fixed css-1l12z7y" style="width: 1702px; top: 0px; left: 0px;"><div class="ColumnPageHeader-content"><a href="https://www.zhihu.com/" aria-label="知乎"><svg viewBox="0 0 64 30" fill="#1772F6" width="64" height="30" class="css-1hlrcxk"><path d="M29.05 4.582H16.733V25.94h3.018l.403 2.572 4.081-2.572h4.815V4.582zm-5.207 18.69l-2.396 1.509-.235-1.508h-1.724V7.233h6.78v16.04h-2.425zM14.46 14.191H9.982c0-.471.033-.954.039-1.458v-5.5h5.106V5.935a1.352 1.352 0 0 0-.404-.957 1.378 1.378 0 0 0-.968-.396H5.783c.028-.088.056-.177.084-.255.274-.82 1.153-3.326 1.153-3.326a4.262 4.262 0 0 0-2.413.698c-.57.4-.912.682-1.371 1.946-.532 1.453-.997 2.856-1.31 3.693C1.444 8.674.28 11.025.28 11.025a5.85 5.85 0 0 0 2.52-.61c1.119-.593 1.679-1.502 2.054-2.883l.09-.3h2.334v5.5c0 .5-.045.982-.073 1.46h-4.12c-.71 0-1.39.278-1.893.775a2.638 2.638 0 0 0-.783 1.874h6.527a17.717 17.717 0 0 1-.778 3.649 16.796 16.796 0 0 1-3.012 5.273A33.104 33.104 0 0 1 0 28.74s3.13 1.175 5.425-.954c1.388-1.292 2.631-3.814 3.23-5.727a28.09 28.09 0 0 0 1.12-5.229h5.967v-1.37a1.254 1.254 0 0 0-.373-.899 1.279 1.279 0 0 0-.909-.37z"></path><path d="M11.27 19.675l-2.312 1.491 5.038 7.458a6.905 6.905 0 0 0 .672-2.218 3.15 3.15 0 0 0-.28-2.168l-3.118-4.563zM51.449 15.195V5.842c4.181-.205 7.988-.405 9.438-.483l.851-.05c.387-.399.885-2.395.689-3.021-.073-.25-.213-.666-.638-.555a33.279 33.279 0 0 1-4.277.727c-2.766.321-3.97.404-7.804.682-6.718.487-12.709.72-12.709.72a2.518 2.518 0 0 0 .788 1.834 2.567 2.567 0 0 0 1.883.706c2.278-.095 5.598-.25 8.996-.41v9.203h-12.78c0 .703.281 1.377.783 1.874a2.69 2.69 0 0 0 1.892.777h10.105v7.075c0 .887-.464 1.192-1.231 1.214h-3.92a4.15 4.15 0 0 0 .837 1.544 4.2 4.2 0 0 0 1.403 1.067 6.215 6.215 0 0 0 2.71.277c1.36-.066 2.967-.826 2.967-3.57v-7.607h11.28c.342 0 .67-.135.91-.374.242-.239.378-.563.378-.902v-1.375H51.449z"></path><path d="M42.614 8.873a2.304 2.304 0 0 0-1.508-.926 2.334 2.334 0 0 0-1.727.405l-.376.272 4.255 5.85 2.24-1.62-2.884-3.98zM57.35 8.68l-3.125 4.097 2.24 1.663 4.517-5.927-.375-.277a2.32 2.32 0 0 0-1.722-.452 2.327 2.327 0 0 0-1.536.896z"></path></svg></a><i class="ColumnPageHeader-Line"></i><div class="ColumnPageHeader-Title"><div class="ColumnPageHeader-TitleName"><span class="ColumnPageHeader-TitleMeta">首发于</span><a class="ColumnLink ColumnPageHeader-TitleColumn" href="https://www.zhihu.com/column/Oldpan">深度学习那些事</a></div></div><div class="ColumnPageHeader-Button"><div class="Popover"><button title="更多" id="Popover1-toggle" aria-haspopup="true" aria-expanded="false" type="button" class="Button ColumnPageHeader-MenuToggler FEfUrdfMIKpQDJDqkjte Button--plain fEPKGkUK5jyc4fUuT0QP"><svg width="24" height="24" viewBox="0 0 24 24" class="Zi Zi--Dots" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></button></div><button type="button" class="Button ColumnPageHeader-WriteButton FEfUrdfMIKpQDJDqkjte Button--blue JmYzaky7MEPMFcJDLNMG"><svg width="24" height="24" viewBox="0 0 24 24" class="Zi Zi--EditSurround" fill="currentColor"><path d="M4.352 6.804A2.554 2.554 0 0 1 6.905 4.25h6.072a.875.875 0 0 0 0-1.75H6.905a4.304 4.304 0 0 0-4.303 4.304v10.142a4.304 4.304 0 0 0 4.303 4.304h10.143a4.304 4.304 0 0 0 4.304-4.304v-6.071a.875.875 0 0 0-1.75 0v6.071a2.554 2.554 0 0 1-2.554 2.554H6.905a2.554 2.554 0 0 1-2.553-2.554V6.804Z"></path><path d="M20.595 4.731a.875.875 0 1 0-1.237-1.237l-7.763 7.762a.875.875 0 1 0 1.238 1.238l7.762-7.763Z"></path></svg>写文章</button></div></div><div class="ColumnPageHeader-profile"><div class="Popover AppHeader-menu"><button id="Popover4-toggle" aria-haspopup="true" aria-expanded="false" type="button" class="Button AppHeader-profileEntry FEfUrdfMIKpQDJDqkjte Button--plain fEPKGkUK5jyc4fUuT0QP"><img class="Avatar AppHeader-profileAvatar css-fnnb9l" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg" srcset="https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=32738c0c 2x" alt="点击打开hexu1985的主页"></button></div><div class="Popover ddLajxN_Q0AuobBZjX9m AppHeaderProfileMenu-creatorHintPopover"><div class="AppHeaderProfileMenu-creatorHintToggler" id="Popover5-toggle" aria-haspopup="true" aria-expanded="false"></div></div></div></div><div class="Sticky--holder" style="position: relative; inset: 0px; display: block; float: none; margin: 0px; height: 52px;"></div></div></div><div class="css-78p1r9"><div class="css-1h1xzpn"><div class="css-1ld0bim"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0"><picture><source type="image/avif" srcset="https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.avis?source=172ae18b&amp;biz_tag=Post 1x, https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.avis?source=172ae18b&amp;biz_tag=Post 2x" src="https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.avis?source=172ae18b&amp;biz_tag=Post"><source type="image/webp" srcset="https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.awebp?source=172ae18b&amp;biz_tag=Post 1x, https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.awebp?source=172ae18b&amp;biz_tag=Post 2x" src="https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.awebp?source=172ae18b&amp;biz_tag=Post"><img alt="TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！" decoding="async" style="position: absolute; inset: 0px; box-sizing: border-box; padding: 0px; border: none; margin: auto; display: block; width: 0px; height: 0px; min-width: 100%; max-width: 100%; min-height: 100%; max-height: 100%;" width="100%" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.image" srcset="https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.image?source=172ae18b&amp;biz_tag=Post 1x, https://pic1.zhimg.com/70/v2-20e9dccf8f84cf17507eeab4e52e9a00_1440w.image?source=172ae18b&amp;biz_tag=Post 2x"></picture></span></div></div></div><article class="Post-Main Post-NormalMain" tabindex="-1"><header class="Post-Header"><h1 class="Post-Title">TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！</h1><div class="Post-Author"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><div class="AuthorInfo"><meta itemprop="name" content="OLDPAN"><meta itemprop="image" content="https://picx.zhimg.com/776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b"><meta itemprop="url" content="https://www.zhihu.com/people/oldpan"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/oldpan" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User"><img class="Avatar AuthorInfo-avatar css-1syywx2" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/776d42d5e206fa36cd9c68872e0fee54_l.jpg" srcset="https://picx.zhimg.com/776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b 2x" alt="OLDPAN"></a></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/oldpan" target="_blank" class="UserLink-link" data-za-detail-view-element_name="User">OLDPAN</a></div></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"></div></div></div></div></div><button type="button" class="Button FollowButton FEfUrdfMIKpQDJDqkjte Button--primary Button--blue epMJl0lFQuYbC7jrwr_o JmYzaky7MEPMFcJDLNMG"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Plus FollowButton-icon" fill="currentColor"><path fill-rule="evenodd" d="M13.25 3.25a1.25 1.25 0 1 0-2.5 0v7.5h-7.5a1.25 1.25 0 1 0 0 2.5h7.5v7.5a1.25 1.25 0 1 0 2.5 0v-7.5h7.5a1.25 1.25 0 0 0 0-2.5h-7.5v-7.5Z" clip-rule="evenodd"></path></svg></span>关注他</button></div><div class="LabelContainer-wrapper"></div><div><div class="css-dvccr2"><div class="css-1lr85n">1187 人赞同了该文章</div></div></div><span class="css-z4ujak"></span></header><div class="Post-RichTextContainer"><div class="css-1od93p9"><div class="css-376mun"><div class="RichText ztext Post-RichText css-jflero" options="[object Object]"><p data-first-child="" data-pid="rEYArk0Z">好久不见各位！想我不？</p><p data-pid="g6oXdYyR">经历了五一还有点后遗症，感觉还没有休息够，时间过得太快了啊啊啊。</p><p data-pid="ZBi3FBJj">希望大家也能及时调整工作状态，搞起来搞起来！</p><figure data-size="small"><noscript><img src="https://pic4.zhimg.com/v2-a44c298c9cf0d574d237440333d7ea4b_b.jpg" data-rawwidth="647" data-rawheight="647" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="647" data-original="https://pic4.zhimg.com/v2-a44c298c9cf0d574d237440333d7ea4b_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-a44c298c9cf0d574d237440333d7ea4b_720w.webp" data-rawwidth="647" data-rawheight="647" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="647" data-original="https://pic4.zhimg.com/v2-a44c298c9cf0d574d237440333d7ea4b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-a44c298c9cf0d574d237440333d7ea4b_b.jpg" data-original-token="v2-49f3135b029f535375d6df0ceec274e6" height="647" data-lazy-status="ok"></div></figure><p data-pid="K4wsv0TU">为了更方便地搞起来，早点进入状态。老潘为大家准备了TensorRT入门指北，一起来看看吧！保你看得爽！</p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-f901e1a0de2e8da236f5bd9dea425bc1_b.jpg" data-rawwidth="700" data-rawheight="700" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="700" data-original="https://pic2.zhimg.com/v2-f901e1a0de2e8da236f5bd9dea425bc1_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-f901e1a0de2e8da236f5bd9dea425bc1_720w.webp" data-rawwidth="700" data-rawheight="700" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="700" data-original="https://pic2.zhimg.com/v2-f901e1a0de2e8da236f5bd9dea425bc1_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-f901e1a0de2e8da236f5bd9dea425bc1_b.jpg" data-original-token="v2-dad2cc66477c46b2fa5e810beafcd130" height="700" data-lazy-status="ok"></div></figure><p data-pid="jyiBT5f4">哦对了，学习Tensorrt需要一些cuda基础别忘了，这里推荐下深蓝学院的课程，相对来说质量很高～</p><div class="RichText-LinkCardContainer"><a target="_blank" href="https://link.zhihu.com/?target=http%3A//www.shenlanxueyuan.com/channel/yOO0yZHt9w/detail" data-draft-node="block" data-draft-type="link-card" data-text="CUDA入门与深度神经网络加速 - 深蓝学院 - 专注人工智能与自动驾驶的学习平台" class="LinkCard new css-1vqsdx1" data-image="https://pic3.zhimg.com/v2-97328d472265c4dcc72ecb7b23d23d82_180x120.jpg" data-image-width="344" data-image-height="136" data-za-detail-view-id="172"><span class="LinkCard-contents"><span class="LinkCard-title two-line">CUDA入门与深度神经网络加速 - 深蓝学院 - 专注人工智能与自动驾驶的学习平台</span><span class="LinkCard-desc"><span style="display: inline-flex; align-items: center;">​<svg width="14" height="14" viewBox="0 0 24 24" class="Zi Zi--InsertLink" fill="currentColor"><path fill-rule="evenodd" d="M5.327 18.883a3.005 3.005 0 0 1 0-4.25l2.608-2.607a.75.75 0 1 0-1.06-1.06l-2.608 2.607a4.505 4.505 0 0 0 6.37 6.37l2.608-2.607a.75.75 0 0 0-1.06-1.06l-2.608 2.607a3.005 3.005 0 0 1-4.25 0Zm5.428-11.799a.75.75 0 0 0 1.06 1.06L14.48 5.48a3.005 3.005 0 0 1 4.25 4.25l-2.665 2.665a.75.75 0 0 0 1.061 1.06l2.665-2.664a4.505 4.505 0 0 0-6.371-6.372l-2.665 2.665Zm5.323 2.117a.75.75 0 1 0-1.06-1.06l-7.072 7.07a.75.75 0 0 0 1.061 1.06l7.071-7.07Z" clip-rule="evenodd"></path></svg></span>www.shenlanxueyuan.com/channel/yOO0yZHt9w/detail</span></span><span class="LinkCard-image" style="height: 60px;"><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-97328d472265c4dcc72ecb7b23d23d82_180x120.jpg" alt=""></span></a></div><h2><b>前言</b></h2><p data-pid="m9IKFR9n">大名鼎鼎的<b>TensorRT</b>有多牛逼就不多说了，因为确实<b>很好用</b>。</p><p data-pid="Abbj5orO">作为在英伟达自家GPU上的推理库，这些年来一直被大力推广，更新也非常频繁，issue反馈也挺及时，社区的负责人员也很积极，简直不要太NICE。</p><p data-pid="y2-olFC5">只是TensorRT的入门门槛<b>略微高一点点</b>，劝退了一部分<b>玩家</b>。一部分原因是官方文档也不够详细(其实也挺细了，只不过看起来有些杂乱)、资料不够；另一部分可能是因为TensorRT比较底层，需要一点点C++和硬件方面的知识，相较学习Python难度更大一点。</p><p data-pid="_pr4pSqP">不过吐槽归吐槽，TensorRT官方文档依旧是<b>最权威最实用</b>的查阅手册，另外TensorRT也是全面支持Python的，不习惯用C++的小伙伴，用Python调用TensorRT是没有任何问题的。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-a24321b695a5c2e495ce4c9c8495583b_b.jpg" data-rawwidth="305" data-rawheight="306" data-size="small" data-caption="" class="content_image" width="305"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-a24321b695a5c2e495ce4c9c8495583b_720w.webp" data-rawwidth="305" data-rawheight="306" data-size="small" data-caption="" class="content_image lazy" width="305" data-actualsrc="https://pic4.zhimg.com/v2-a24321b695a5c2e495ce4c9c8495583b_b.jpg" data-original-token="v2-b7ade1778a8cd62e96cd0ee3fcaf9453" height="306" data-lazy-status="ok"></div></figure><p data-pid="rIaB9Rr7">一直也想写TensorRT的系列教程，也顺便整理一下自己之前做的笔记。拖了好久的<b>TensorRT</b>入门指北终于写完了。</p><p data-pid="NFmdCC-X">本教程基于目前(2021-4-26)最新版<code>TensorRT-7.2.3.4</code>，TensorRT更新频繁，TensorRT-8可能不久也会发布，不过TensorRT对于向下兼容的API做的还是比较好的，不必担心太多的迁移问题。</p><p data-pid="pk6fkePa">今天简单一刷(2021-5-5)，TensorRT终于发布8版本了，仍然是尝鲜的Early Access (EA)，官方<a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/deeplearning/tensorrt/release-notes/tensorrt-8.html" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">release</a>。不过TensorRT8-EA版一些功能不是很稳定，我们先不着急使用。尝鲜的小伙伴们可以先试试，生产环境版本建议先不要动。</p><p data-pid="CTCQqYXr">之前老潘也写过一些关于TensorRT文章，其中的部分内容也会整合到这一系列中，方便查阅：</p><ul><li data-pid="hglKqgZp"><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247484932%26idx%3D1%26sn%3Dc7e59ccb776594efaf0281dc6dfcbaa2%26chksm%3Dcf109e01f8671717b6fd50d1148bd2f1c8f000259dcaa071bf3dea9cf202f2aaa0d631f591b9%26token%3D1497670325%26lang%3Dzh_CN%23rd" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">利用TensorRT对深度学习进行加速</a></li><li data-pid="_PCHp0IM"><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247484931%26idx%3D1%26sn%3D01c5017d9a53dc1a8b15b9507da45cfa%26chksm%3Dcf109e06f867171031bf4c011b152d269565fd645d253214bd02384b1dbbc2c18c7864f7578e%26token%3D1497670325%26lang%3Dzh_CN%23rd" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">利用TensorRT实现神经网络提速(读取ONNX模型并运行)</a></li><li data-pid="c1XfSNBR"><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247485335%26idx%3D1%26sn%3De04574597077dea50dc53d1e490d82af%26chksm%3Dcf109f92f8671684c1783f952f9f6c02a806766fa5f63174f58ec1a2e8fb8910f4dcaf80ef80%26token%3D1497670325%26lang%3Dzh_CN%23rd" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">实现TensorRT自定义插件(plugin)自由！</a></li><li data-pid="7GaznHSG"><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247487034%26idx%3D1%26sn%3D728b01c2b38c436fd337dad0038e1f0a%26chksm%3Dcf10963ff8671f2995d2b3a4dc9192f2b2b40dfecadc31d409c88b47c492c866758cb87af65a%26token%3D1497670325%26lang%3Dzh_CN%23rd" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">(抛砖引玉)TensorRT的FP16精度问题？怎么办？在线支招！</a></li></ul><p data-pid="o-9AXX6o">不废话了，直接开始吧~</p><p data-pid="bFclUy5S">附上<a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/deeplearning/tensorrt/index.html" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">TensorRT官方文档</a>链接。</p><h2><b>什么是TensorRT</b></h2><p data-pid="vBY2JDUm">TensorRT是可以在<b>NVIDIA</b>各种<b>GPU硬件平台</b>下运行的一个<b>C++推理框架</b>。我们利用Pytorch、TF或者其他框架训练好的模型，可以转化为TensorRT的格式，然后利用TensorRT推理引擎去运行我们这个模型，从而提升这个模型在英伟达GPU上运行的速度。速度提升的比例是<b>比较可观</b>的。</p><p data-pid="twmC5b7N">借官方的话来说：</p><blockquote data-pid="4B-98tZr"> The core of NVIDIA® TensorRT™ is a C++ library that facilitates high-performance inference on NVIDIA graphics processing units (GPUs). TensorRT takes a trained network, which consists of a network definition and a set of trained parameters, and produces a highly optimized runtime engine that performs inference for that network. TensorRT provides API's via C++ and Python that help to express deep learning models via the Network Definition API or load a pre-defined model via the parsers that allow TensorRT to optimize and run them on an NVIDIA GPU. TensorRT applies graph optimizations, layer fusion, among other optimizations, while also finding the fastest implementation of that model leveraging a diverse collection of highly optimized kernels. TensorRT also supplies a runtime that you can use to execute this network on all of NVIDIA’s GPU’s from the Kepler generation onwards. TensorRT also includes optional high speed mixed precision capabilities introduced in the Tegra™ X1, and extended with the Pascal™, Volta™, Turing™, and NVIDIA® Ampere GPU architectures.<br> </blockquote><p data-pid="qE8Aggy5">TensorRT支持的平台如下：</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-8a3c32c16cf2ba55b31edd8380b4ab4f_b.jpg" data-rawwidth="3240" data-rawheight="666" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="3240" data-original="https://pic4.zhimg.com/v2-8a3c32c16cf2ba55b31edd8380b4ab4f_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-8a3c32c16cf2ba55b31edd8380b4ab4f_720w.webp" data-rawwidth="3240" data-rawheight="666" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="3240" data-original="https://pic4.zhimg.com/v2-8a3c32c16cf2ba55b31edd8380b4ab4f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-8a3c32c16cf2ba55b31edd8380b4ab4f_b.jpg" data-original-token="v2-331b73178c7e50bc3ababe72f147cd0a" height="666" data-lazy-status="ok"></div></figure><p data-pid="sEfw01tm">支持计算能力<b>在5.0及以上</b>的显卡(当然，这里的显卡可以是桌面级显卡也可以是嵌入版式显卡)，我们常见的RTX30系列计算能力是8.6、RTX20系列是7.5、RTX10系列是6.1，如果我们想要使用TensorRT，首先要确认下我们的显卡是否支持。</p><p data-pid="WuB0LbiA">至于什么是计算能力(Compute Capability)，咋说嘞，计算能力并不是描述GPU设备计算能力强弱的绝对指标，准确的说，这是一个架构的版本号。一般来说越新的架构版本号更高，计算能力的第一个数值也就最高(例如3080计算能力8.6)，而后面的6代表在该架构前提下的一些优化特性，具体代表什么特性可以看这里：</p><ul><li data-pid="2340PFbL"><a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/cuda/cuda-c-programming-guide/index.html%23compute-capabilities" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">docs.nvidia.com/cuda/cu</span><span class="invisible">da-c-programming-guide/index.html#compute-capabilities</span><span class="ellipsis"></span></a></li></ul><p data-pid="93-8jrxg">可以通过<a href="https://link.zhihu.com/?target=https%3A//developer.nvidia.com/zh-cn/cuda-gpus" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">这里</a>查阅自己显卡的计算能力。</p><p data-pid="8FhKXE2d">说回TensorRT本身，TensorRT是由C++、CUDA、python三种语言编写成的一个库，其中核心代码为<b>C++和CUDA</b>，Python端作为前端与用户交互。当然，TensorRT也是支持C++前端的，如果我们追求高性能，C++前端调用TensorRT是必不可少的。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-bc9b29cc831bb9793a0aeaaa3061e223_b.jpg" data-rawwidth="1280" data-rawheight="553" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="1280" data-original="https://pic4.zhimg.com/v2-bc9b29cc831bb9793a0aeaaa3061e223_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-bc9b29cc831bb9793a0aeaaa3061e223_720w.webp" data-rawwidth="1280" data-rawheight="553" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="1280" data-original="https://pic4.zhimg.com/v2-bc9b29cc831bb9793a0aeaaa3061e223_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-bc9b29cc831bb9793a0aeaaa3061e223_b.jpg" data-original-token="v2-6ab11a3a5803ee4b92aa770a1bb6f7b0" height="553" data-lazy-status="ok"></div></figure><h2><b>使用TensorRT的场景</b></h2><p data-pid="upcQjDO0">TensorRT的使用场景很多。服务端、嵌入式端、家用电脑端都是我们的使用场景。</p><ul><li data-pid="RwbsGulQ">服务端对应的显卡型号为A100、T4、V100等</li><li data-pid="qPYLswle">嵌入式端对应的显卡为AGX Xavier、TX2、Nano等</li><li data-pid="Drz4p_M0">家用电脑端对应的显卡为3080、2080TI、1080TI等</li></ul><p data-pid="US2p3OTT">当然这不是固定的，只要我们显卡满足TensorRT的先决条件，用就对了。</p><h2><b>TensorRT的加速效果怎么样</b></h2><p data-pid="s6MOd1Vb">加速效果取决于模型的类型和大小，也取决于我们所使用的显卡类型。</p><p data-pid="TvM7vzE3">对于GPU来说，因为底层的硬件设计，更适合并行计算也更喜欢密集型计算。TensorRT所做的优化也是<b>基于GPU</b>进行优化，当然也是更喜欢那种一大块一大块的矩阵运算，尽量直通到底。因此对于通道数比较多的卷积层和反卷积层，优化力度是比较大的；如果是比较繁多复杂的各种细小op操作(例如reshape、gather、split等)，那么TensorRT的优化力度就没有那么夸张了。</p><p data-pid="UMdknwpZ">为了更充分利用GPU的优势，我们在设计模型的时候，可以更加偏向于模型的并行性，因为同样的计算量，“大而整”的GPU运算效率远超“小而碎”的运算。</p><p data-pid="143rbtFa">工业界更喜欢简单直接的模型和backbone。2020年的RepVGG(<a href="https://zhuanlan.zhihu.com/p/344324470" class="internal" data-za-detail-view-id="1043">RepVGG：极简架构，SOTA性能，让VGG式模型再次伟大（CVPR-2021）</a>)，就是为GPU和专用硬件设计的高效模型，追求高速度、省内存，较少关注参数量和理论计算量。相比resnet系列，更加适合充当一些检测模型或者识别模型的backbone。</p><p data-pid="hScsSRa8">在实际应用中，老潘也简单总结了下TensorRT的加速效果：</p><ul><li data-pid="vqC950iC">SSD检测模型，加速3倍(Caffe)</li><li data-pid="-HZhmgPo">CenterNet检测模型，加速3-5倍(Pytorch)</li><li data-pid="KBw0QXyL">LSTM、Transformer(细op)，加速0.5倍-1倍(TensorFlow)</li><li data-pid="kLvlwGON">resnet系列的分类模型，加速3倍左右(Keras)</li><li data-pid="PG8luyAC">GAN、分割模型系列比较大的模型，加速7-20倍左右(Pytorch)</li></ul><h2><b>TensorRT有哪些黑科技</b></h2><p data-pid="EPES48p_">为什么TensorRT能够提升我们模型在英伟达GPU上运行的速度，当然是做了很多对<b>提速有增益</b>的优化：</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-41d4cde8f1a25ffb0ed0ac22a4dcc782_b.jpg" data-rawwidth="2458" data-rawheight="1046" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="2458" data-original="https://pic3.zhimg.com/v2-41d4cde8f1a25ffb0ed0ac22a4dcc782_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-41d4cde8f1a25ffb0ed0ac22a4dcc782_720w.webp" data-rawwidth="2458" data-rawheight="1046" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="2458" data-original="https://pic3.zhimg.com/v2-41d4cde8f1a25ffb0ed0ac22a4dcc782_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-41d4cde8f1a25ffb0ed0ac22a4dcc782_b.jpg" data-original-token="v2-8ebe2d6a0ac69a88239088d32adfed4f" height="1046" data-lazy-status="ok"></div></figure><ul><li data-pid="FLeuB8wj">算子融合(层与张量融合)：简单来说就是通过融合一些计算op或者去掉一些多余op来减少数据流通次数以及显存的频繁使用来提速</li><li data-pid="KYA9iZ2s">量化：量化即IN8量化或者FP16以及TF32等不同于常规FP32精度的使用，这些精度可以显著提升模型执行速度并且不会保持原先模型的精度</li><li data-pid="I_2Luayx">内核自动调整：根据不同的显卡构架、SM数量、内核频率等(例如1080TI和2080TI)，选择不同的优化策略以及计算方式，寻找最合适当前构架的计算方式</li><li data-pid="kCw0HAJN">动态张量显存：我们都知道，显存的开辟和释放是比较耗时的，通过调整一些策略可以减少模型中这些操作的次数，从而可以减少模型运行的时间</li><li data-pid="ePQUM0mv">多流执行：使用CUDA中的stream技术，最大化实现并行操作</li></ul><p data-pid="OX6pFmyl">TensorRT的这些优化策略代码虽然是闭源的，但是<b>大部分的优化策略</b>我们或许也可以猜到一些，也包括TensorRT官方公布出来的一些优化策略：</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-1209611c0980d86396c920a2cbdf9365_b.jpg" data-rawwidth="2470" data-rawheight="1748" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="2470" data-original="https://pic2.zhimg.com/v2-1209611c0980d86396c920a2cbdf9365_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-1209611c0980d86396c920a2cbdf9365_720w.webp" data-rawwidth="2470" data-rawheight="1748" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="2470" data-original="https://pic2.zhimg.com/v2-1209611c0980d86396c920a2cbdf9365_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-1209611c0980d86396c920a2cbdf9365_b.jpg" data-original-token="v2-7b3a3479e6d4beeffaf9d98b828a8874" height="1748" data-lazy-status="ok"></div></figure><p data-pid="YIhW1aie">左上角是原始网络(googlenet)，右上角相对原始层进行了垂直优化，将conv+bias(BN)+relu进行了融合优化；而右下角进行了水平优化，将所有1x1的CBR融合成一个大的CBR；左下角则将concat层直接去掉，将contact层的输入直接送入下面的操作中，不用单独进行concat后在输入计算，相当于减少了一次传输吞吐；</p><p data-pid="r9x2Ub6Z">等等等等，还有很多例子。</p><p data-pid="VFx2CjfQ">上述的这些算子融合、动态显存分配、精度校准、多steam流、自动调优等操作，TensorRT都帮你做了。这样通过TensorRT帮你调优模型后，自然模型的速度就上来了。</p><p data-pid="WSrsU2Au">当然也有其他在NVIDIA-GPU平台上的推理优化库，例如<a href="https://link.zhihu.com/?target=https%3A//tvm.apache.org/" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">TVM</a>，某些情况下TVM比TensorRT要好用些，但毕竟是英伟达自家产品，TensorRT在自家GPU上还是有不小的优势，做到了开箱即用，上手程度不是很难。</p><h2><b>安装TensorRT！</b></h2><p data-pid="n_lwp2N5">安装TensorRT的方式有很多，官方提供了多种方式：</p><blockquote data-pid="GHQljKMP"> You can choose between the following installation options when installing TensorRT; Debian or RPM packages, a pip wheel file, a tar file, or a zip file.<br> </blockquote><p data-pid="cYDAuGBW">这些安装包都可以从官方直接下载，从 <a href="https://link.zhihu.com/?target=https%3A//developer.nvidia.com/zh-cn/tensorrt" class=" external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043"><span class="invisible">https://</span><span class="visible">developer.nvidia.com/zh</span><span class="invisible">-cn/tensorrt</span><span class="ellipsis"></span></a> 进入下载即可，需要注意这里<b>我们要注册会员并且登录</b>才可以下载。老潘一直使用的方式是下载<code>tar包</code>，下载好后解压即可，只要我们的环境符合要求就可以直接运行，类似于<code>绿色免安装</code>。</p><p data-pid="kVLXEfIt">例如下载<code>TensorRT-7.2.3.4.Ubuntu-18.04.x86_64-gnu.cuda-11.1.cudnn8.1.tar.gz</code>，下载好后，<code>tar -zxvf</code>解压即可。</p><p data-pid="dpT-gu1j">解压之后我们需要添加<b>环境变量</b>，以便让我们的程序能够找到TensorRT的libs。</p><div class="highlight"><pre><code class="language-bash">vim ~/.bashrc
<span class="c1"># 添加以下内容</span>
<span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/path/to/TensorRT-7.2.3.4/lib:<span class="nv">$LD_LIBRARY_PATH</span>
<span class="nb">export</span> <span class="nv">LIBRARY_PATH</span><span class="o">=</span>/path/to/TensorRT-7.2.3.4/lib::<span class="nv">$LIBRARY_PATH</span></code></pre></div><p data-pid="RzRS4aNr">这样TensorRT就安装好了，很快吧！</p><h2><b>TensorRT常见FAQ</b></h2><p data-pid="xFVCNYb9">对于使用TensorRT，还是有一些需要注意的地方，老潘在这里总结了一些大家可能感兴趣或者之后可能遇到的一些问题。</p><h2><b>TensorRT版本相关</b></h2><p data-pid="_kM2-AO8">TensorRT的版本与CUDA还有CUDNN版本是密切相关的，我们从官网下载TensorRT的时候应该就可以注意到：</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-588a89be317211f6dcc420d4fcc1f56a_b.jpg" data-rawwidth="1942" data-rawheight="2106" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="1942" data-original="https://pic3.zhimg.com/v2-588a89be317211f6dcc420d4fcc1f56a_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-588a89be317211f6dcc420d4fcc1f56a_720w.webp" data-rawwidth="1942" data-rawheight="2106" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="1942" data-original="https://pic3.zhimg.com/v2-588a89be317211f6dcc420d4fcc1f56a_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-588a89be317211f6dcc420d4fcc1f56a_b.jpg" data-original-token="v2-abf369aac7faa8d8df04139d483bcc6a" height="2106" data-lazy-status="ok"></div></figure><p data-pid="dL-tkwmk">不匹配版本的cuda以及cudnn是无法和TensorRT一起使用的。</p><p data-pid="2kqJRu-o">所以下载的时候要注意，不要搞错版本了哦。</p><p data-pid="F2AuaFgu">关于如何选择合适自己的TensorRT版本，首先看驱动，其次看CUDA版本。</p><p data-pid="oKH2q9zv">驱动怎么看，使用<code>nvidia-smi</code>命令即可：</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-a20c3e85690d4a1a63176f7da81ce464_b.jpg" data-rawwidth="1120" data-rawheight="310" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="1120" data-original="https://pic1.zhimg.com/v2-a20c3e85690d4a1a63176f7da81ce464_r.jpg"/></noscript><div><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-a20c3e85690d4a1a63176f7da81ce464_720w.webp" data-rawwidth="1120" data-rawheight="310" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="1120" data-original="https://pic1.zhimg.com/v2-a20c3e85690d4a1a63176f7da81ce464_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-a20c3e85690d4a1a63176f7da81ce464_b.jpg" data-original-token="v2-bd6c97b389495c1a47d25f5fb9195003" height="310" data-lazy-status="ok"></div></figure><p data-pid="9Rwj2Y8T">驱动可以通过<code>root</code>权限去换，而CUDA版本只要驱动满足要求就可以随便换(不需要root权限)，这点注意下就好。</p><p data-pid="6vIIx7dD">关于详细的环境配置可以看老潘之前的这篇文章：<a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247486596%26idx%3D1%26sn%3D797baa0c93b60e3dacba06a185d3b964%26chksm%3Dcf109481f8671d97b2fc1ca9b815c67ff8bb8c0a1a624687273373716ad781524924119afe26%26token%3D1497670325%26lang%3Dzh_CN%23rd" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">主机回来以及，简单的环境配置(RTX3070+CUDA11.1+CUDNN+TensorRT)</a></p><p data-pid="DA-y6Rk2">耍个小聪明，其实版本也不是严格限制的，只要是你需要的<b>功能函数</b>在这个低版本中<b>存在</b>，那也是可以使用的。</p><p data-pid="TJnT3yYU">举个例子。</p><p data-pid="p3E29eav">我们从官方下载的<code>TensorRT-7.0.0.11.Ubuntu-16.04.x86_64-gnu.cuda-10.2.cudnn7.6.tar</code>依赖<code>libcudnn.so.7.6.0</code>。但我们使用<code>libcudnn.so.7.3.0</code>去跑这个<b>TensorRT</b>去做一些事情时，因为版本不一致就会报错:</p><div class="highlight"><pre><code class="language-console">TensorRT-7.0.0.11/lib/libmyelin.so.1: undefined reference to `cudnnGetBatchNormalizationBackwardExWorkspaceSize@libcudnn.so.7'
TensorRT-7.0.0.11/lib/libmyelin.so.1: undefined reference to `cudnnGetBatchNormalizationForwardTrainingExWorkspaceSize@libcudnn.so.7'
TensorRT-7.0.0.11/lib/libmyelin.so.1: undefined reference to `cudnnGetBatchNormalizationTrainingExReserveSpaceSize@libcudnn.so.7'
TensorRT-7.0.0.11/lib/libmyelin.so.1: undefined reference to `cudnnBatchNormalizationBackwardEx@libcudnn.so.7'
TensorRT-7.0.0.11/lib/libmyelin.so.1: undefined reference to `cudnnBatchNormalizationForwardTrainingEx@libcudnn.so.7'</code></pre></div><p data-pid="xUgX6QT1">显然在链接TensorRT的时候，<code>libmyelin.so.1</code>这个东西需要的符号表在<code>libcudnn.so.7.3.0</code>这里找不到，因此也无法编译成功。</p><p data-pid="jy7-jmug">但是如果我们使用<code>libcudnn.so.7.6.0</code>将其编译好得到可执行文件，但<b>跑这个程序</b>时只给它提供<code>libcudnn.so.7.3.0</code>的运行环境。那么运行的时候会有 <code>TensorRT was linked against cuDNN 7.6.3 but loaded cuDNN 7.3.0</code>的提示，不过程序可以正常运行！</p><p data-pid="IvGqiXOF">原因很简单，<code>libcudnn.so.7.6.0</code>所拥有的<code>cudnnGetBatchNormalizationBackwardExWorkspaceSize</code>虽然<code>libcudnn.so.7.3.0</code>没有，但是我们也不用它，所以程序可以正常运行而不会报错，但如果你需要这个函数调用这个函数那么就没有办法了。</p><p data-pid="7zisVAjn">通过strings命令观察可以看到<code>libcudnn.so.7.3.0</code>确实没有<code>cudnnGetBatchNormalizationBackwardExWorkspaceSize</code>这个函数实现：</p><div class="highlight"><pre><code class="language-console">strings /usr/local/cuda/lib64/libcudnn.so.7.3.0 | grep cudnnGetBatchNormalizationBackwardExWorkspaceSize
而7.6.5中有
strings /usr/local/cuda/lib64/libcudnn.so.7.6.5 | grep cudnnGetBatchNormalizationBackwardExWorkspaceSize
cudnnGetBatchNormalizationBackwardExWorkspaceSize
cudnnGetBatchNormalizationBackwardExWorkspaceSize</code></pre></div><p data-pid="yLeNZBvB">更多关于动态链接库的细节可以<a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247487121%26idx%3D1%26sn%3D9f0ae793552c76629d6b2e9a903de449%26chksm%3Dcf109694f8671f822c1fee5d6777e75acc9d3e423535bc89d1caabe08f5598478b8bc555ac08%26token%3D1497670325%26lang%3Dzh_CN%23rd" class=" wrap external" target="_blank" rel="nofollow noreferrer">(收藏必看系列)咱不知道的一些动态链接库小细节</a>。</p><h2><b>什么模型可以转换为TensorRT</b></h2><p data-pid="y0UD9b8u">TensorRT官方支持Caffe、Tensorflow、Pytorch、ONNX等模型的转换(不过Caffe和Tensorflow的转换器Caffe-Parser和UFF-Parser已经有些落后了)，也提供了三种转换模型的方式：</p><ul><li data-pid="r5jduwex">使用<code>TF-TRT</code>，将TensorRT集成在TensorFlow中</li><li data-pid="tRbwUdfk">使用<code>ONNX2TensorRT</code>，即ONNX转换trt的工具</li><li data-pid="OSMUh-cs">手动构造模型结构，然后手动将权重信息挪过去，非常灵活但是时间成本略高，有大佬已经尝试过了：<a href="https://link.zhihu.com/?target=https%3A//github.com/wang-xinyu/tensorrtx" class=" wrap external" target="_blank" rel="nofollow noreferrer">tensorrtx</a></li></ul><p data-pid="i9eVjUPi">不过目前TensorRT对ONNX的支持最好，TensorRT-8最新版ONNX转换器又支持了更多的op操作。而深度学习框架中，TensorRT对Pytorch的支持更为友好，除了Pytorch-&gt;ONNX-&gt;TensorRT这条路，还有：</p><ul><li data-pid="xspkRbsV"><a href="https://link.zhihu.com/?target=https%3A//github.com/NVIDIA-AI-IOT/torch2trt" class=" wrap external" target="_blank" rel="nofollow noreferrer">torch2trt</a></li><li data-pid="1YpJPtDS"><a href="https://link.zhihu.com/?target=https%3A//github.com/grimoire/torch2trt_dynamic" class=" wrap external" target="_blank" rel="nofollow noreferrer">torch2trt_dynamic</a></li><li data-pid="nfyo03lp"><a href="https://link.zhihu.com/?target=https%3A//github.com/NVIDIA/TRTorch" class=" wrap external" target="_blank" rel="nofollow noreferrer">TRTorch</a></li></ul><p data-pid="kpZ_D4CD">总而言之，理论上<b>95%的模型</b>都可以转换为TensorRT，条条大路通罗马嘛。只不过有些模型可能转换的难度比较大。如果遇到一个无法转换的模型，先不要绝望，再想想，再想想，看看能不能通过其他方式绕过去。</p><h2><b>TensorRT是否支持动态尺寸(dynamic shape)吗</b></h2><p data-pid="kbR2J5jw">支持，而且用起来还很方便，如果某些OP不支持，也可以自己写动态尺度的Plugin。</p><p data-pid="0M0AMqEs">动态尺度支持NCHW中的N、H以及W，也就是batch、高以及宽。</p><p data-pid="HwkMMXP_">对于动态模型，我们在转换模型的时候需要额外指定三个维度信息即可(最小、最优、最大)。</p><p data-pid="1Ij3jS1_">举个转换动态模型的命令：</p><div class="highlight"><pre><code class="language-console">./trtexec --explicitBatch --onnx=demo.onnx --minShapes=input:1x1x256x256 --optShapes=input:1x1x2048x2048 --maxShapes=input:1x1x2560x2560 --shapes=input:1x1x2048x2048 --saveEngine=demo.trt --workspace=6000</code></pre></div><p data-pid="_HkDsO2u">很简单吧~</p><h2><b>TensorRT是硬件相关的</b></h2><p data-pid="nf6xgEOb">这个很好明白，因为不同显卡(不同GPU)，其核心数量、频率、架构、设计(还有价格..)都是不一样的，TensorRT需要对特定的硬件进行优化，不同硬件之间的优化是不能共享的。</p><blockquote data-pid="oScnQmx3"> The generated plan files are not portable across platforms or TensorRT versions. Plans are specific to the exact GPU model they were built on (in addition to platforms and the TensorRT version) and must be re-targeted to the specific GPU in case you want to run them on a different GPU<br> </blockquote><h2><b>TensorRT是否开源</b></h2><p data-pid="KT0v6323">TensorRT是<b>半开源</b>的，除了<b>核心部分</b>其余的基本都开源了。TensorRT最核心的部分是什么，当然是官方展示的一些特性了。如下：</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-01a793405fbe8485fd7c97da7c85dc9c_b.jpg" data-rawwidth="2402" data-rawheight="1048" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="2402" data-original="https://pic1.zhimg.com/v2-01a793405fbe8485fd7c97da7c85dc9c_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2402&#39; height=&#39;1048&#39;&gt;&lt;/svg&gt;" data-rawwidth="2402" data-rawheight="1048" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="2402" data-original="https://pic1.zhimg.com/v2-01a793405fbe8485fd7c97da7c85dc9c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-01a793405fbe8485fd7c97da7c85dc9c_b.jpg" data-original-token="v2-82314256399db0cbe5d78f801a40b176"></div></figure><p data-pid="X1dzx4yf">以上核心优势，也就是TensorRT内部的黑科技，可以帮助我们优化模型，加速模型推理，这部分当然是不开源的啦。</p><p data-pid="XGpMW4Wo">而开源的部分基本都在这个仓库里:</p><ul><li data-pid="3UHAEGnD"><a href="https://link.zhihu.com/?target=https%3A//github.com/NVIDIA/TensorRT" class=" wrap external" target="_blank" rel="nofollow noreferrer">TensorRT Open Source Software</a></li></ul><p data-pid="Yu38qobL">插件相关、工具相关、文档相关，里面的资源还是挺丰富的。</p><h2><b>Python中可以使用TensorRT吗</b></h2><p data-pid="tubu4O_F">当然是可以的，官方有python的安装包(下文有说)，安装后就可以<code>import tensorrt</code>使用了。</p><p data-pid="GaUBME4i">用ldd命令看一下<code>tensorrt.so</code>中都引用了什么。</p><div class="highlight"><pre><code class="language-console">ldd tensorrt.so
        linux-vdso.so.1 =&gt;  (0x00007ffe477d4000)
        libnvinfer.so.7 =&gt; /TensorRT-7.0.0.11/lib/libnvinfer.so.7 (0x00007f2a76f6b000)
        libnvonnxparser.so.7 =&gt; /TensorRT-7.0.0.11/lib/libnvonnxparser.so.7 (0x00007f2a76ca5000)
        libnvparsers.so.7 =&gt; /TensorRT-7.0.0.11/lib/libnvparsers.so.7 (0x00007f2a76776000)
        libnvinfer_plugin.so.7 =&gt; /TensorRT-7.0.0.11/lib/libnvinfer_plugin.so.7 (0x00007f2a758e2000)
        libstdc++.so.6 =&gt; /TensorRT-7.0.0.11/lib/libstdc++.so.6 (0x00007f2a75555000)
        libgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00007f2a7532f000)
        libc.so.6 =&gt; /lib64/libc.so.6 (0x00007f2a74f61000)
        libcudnn.so.7 =&gt; /usr/local/cuda/lib64/libcudnn.so.7 (0x00007f2a60768000)
        libcublas.so.10.0 =&gt; /usr/local/cuda/lib64/libcublas.so.10.0 (0x00007f2a5c1d2000)
        libcudart.so.10.0 =&gt; /usr/local/cuda/lib64/libcudart.so.10.0 (0x00007f2a5bf57000)
        libmyelin.so.1 =&gt; /TensorRT-7.0.0.11/lib/libmyelin.so.1 (0x00007f2a5b746000)
        libnvrtc.so.10.0 =&gt; /usr/local/cuda/lib64/libnvrtc.so.10.0 (0x00007f2a5a12a000)
        libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007f2a59f25000)
        libm.so.6 =&gt; /lib64/libm.so.6 (0x00007f2a59c23000)
        /lib64/ld-linux-x86-64.so.2 (0x00007f2a84f5c000)
        libprotobuf.so.16 =&gt; /onnx-tensorrt/protobuf-3.6.0/lib/libprotobuf.so.16 (0x00007f2a597ad000)
        libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007f2a59591000)
        librt.so.1 =&gt; /lib64/librt.so.1 (0x00007f2a59389000)
        libz.so.1 =&gt; /lib64/libz.so.1 (0x00007f2a59172000)</code></pre></div><h2><b>TensorRT部署相关</b></h2><p data-pid="T2YvWHzs">部署TensorRT的方式，官方提供了三种：</p><ul><li data-pid="-utvNumM">集成在Tensorflow中使用，比例TF-TRT，这种操作起来比较便捷，但是加速效果并不是很好；</li><li data-pid="dLtbgfXI">在TensorRT Runtime环境中运行模型，就是直接使用TensorRT；</li><li data-pid="opzsAwiK">搭配服务框架使用，最配的就是官方的triton-server，完美支持TensorRT，用在生产环境杠杠的！</li></ul><h2><b>TensorRT支持哪几种权重精度</b></h2><p data-pid="6RYK6MIe">支持FP32、FP16、INT8、TF32等，这几种类型都比较常用。</p><ul><li data-pid="fHMV_-66">FP32：单精度浮点型，没什么好说的，深度学习中最常见的数据格式，训练推理都会用到；</li><li data-pid="G-SqURm5">FP16：半精度浮点型，相比FP32占用内存减少一半，有相应的指令值，速度比FP32要快很多；</li><li data-pid="LnBGLozI">TF32：第三代Tensor Core支持的一种数据类型，是一种截短的 Float32 数据格式，将FP32中23个尾数位截短为10bits，而指数位仍为8bits，总长度为19(=1+8 +10)。保持了与FP16同样的精度(尾数位都是 10 位），同时还保持了FP32的动态范围指数位都是8位)；</li><li data-pid="t17QF6IF">INT8：整型，相比FP16占用内存减小一半，有相应的指令集，模型量化后可以利用INT8进行加速。</li></ul><p data-pid="CL-ohKVy">简单展示下各种精度的区别：</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-e86c8661901842ffaf960bb2abbe37e9_b.jpg" data-rawwidth="1182" data-rawheight="770" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="1182" data-original="https://pic2.zhimg.com/v2-e86c8661901842ffaf960bb2abbe37e9_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1182&#39; height=&#39;770&#39;&gt;&lt;/svg&gt;" data-rawwidth="1182" data-rawheight="770" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="1182" data-original="https://pic2.zhimg.com/v2-e86c8661901842ffaf960bb2abbe37e9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-e86c8661901842ffaf960bb2abbe37e9_b.jpg" data-original-token="v2-5a2e1abf19071c578b576876f5f39f03"></div></figure><h2><b>简单举一个例子吧！</b></h2><p data-pid="aX8VxOuo">说了那么多理论知识，不来个栗子太说不过去了。</p><p data-pid="iXYRpbXm">这个例子的目的很简单，就是简单展示一下使用<b>TensorRT</b>的一种场景以及基本流程。假设老潘有一个onnx模型想要在3070卡上运行，并且要快，这时候就要祭出TensorRT了。</p><p data-pid="fmRrCkxN">关于什么是ONNX(ONNX是一个模型结构格式，方便不同框架之间的模型转化例如<code>Pytorch-&gt;ONNX-&gt;TRT</code>)可以看<a href="https://zhuanlan.zhihu.com/%E6%88%91%E4%BB%AC%E6%9D%A5%E8%B0%88%E8%B0%88ONNX%E7%9A%84%E6%97%A5%E5%B8%B8" class="internal">这个</a>，这里先不细说了~</p><p data-pid="V6_hfOSB">老潘手头没有现成训练好的模型，直接从开源项目中白嫖一个吧。找到之前一个比较有趣的项目，可以通过图片识别三维人体关键点，俗称人体姿态检测，项目地址在此：</p><ul><li data-pid="AHv8Sy93"><a href="https://link.zhihu.com/?target=https%3A//github.com/digital-standard/ThreeDPoseUnityBarracuda" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/digital-stan</span><span class="invisible">dard/ThreeDPoseUnityBarracuda</span><span class="ellipsis"></span></a></li></ul><p data-pid="Atpul3T4">实现的效果如下，该模型的精度还是可以的，但是画面中只能出现一个目标人物。速度方面的话，主页有介绍：</p><ul><li data-pid="wXueJCjP">GeForce RTX2070 SUPER ⇒ About 30 FPS</li><li data-pid="e7Nmc4-B">GeForce GTX1070 ⇒ About 20 FPS</li></ul><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-e09087aafebedc95e2a892b93c6fcf99_b.jpg" data-rawwidth="1092" data-rawheight="792" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="1092" data-original="https://pic2.zhimg.com/v2-e09087aafebedc95e2a892b93c6fcf99_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1092&#39; height=&#39;792&#39;&gt;&lt;/svg&gt;" data-rawwidth="1092" data-rawheight="792" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="1092" data-original="https://pic2.zhimg.com/v2-e09087aafebedc95e2a892b93c6fcf99_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-e09087aafebedc95e2a892b93c6fcf99_b.jpg" data-original-token="v2-58fb4fa4ec40d9566a487e4aa0531e7a"></div></figure><p data-pid="vesnRjjd">让我们来试试TensorRT能够在3070卡上为其加速多少吧。</p><h2><b>看一下模型结构</b></h2><p data-pid="ApfNlrVl">用到的<b>核心模型</b>在Github主页有提供，即ONNX模型<code>Resnet34_3inputs_448x448_20200609.onnx</code>。作者演示使用的是<code>Unity</code>与<code>Barracuda</code>，其中利用Barracuda去加载onnx模型然后去推理。</p><p data-pid="lziIaijD">我们先用<code>Netron</code>去观察一下这个模型结构，3个输入4个输出，为什么是3个输入呢？其实这三个输入在模型的不同阶段，作者训练的时候的输入数据可能是从视频中截出来的连续3帧的图像，这样训练可以提升模型的精度(之后模型推理的时候也需要一点时间的预热，毕竟3帧的输入也是有是时间连续性的)：</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-77d07753cd215b7e61d242ce4a81aa53_b.jpg" data-rawwidth="2334" data-rawheight="1536" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="2334" data-original="https://pic4.zhimg.com/v2-77d07753cd215b7e61d242ce4a81aa53_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2334&#39; height=&#39;1536&#39;&gt;&lt;/svg&gt;" data-rawwidth="2334" data-rawheight="1536" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="2334" data-original="https://pic4.zhimg.com/v2-77d07753cd215b7e61d242ce4a81aa53_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-77d07753cd215b7e61d242ce4a81aa53_b.jpg" data-original-token="v2-0b80cd3b120d7bf94faeb5befc2afd9a"></div></figure><h2><b>使用onnxruntime验证一下模型</b></h2><p data-pid="yUrgdocH">一般来说，我们在通过不同框架(Pytorch、TF)转换ONNX模型之后，需要验证一下ONNX模型的准确性，否则错误的onnx模型转成的TensorRT模型也100%是错误的。</p><p data-pid="3H_YEFpk">但显然上述作者提供的<code>Resnet34_3inputs_448x448_20200609.onnx</code>是验证过没问题的，但这边我们也走一下流程，以下代码使用onnxruntime去运行:</p><div class="highlight"><pre><code class="language-python3"><span class="kn">import</span> <span class="nn">onnx</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">onnxruntime</span> <span class="k">as</span> <span class="nn">rt</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="n">model_path</span> <span class="o">=</span> <span class="s1">'/home/oldpan/code/models/Resnet34_3inputs_448x448_20200609.onnx'</span>

<span class="c1"># 验证模型合法性</span>
<span class="n">onnx_model</span> <span class="o">=</span> <span class="n">onnx</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span>
<span class="n">onnx</span><span class="o">.</span><span class="n">checker</span><span class="o">.</span><span class="n">check_model</span><span class="p">(</span><span class="n">onnx_model</span><span class="p">)</span>

<span class="c1"># 读入图像并调整为输入维度</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">"data/images/person.png"</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="mi">448</span><span class="p">,</span><span class="mi">448</span><span class="p">))</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">image</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

<span class="c1"># 设置模型session以及输入信息</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="n">InferenceSession</span><span class="p">(</span><span class="n">model_path</span><span class="p">)</span>
<span class="n">input_name1</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">get_inputs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="n">input_name2</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">get_inputs</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="n">input_name3</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">get_inputs</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>

<span class="n">output</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">{</span><span class="n">input_name1</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span> <span class="n">input_name2</span><span class="p">:</span> <span class="n">image</span><span class="p">,</span> <span class="n">input_name3</span><span class="p">:</span> <span class="n">image</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="p">)</span></code></pre></div><p data-pid="IKSsrsL7">打印一下结果看看是什么样子吧~其实输出信息还是很多的，全粘过来太多了，毕竟这个模型的输出确实是多...这里只截取了部分内容意思一哈：</p><div class="highlight"><pre><code class="language-python3"><span class="mi">2021</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">05</span> <span class="mi">10</span><span class="p">:</span><span class="mi">44</span><span class="p">:</span><span class="mf">08.696562083</span> <span class="p">[</span><span class="n">W</span><span class="p">:</span><span class="n">onnxruntime</span><span class="p">:,</span> <span class="n">graph</span><span class="o">.</span><span class="n">cc</span><span class="p">:</span><span class="mi">3106</span> <span class="n">CleanUnusedInitializers</span><span class="p">]</span> <span class="n">Removing</span> <span class="n">initializer</span> <span class="s1">'offset.1.num_batches_tracked'</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">used</span> <span class="n">by</span> <span class="nb">any</span> <span class="n">node</span> <span class="ow">and</span> <span class="n">should</span> <span class="n">be</span> <span class="n">removed</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">model</span><span class="o">.</span>
<span class="o">...</span>
<span class="p">[</span><span class="n">array</span><span class="p">([[[[</span> <span class="mf">0.16470502</span><span class="p">,</span>  <span class="mf">0.9578098</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.82495296</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.59656703</span><span class="p">,</span>
           <span class="mf">0.26985374</span><span class="p">,</span>  <span class="mf">0.5808018</span> <span class="p">],</span>
         <span class="p">[</span><span class="o">-</span><span class="mf">0.6096473</span> <span class="p">,</span>  <span class="mf">0.9780458</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.9723106</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.90165156</span><span class="p">,</span>
          <span class="o">-</span><span class="mf">0.8959699</span> <span class="p">,</span>  <span class="mf">0.91829604</span><span class="p">],</span>
         <span class="p">[</span><span class="o">-</span><span class="mf">0.03562748</span><span class="p">,</span>  <span class="mf">0.3730615</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.9816262</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9905239</span> <span class="p">,</span>
          <span class="o">-</span><span class="mf">0.4543069</span> <span class="p">,</span>  <span class="mf">0.5840921</span> <span class="p">],</span>
         <span class="o">...</span><span class="p">,</span>
         <span class="o">...</span><span class="p">,</span>
         <span class="p">[</span><span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span>
          <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">],</span>
         <span class="p">[</span><span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span>
          <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">],</span>
         <span class="p">[</span><span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">0.</span>        <span class="p">,</span>
          <span class="mf">0.</span>        <span class="p">,</span> <span class="mf">0.</span>        <span class="p">]]]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)]</span></code></pre></div><p data-pid="lJ9UJmRY">看到<code>Removing initializer 'offset.1.num_batches_tracked'. It is not used by any node and should be removed from the model</code>这个提示我亲切地笑了，这不就是用Pytorch训练的么，看来作者这个模型也是通过Pytorch训练然后导出来的。</p><p data-pid="OeSj-1sZ">怎么对比下ONNX和Pytorch输出结果是否一致呢？可以直接看到输出的数值是多少，但是这个模型的输出还是比较多的，直接通过肉眼对比转换前后的结果是不理智的。我们可以通过代码简单对比一下：</p><div class="highlight"><pre><code class="language-python3"><span class="n">y</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y_onnx</span> <span class="o">=</span> <span class="n">model_onnx</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># check the output against PyTorch</span>
<span class="nb">print</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y_trt</span><span class="p">)))</span></code></pre></div><h2><b>ONNX转换为TensorRT模型</b></h2><p data-pid="LeHreiUd">ONNX模型转换TensorRT模型还是比较容易的，目前TensorRT官方对ONNX模型的支持最好，而且后续也会将精力重点放到ONNX上面(相比ONNX，UFF、Caffe这类转换工具可能不会再更新了)。</p><p data-pid="DyAaGUqf">目前官方的转换工具<a href="https://link.zhihu.com/?target=https%3A//github.com/onnx/onnx-tensorrt" class=" wrap external" target="_blank" rel="nofollow noreferrer">TensorRT Backend For ONNX</a>(简称ONNX-TensorRT)已经比较成熟了，开发者也在积极开发，提issue官方回复的也比较快。我们就用上述工具来转一下这个模型。</p><p data-pid="pWRfLPXF">我们不需要克隆<a href="https://link.zhihu.com/?target=https%3A//github.com/onnx/onnx-tensorrt" class=" wrap external" target="_blank" rel="nofollow noreferrer">TensorRT Backend For ONNX</a>，之前下载好的<b>TensorRT包</b>中已经有这个工具的可执行文件了，官方已经替我们编译好了，只要我们的环境符合要求，是直接可以用的。</p><p data-pid="aDSBlAZU">到<code>TensorRT-7.2.3.4/bin</code>中直接使用<code>trtexec</code>这个工具，这个工具可以比较快速地转换ONNX模型以及测试转换后的trt模型有多快：</p><ul><li data-pid="jILORqOh"><a href="https://link.zhihu.com/?target=https%3A//github.com/NVIDIA/TensorRT/blob/master/samples/opensource/trtexec/README.md" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/NVIDIA/Tenso</span><span class="invisible">rRT/blob/master/samples/opensource/trtexec/README.md</span><span class="ellipsis"></span></a></li></ul><p data-pid="rgX7ZgWl">我们使用命令转换，可以看到输出信息：</p><div class="highlight"><pre><code class="language-console">&amp;&amp;&amp;&amp; RUNNING TensorRT.trtexec # ./trtexec --onnx=Resnet34_3inputs_448x448_20200609.onnx --saveEngine=Resnet34_3inputs_448x448_20200609.trt --workspace=6000
[05/09/2021-17:00:50] [I] === Model Options ===
[05/09/2021-17:00:50] [I] Format: ONNX
[05/09/2021-17:00:50] [I] Model: Resnet34_3inputs_448x448_20200609.onnx
[05/09/2021-17:00:50] [I] Output:
[05/09/2021-17:00:50] [I] === Build Options ===
[05/09/2021-17:00:50] [I] Max batch: explicit
[05/09/2021-17:00:50] [I] Workspace: 6000 MiB
[05/09/2021-17:00:50] [I] minTiming: 1
[05/09/2021-17:00:50] [I] avgTiming: 8
[05/09/2021-17:00:50] [I] Precision: FP32
[05/09/2021-17:00:50] [I] Calibration: 
[05/09/2021-17:00:50] [I] Refit: Disabled
[05/09/2021-17:00:50] [I] Safe mode: Disabled
[05/09/2021-17:00:50] [I] Save engine: Resnet34_3inputs_448x448_20200609.trt
[05/09/2021-17:00:50] [I] Load engine: 
[05/09/2021-17:00:50] [I] Builder Cache: Enabled
[05/09/2021-17:00:50] [I] NVTX verbosity: 0
[05/09/2021-17:00:50] [I] Tactic sources: Using default tactic sources
[05/09/2021-17:00:50] [I] Input(s)s format: fp32:CHW
[05/09/2021-17:00:50] [I] Output(s)s format: fp32:CHW
...
[05/09/2021-17:02:32] [I] Timing trace has 0 queries over 3.16903 s
[05/09/2021-17:02:32] [I] Trace averages of 10 runs:
[05/09/2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.5795 ms  
[05/09/2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.6697 ms 
[05/09/2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.6537 ms 
[05/09/2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.5953 ms 
[05/09/2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.6333 ms 
[05/09/2021-17:02:32] [I] Host Latency
[05/09/2021-17:02:32] [I] min: 4.9716 ms (end to end 108.17 ms)
[05/09/2021-17:02:32] [I] max: 4.4915 ms (end to end 110.732 ms)
[05/09/2021-17:02:32] [I] mean: 4.0049 ms (end to end 109.226 ms)
[05/09/2021-17:02:32] [I] median: 4.9646 ms (end to end 109.241 ms)
[05/09/2021-17:02:32] [I] percentile: 4.4915 ms at 99% (end to end 110.732 ms at 99%)
[05/09/2021-17:02:32] [I] throughput: 0 qps
[05/09/2021-17:02:32] [I] walltime: 3.16903 s
[05/09/2021-17:02:32] [I] Enqueue Time
[05/09/2021-17:02:32] [I] min: 0.776001 ms
[05/09/2021-17:02:32] [I] max: 1.37109 ms
[05/09/2021-17:02:32] [I] median: 0.811768 ms
[05/09/2021-17:02:32] [I] GPU Compute
[05/09/2021-17:02:32] [I] min: 4.5983 ms
[05/09/2021-17:02:32] [I] max: 4.1133 ms
[05/09/2021-17:02:32] [I] mean: 4.6307 ms
[05/09/2021-17:02:32] [I] median: 4.5915 ms
[05/09/2021-17:02:32] [I] percentile: 4.1133 ms at 99%</code></pre></div><p data-pid="SYTPaKeH">其中FP32推理速度是4-5ms左右，而FP16只需要1.6ms。</p><p data-pid="ad5sf-2o">PS：关于<b>ONNX-TensorRT</b>这个工具，本身是由C++写的，整体结构设计的比较紧凑，值得一读，之后老潘会讲述ONNX-TensorRT这个工具的编译和使用方法。</p><h2><b>运行TensorRT模型</b></h2><p data-pid="LXpAFJRZ">这里我们使用TensorRT的Python端加载转换好的<code>resnet34_3dpose.trt</code>模型。使用Python端时首先需要安装<code>TensorRT-tar</code>包下的pyhton目录下的<code>tensorrt-7.2.3.4-cp37-none-linux_x86_64.whl</code>安装包，目前7.0支持最新的python版本为3.8，而TensorRT-8-EA则开始支持python-3.9了。</p><p data-pid="uDslpT4E">安装Python-TensorRT后，首先<code>import tensorrt as trt</code>。</p><p data-pid="P1sRKIQu">然后加载Trt模型：</p><div class="highlight"><pre><code class="language-python3"><span class="n">logger</span> <span class="o">=</span> <span class="n">trt</span><span class="o">.</span><span class="n">Logger</span><span class="p">(</span><span class="n">trt</span><span class="o">.</span><span class="n">Logger</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
  <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"resnet34_3dpose.trt"</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">,</span> <span class="n">trt</span><span class="o">.</span><span class="n">Runtime</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span> <span class="k">as</span> <span class="n">runtime</span><span class="p">:</span>
    <span class="n">engine</span><span class="o">=</span><span class="n">runtime</span><span class="o">.</span><span class="n">deserialize_cuda_engine</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span></code></pre></div><p data-pid="P-E2cC2o">加载好之后，我们打印下这个模型的输入输出信息，观察是否与ONNX模型一致：</p><div class="highlight"><pre><code class="language-python3"><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">engine</span><span class="o">.</span><span class="n">num_bindings</span><span class="p">):</span>
    <span class="n">is_input</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">binding_is_input</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">get_binding_name</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
    <span class="n">op_type</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">get_binding_dtype</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
    <span class="n">model_all_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">shape</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">get_binding_shape</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">'input id:'</span><span class="p">,</span><span class="n">idx</span><span class="p">,</span><span class="s1">'   is input: '</span><span class="p">,</span> <span class="n">is_input</span><span class="p">,</span><span class="s1">'  binding name:'</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s1">'  shape:'</span><span class="p">,</span> <span class="n">shape</span><span class="p">,</span> <span class="s1">'type: '</span><span class="p">,</span> <span class="n">op_type</span><span class="p">)</span></code></pre></div><p data-pid="IAIBsWXj">可以看到：</p><div class="highlight"><pre><code class="language-python3"><span class="n">engine</span> <span class="n">bindings</span> <span class="n">message</span><span class="p">:</span> 
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">0</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">True</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="nb">input</span><span class="o">.</span><span class="mi">1</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">448</span><span class="p">,</span> <span class="mi">448</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span>
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">1</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">True</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="nb">input</span><span class="o">.</span><span class="mi">4</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">448</span><span class="p">,</span> <span class="mi">448</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span>
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">2</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">True</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="nb">input</span><span class="o">.</span><span class="mi">7</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">448</span><span class="p">,</span> <span class="mi">448</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span>
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">3</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">False</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="mi">499</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span>
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">4</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">False</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="mi">504</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span>
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">5</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">False</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="mi">516</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">672</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span>
<span class="nb">input</span> <span class="nb">id</span><span class="p">:</span> <span class="mi">6</span>    <span class="ow">is</span> <span class="nb">input</span><span class="p">:</span>  <span class="kc">False</span>   <span class="n">binding</span> <span class="n">name</span><span class="p">:</span> <span class="mi">530</span>   <span class="n">shape</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">DataType</span><span class="o">.</span><span class="n">FLOAT</span></code></pre></div><p data-pid="QJ92T_Om">3个输入4个输出，完全一致没有问题！</p><p data-pid="H1eOIsn8">然后载入图像，运行模型：</p><div class="highlight"><pre><code class="language-python3"><span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="n">image_path</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">64</span><span class="p">))</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">img_input</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">img_input</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">from_numpy</span><span class="p">(</span><span class="n">img_input</span><span class="p">)</span>
<span class="n">img_input</span> <span class="o">=</span> <span class="n">img_input</span><span class="o">.</span><span class="n">unsqueeze</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">img_input</span> <span class="o">=</span> <span class="n">img_input</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="c1"># 运行模型</span>
<span class="n">result_trt</span> <span class="o">=</span> <span class="n">trt_model</span><span class="p">(</span><span class="n">img_input</span><span class="p">)</span></code></pre></div><p data-pid="QN6IyaMG">咦？这么简单么，trt的engine在哪儿？</p><p data-pid="CS61a61E">当然不是，其实这个<code>trt_model</code>是一个类，我们这样使用它：</p><div class="highlight"><pre><code class="language-python3"><span class="c1"># engine即上述加载的engine</span>
<span class="n">trt_model</span> <span class="o">=</span> <span class="n">TRTModule</span><span class="p">(</span><span class="n">engine</span><span class="p">,</span> <span class="p">[</span><span class="s2">"input.1"</span><span class="p">,</span> <span class="s2">"input.4"</span><span class="p">,</span> <span class="s2">"input.7"</span><span class="p">])</span></code></pre></div><p data-pid="gHk2i1BX">而这个<code>TRTModule</code>是什么呢，为了方便地加载TRT模型以及创建runtime，我们借鉴<code>torch2trt</code>这个库中的一个实现类，比较好地结合了Pytorch与TensorRT，具体实现如下：</p><div class="highlight"><pre><code class="language-python3"><span class="k">class</span> <span class="nc">TRTModule</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">input_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output_names</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TRTModule</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># engine创建执行context</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">create_execution_context</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">input_names</span> <span class="o">=</span> <span class="n">input_names</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_names</span> <span class="o">=</span> <span class="n">output_names</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">inputs</span><span class="p">):</span>
        <span class="n">batch_size</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">bindings</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_names</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_names</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">input_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_names</span><span class="p">):</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">get_binding_index</span><span class="p">(</span><span class="n">input_name</span><span class="p">)</span>
            <span class="c1"># 设定shape </span>
            <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">set_binding_shape</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">inputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>
            <span class="n">bindings</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">inputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">contiguous</span><span class="p">()</span><span class="o">.</span><span class="n">data_ptr</span><span class="p">()</span>

        <span class="c1"># create output tensors</span>
        <span class="n">outputs</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_names</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">output_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_names</span><span class="p">):</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">get_binding_index</span><span class="p">(</span><span class="n">output_name</span><span class="p">)</span>
            <span class="n">dtype</span> <span class="o">=</span> <span class="n">torch_dtype_from_trt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">get_binding_dtype</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
            <span class="n">shape</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">get_binding_shape</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
            <span class="n">device</span> <span class="o">=</span> <span class="n">torch_device_from_trt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">get_location</span><span class="p">(</span><span class="n">idx</span><span class="p">))</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">dtype</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">device</span><span class="p">)</span>
            <span class="n">outputs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span>
            <span class="n">bindings</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">data_ptr</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">execute_async_v2</span><span class="p">(</span><span class="n">bindings</span><span class="p">,</span>
                                      <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">current_stream</span><span class="p">()</span><span class="o">.</span><span class="n">cuda_stream</span><span class="p">)</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">outputs</span> <span class="o">=</span> <span class="n">outputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">outputs</span></code></pre></div><p data-pid="FHhDJPaA">我们重点看<code>__init__()</code>和<code>forward</code>这两个成员方法，即engine创建context，然后确定输入输出，执行<code>execute_async_v2</code>即可获取结果。</p><p data-pid="Qa_CH7Uf">就这样，使用TensorRT调用已经序列化好的trt模型就成功啦。</p><h2><b>利用Polygraphy查看ONNX与TRT模型的输出差异</b></h2><p data-pid="jqhDiy4P"><a href="https://link.zhihu.com/?target=https%3A//github.com/NVIDIA/TensorRT/tree/master/tools/Polygraphy" class=" wrap external" target="_blank" rel="nofollow noreferrer">Polygraphy</a>是TensorRT官方提供的一系列小工具合集，通过这个工具我们看一下这个<code>Resnet34_3inputs_448x448_20200609.onnx</code>模型在转换为trt之后是否会有精度折损：</p><p data-pid="kPvGiVzJ">首先看一下FP32精度：</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-60cd3021f40b8316396a8c0b0c388f2e_b.jpg" data-rawwidth="2654" data-rawheight="760" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="2654" data-original="https://pic3.zhimg.com/v2-60cd3021f40b8316396a8c0b0c388f2e_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2654&#39; height=&#39;760&#39;&gt;&lt;/svg&gt;" data-rawwidth="2654" data-rawheight="760" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="2654" data-original="https://pic3.zhimg.com/v2-60cd3021f40b8316396a8c0b0c388f2e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-60cd3021f40b8316396a8c0b0c388f2e_b.jpg" data-original-token="v2-46c6bbc544117a260a8bc85050e0c6e3"></div></figure><p data-pid="A52RGwsh">再看下FP16精度：</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-ae2682e725e58544bd8526a9da1f2fa7_b.jpg" data-rawwidth="2664" data-rawheight="688" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="2664" data-original="https://pic4.zhimg.com/v2-ae2682e725e58544bd8526a9da1f2fa7_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2664&#39; height=&#39;688&#39;&gt;&lt;/svg&gt;" data-rawwidth="2664" data-rawheight="688" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="2664" data-original="https://pic4.zhimg.com/v2-ae2682e725e58544bd8526a9da1f2fa7_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-ae2682e725e58544bd8526a9da1f2fa7_b.jpg" data-original-token="v2-0b7ead183c8c7c74d5e0cbce6d07bb27"></div></figure><p data-pid="-ox_wAVS">这里的绝对误差和相对误差容忍度设置的均为<code>1e-3</code>，精确到小数点后3位，可以看到上述onnx模型在转化为FP32的trt是没有大问题的，而FP16则有比较多的精度折损。至于会不会严重地影响结果需要我们通过具体或者一批case分析。限于篇幅放到后续说。</p><p data-pid="UiYnVgz5">例子就这样~</p><h2><b>TensorRT的缺点</b></h2><p data-pid="z3qzmrdb">TensorRT不是没有“缺点”的，有一些小小的缺点需要吐槽一下：</p><ul><li data-pid="sWXUj5Hr">经过infer优化后的模型与特定GPU绑定，例如在1080TI上生成的模型在2080TI上无法使用；</li><li data-pid="fMnqAkw-">高版本的TensorRT依赖于高版本的CUDA版本，而高版本的CUDA版本依赖于高版本的驱动，如果想要使用新版本的TensorRT，更换环境是不可避免的；</li><li data-pid="K6tGKIMu">TensorRT尽管好用，但推理优化infer还是闭源的，像深度学习炼丹一样，也像个黑盒子，使用起来会有些畏手畏脚，不能够完全掌控。所幸TensorRT提供了较为多的工具帮助我们调试。</li></ul><p data-pid="nGT4WQXQ">正所谓爱之深恨之切，老潘也知道，这些”缺点“也是没有办法的缺点，既然无法避免，就轻轻吐槽一下吧。</p><h2><b>TensorRT配套周边</b></h2><p data-pid="vva5fXxf">TensorRT毕竟发展这么多年了，官方也深知大家使用TensorRT的一些<b>痛点</b>，所以开发了一些比较实用的小工具来供大家使用，工具目前在TensorRT的<a href="https://link.zhihu.com/?target=https%3A//github.com/NVIDIA/TensorRT/tree/master/tools" class=" wrap external" target="_blank" rel="nofollow noreferrer">开源主页</a>，也就是说这些工具也是开源的：</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-4863f96293c72fbfa45fec28d86fd647_b.png" data-rawwidth="1816" data-rawheight="254" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="1816" data-original="https://pic4.zhimg.com/v2-4863f96293c72fbfa45fec28d86fd647_r.jpg"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1816&#39; height=&#39;254&#39;&gt;&lt;/svg&gt;" data-rawwidth="1816" data-rawheight="254" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="1816" data-original="https://pic4.zhimg.com/v2-4863f96293c72fbfa45fec28d86fd647_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-4863f96293c72fbfa45fec28d86fd647_b.png" data-original-token="v2-4863f96293c72fbfa45fec28d86fd647"></div></figure><p data-pid="o7G8CfTd">这三个工具的基本功能大概介绍下：</p><ul><li data-pid="uJf695vz">ONNX GraphSurgeon 可以修改我们导出的ONNX模型，增加或者剪掉某些节点，修改名字或者维度等等</li><li data-pid="CxlkhHT0">Polygraphy 各种小工具的集合，例如比较ONNX和trt模型的精度，观察trt模型每层的输出等等，主要用来debug一些模型的信息，还是比较有用的</li><li data-pid="pHvSEa-L">PyTorch-Quantization 可以在Pytorch训练或者推理的时候加入模拟量化操作，从而提升量化模型的精度和速度，并且支持量化训练后的模型导出ONNX和TRT</li></ul><p data-pid="D3dtVdDO">老潘用过<code>ONNX GraphSurgeon</code>以及<code>Polygraphy</code>，两者都是在实际部署转换中比较实用的工具，也确实解决了一些问题。唯一不足的是这些工具的教程都不是很详细，较难上手，之后老潘也会<b>详细介绍一哈这些工具的使用方法</b>。</p><h2><b>参考链接</b></h2><ul><li data-pid="QIB8MHiW">TensorRT-Index：<a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/deeplearning/tensorrt/quick-start-guide/index.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">docs.nvidia.com/deeplea</span><span class="invisible">rning/tensorrt/quick-start-guide/index.html</span><span class="ellipsis"></span></a></li><li data-pid="6ERrIjww">API：<a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/deeplearning/tensorrt/api/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">docs.nvidia.com/deeplea</span><span class="invisible">rning/tensorrt/api/</span><span class="ellipsis"></span></a></li><li data-pid="QD35b--e">ONNX GraphSurgeon: <a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/deeplearning/tensorrt/onnx-graphsurgeon/docs/index.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">docs.nvidia.com/deeplea</span><span class="invisible">rning/tensorrt/onnx-graphsurgeon/docs/index.html</span><span class="ellipsis"></span></a></li><li data-pid="Cf9IxjT8"><a href="https://link.zhihu.com/?target=https%3A//docs.nvidia.com/deeplearning/tensorrt/quick-start-guide/index.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">docs.nvidia.com/deeplea</span><span class="invisible">rning/tensorrt/quick-start-guide/index.html</span><span class="ellipsis"></span></a></li></ul><h2><b>后记</b></h2><p data-pid="KIvDV6Il">写不动了先这样吧...关于TensorRT想写的还有很多，不想错过可以关注我哦，希望这篇文章能够对学习TensorRT的各位有些帮助~</p><p data-pid="_d4gW2o0">个人来讲，TensorRT最好的学习方式还是实战，只有踩过一些坑，改过一些代码，跑通过一些程序，才能更好地学习TensorRT。而所谓的那么些文档，也无非是帮助我们少踩些坑罢了。无论如何，大部分坑该踩的还是踩的，不要等准备好再上，赶紧的，代码跑起来吧！</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-4934700e117f40411aa6f87f37755bb1_b.jpg" data-rawwidth="344" data-rawheight="293" data-size="normal" data-caption="" class="content_image" width="344"/></noscript><div><img src="data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;344&#39; height=&#39;293&#39;&gt;&lt;/svg&gt;" data-rawwidth="344" data-rawheight="293" data-size="normal" data-caption="" class="content_image lazy" width="344" data-actualsrc="https://pic2.zhimg.com/v2-4934700e117f40411aa6f87f37755bb1_b.jpg" data-original-token="v2-7efc9a49d31560e59c2baf852426787e"></div></figure><p data-pid="C75QHufn">有疑问或者相关问题欢迎拍砖留言~</p></div></div></div></div><div role="button" tabindex="0" class="ContentItem-time">编辑于 2022-10-25 19:27</div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic css-ch8ocw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19562754&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19562754" target="_blank"><div class="css-1gomreu">NVIDIA（英伟达）</div></a></span></div><div class="Tag Topic css-ch8ocw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19570902&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19570902" target="_blank"><div class="css-1gomreu">GPU 通用计算</div></a></span></div><div class="Tag Topic css-ch8ocw" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;21201317&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/21201317" target="_blank"><div class="css-1gomreu">TensorRT</div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 690px; bottom: 0px; left: 506px;"><div class="ContentItem-actions" data-za-detail-view-path-module="BottomBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;371239130&quot;,&quot;token&quot;:&quot;371239130&quot;}}}"><span><button aria-label="赞同 1187 " aria-live="polite" type="button" class="Button VoteButton VoteButton--up FEfUrdfMIKpQDJDqkjte"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" class="Zi Zi--TriangleUp VoteButton-TriangleUp" fill="currentColor"><path fill-rule="evenodd" d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" clip-rule="evenodd"></path></svg></span>赞同 1187</button><button aria-label="反对" aria-live="polite" type="button" class="Button VoteButton VoteButton--down FEfUrdfMIKpQDJDqkjte"><span style="display:inline-flex;align-items:center">​<svg width="10" height="10" viewBox="0 0 24 24" class="Zi Zi--TriangleDown" fill="currentColor"><path fill-rule="evenodd" d="M13.792 20.319c-.781 1.406-2.803 1.406-3.584 0L2.418 6.296c-.76-1.367.228-3.046 1.791-3.046h15.582c1.563 0 2.55 1.68 1.791 3.046l-7.79 14.023Z" clip-rule="evenodd"></path></svg></span></button></span><button type="button" class="Button BottomActions-CommentBtn FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Comment Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>91 条评论</button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="Popover2-toggle" aria-haspopup="true" aria-expanded="false"><img class="ShareMenu-fakeQRCode" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/qrcode" alt="微信二维码"><button type="button" class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Share Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor"><path d="M19.47 1.914a.8.8 0 0 1 1.204.778l-1.872 16.386a.9.9 0 0 1-1.204.743l-4.615-1.692a.7.7 0 0 0-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 0 1 .179-.504l5.808-7.148a.595.595 0 0 0-.897-.781l-5.93 6.354a1.1 1.1 0 0 1-1.258.252L2.57 13.46a.8.8 0 0 1-.08-1.415l16.98-10.13Z"></path></svg></span>分享</button></div></div><button aria-live="polite" type="button" class="Button ContentItem-action FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Heart Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>喜欢</button><button type="button" class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Star Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor"><path d="M10.484 3.307c.673-1.168 2.358-1.168 3.032 0l2.377 4.122a.25.25 0 0 0 .165.12l4.655.987c1.319.28 1.84 1.882.937 2.884l-3.186 3.535a.25.25 0 0 0-.063.193l.5 4.733c.142 1.34-1.222 2.33-2.453 1.782l-4.346-1.938a.25.25 0 0 0-.204 0l-4.346 1.938c-1.231.549-2.595-.442-2.453-1.782l.5-4.733a.25.25 0 0 0-.064-.193L2.35 11.42c-.903-1.002-.382-2.604.937-2.884l4.655-.987a.25.25 0 0 0 .164-.12l2.378-4.122Z"></path></svg></span>收藏</button><button type="button" class="Button ContentItem-action FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--withLabel fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY RuuQ6TOh2cRzJr6WlyQp"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Deliver Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor"><g fill-rule="evenodd" clip-rule="evenodd"><path d="M7.821 12a.75.75 0 0 1 .75-.75h6.857a.75.75 0 0 1 0 1.5H8.571a.75.75 0 0 1-.75-.75ZM8.965 8a.75.75 0 0 1 .75-.75h4.571a.75.75 0 0 1 0 1.5H9.715a.75.75 0 0 1-.75-.75Z"></path><path d="M7.527 3.15a2.35 2.35 0 0 0-2.309 1.91L3.165 15.84a.85.85 0 0 0-.015.16v2.5a2.35 2.35 0 0 0 2.35 2.35h13a2.35 2.35 0 0 0 2.35-2.35V16a.848.848 0 0 0-.015-.16L18.78 5.06a2.35 2.35 0 0 0-2.308-1.91H7.527Zm0 1.7a.65.65 0 0 0-.639.528l-1.88 9.872h13.984l-1.88-9.872a.65.65 0 0 0-.64-.528H7.528Z"></path></g></svg></span>申请转载</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="Popover3-toggle" aria-haspopup="true" aria-expanded="false"><button type="button" class="Button FEfUrdfMIKpQDJDqkjte Button--plain Button--withIcon Button--iconOnly fEPKGkUK5jyc4fUuT0QP B46v1Ak6Gj5sL2JTS4PY hIwDV_tcL6XN1HprrnAq"><span style="display:inline-flex;align-items:center">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="Zi Zi--Dots Button-zi t2ntD6J1DemdOdvh5FB4" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></span></button></div></div></div></div><div class="Post-SideActions" style="opacity: 1;"><button class="like"><div class="Post-SideActions-icon"><svg width="16" height="16" viewBox="0 0 24 24" class="Zi Zi--TriangleUp Post-SideActions-upIcon" fill="currentColor"><path fill-rule="evenodd" d="M13.792 3.681c-.781-1.406-2.803-1.406-3.584 0l-7.79 14.023c-.76 1.367.228 3.046 1.791 3.046h15.582c1.563 0 2.55-1.68 1.791-3.046l-7.79-14.023Z" clip-rule="evenodd"></path></svg></div><div class="likeCount"><div class="likeCount-inner" data-previous="已赞同 1188">赞同 1187</div></div></button><div class="Popover ShareMenu"><div class="ShareMenu-toggler" id="Popover10-toggle" aria-haspopup="true" aria-expanded="false"><img class="ShareMenu-fakeQRCode" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/qrcode" alt="微信二维码"><button><div class="Post-SideActions-icon"><span style="display: inline-flex; align-items: center;">​<svg width="20" height="20" viewBox="0 0 24 24" class="Zi Zi--Share" fill="currentColor"><path d="M19.47 1.914a.8.8 0 0 1 1.204.778l-1.872 16.386a.9.9 0 0 1-1.204.743l-4.615-1.692a.7.7 0 0 0-.831.28l-1.927 3.02c-.43.674-1.474.369-1.474-.43v-3.865a.8.8 0 0 1 .179-.504l5.808-7.148a.595.595 0 0 0-.897-.781l-5.93 6.354a1.1 1.1 0 0 1-1.258.252L2.57 13.46a.8.8 0 0 1-.08-1.415l16.98-10.13Z"></path></svg></span></div>分享</button></div></div></div></div><div class="Sticky--holder" style="position: static; inset: auto auto 0px 0px; display: block; float: none; margin: 0px 0px 10px; height: 54px;"></div></div></article><div class="Post-Sub Post-NormalSub"><div style="overflow: unset;" data-za-detail-view-path-module="CommentList" data-za-extra-module="{}"><div class="Comments-container css-plbgu"><div class="css-79elbk"><div><div class="css-1fo89v5"><img class="Avatar css-m4psdq" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg" srcset="https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=32738c0c 2x"><div class="css-14zbeoe"><div class="css-i6bazn"><div class="css-0"><div class="InputLike css-1rl4wxv Editable"><div class="Dropzone Editable-content RichText RichText--editable RichText--clearBoth ztext" style="min-height: 38px;"><div class="DraftEditor-root"><div class="public-DraftEditorPlaceholder-root"><div class="public-DraftEditorPlaceholder-inner" id="placeholder-ectie" style="white-space: pre-wrap;">欢迎参与讨论</div></div><div class="DraftEditor-editorContainer"><div aria-describedby="placeholder-ectie" class="notranslate public-DraftEditor-content" contenteditable="true" spellcheck="true" tabindex="0" style="outline: none; user-select: text; white-space: pre-wrap; overflow-wrap: break-word;" role="textbox"><div data-contents="true"><div class="Editable-unstyled" data-block="true" data-editor="ectie" data-offset-key="5q9sl-0-0"><div data-offset-key="5q9sl-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="5q9sl-0-0"><br data-text="true"></span></div></div></div></div></div></div></div><div></div><input multiple="" type="file" accept="image/webp,image/jpg,image/jpeg,image/png,image/gif" style="display: none;"></div></div></div></div></div></div><div class="css-u76jt1"><div class="css-hzocic"><div class="css-r4op92"><div class="css-1k10w8f">91 条评论</div></div><div class="css-59erns"></div><div class="css-97fdvh"><div class="css-m0zh86">默认</div><div class="css-1fjr6cy">最新</div></div></div><div class="css-840pn3"><div class="css-1frn93x"><div data-id="2945026577"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/1937a7fb8c518bfdfe7f8a094289247d" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-c78a0697a9df0688c1821659ca59b876_l.jpg" srcset="https://pica.zhimg.com/v2-c78a0697a9df0688c1821659ca59b876_l.jpg?source=06d4cd63 2x" alt="盛世" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/1937a7fb8c518bfdfe7f8a094289247d" target="_blank" class="css-10u695f">盛世</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">老师您好，我是图书策划编辑，想要邀请您写书，不知道您有没有这个意向呢</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-06-03</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>19</button></div></div></div></div></div><div data-id="9947403678"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d28d97af79d17d7eb574f2bd0d949869" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-4595088d7c5acf0907e053dc9cb6e9a4_l.jpg" srcset="https://pic1.zhimg.com/v2-4595088d7c5acf0907e053dc9cb6e9a4_l.jpg?source=06d4cd63 2x" alt="unzip" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d28d97af79d17d7eb574f2bd0d949869" target="_blank" class="css-10u695f">unzip</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div><span class="css-18biwo">​<svg viewBox="0 0 24 24" class="css-paut93" width="18" height="18"><defs><lineargradient id="biz-badges-blue" x1="0" y1="0" x2="100%" y2="73.32%"><stop offset="15%" stop-color="#47D3FF"></stop><stop offset="81.54%" stop-color="#4A7DFF"></stop></lineargradient></defs><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#ffffff" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="url(#biz-badges-blue)"></path><svg width="12" height="12" viewBox="0 0 24 24" fill="#fff" x="6" y="6" class="Zi Zi--Check"><path fill-rule="evenodd" d="M21.864 5.347a1.25 1.25 0 0 1 .04 1.767L10.976 18.537a1.35 1.35 0 0 1-1.965-.014L2.584 11.6a1.25 1.25 0 0 1 1.832-1.702l5.598 6.029L20.096 5.386a1.25 1.25 0 0 1 1.767-.04Z" clip-rule="evenodd"></path></svg></svg></span></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">求封面</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-11-04</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>12</button></div></div></div></div></div><div data-id="2955735891"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/bc6f21d25bc79b071803259ae69818e6" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/e285496e310df6bd46429a7c4cf12867_l.jpg" srcset="https://pic1.zhimg.com/e285496e310df6bd46429a7c4cf12867_l.jpg?source=06d4cd63 2x" alt="詹姆斯瞪" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/bc6f21d25bc79b071803259ae69818e6" target="_blank" class="css-10u695f">詹姆斯瞪</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">大佬，文章中的Pytorch-&gt;ONNX-&gt;TRT的链接好像打不开 orz</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-06-03</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>3</button></div></div></div></div></div><div data-id="10325905028"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/95891687852ac818f376156fe3acf3d7" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l(1).jpg" srcset="https://picx.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63 2x" alt="痞子强" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/95891687852ac818f376156fe3acf3d7" target="_blank" class="css-10u695f">痞子强</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">大佬，继续更呀，看得津津有味。c++ 调trt triton继续写起来<img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-c71427010ca7866f9b08c37ec20672e0.png" class="sticker" alt="[赞]"><img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-c71427010ca7866f9b08c37ec20672e0.png" class="sticker" alt="[赞]"></div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2022-10-20</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>3</button></div></div></div></div></div><div data-id="10666297626"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d1d2bb977077f1fb6bc9546e59bc9f5f" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-be38552baa513f2e4891fa2b11db6db3_l.jpg" srcset="https://picx.zhimg.com/v2-be38552baa513f2e4891fa2b11db6db3_l.jpg?source=06d4cd63 2x" alt="奇点" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d1d2bb977077f1fb6bc9546e59bc9f5f" target="_blank" class="css-10u695f">奇点</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt"><p>有报名的吗？想知道课程质量怎么样</p><p></p></div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2023-08-31</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>1</button></div></div></div></div></div><div data-id="10350248086"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d28d97af79d17d7eb574f2bd0d949869" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-4595088d7c5acf0907e053dc9cb6e9a4_l(1).jpg" srcset="https://picx.zhimg.com/v2-4595088d7c5acf0907e053dc9cb6e9a4_l.jpg?source=06d4cd63 2x" alt="unzip" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d28d97af79d17d7eb574f2bd0d949869" target="_blank" class="css-10u695f">unzip</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div><span class="css-18biwo">​<svg viewBox="0 0 24 24" class="css-paut93" width="18" height="18"><defs><lineargradient id="biz-badges-blue" x1="0" y1="0" x2="100%" y2="73.32%"><stop offset="15%" stop-color="#47D3FF"></stop><stop offset="81.54%" stop-color="#4A7DFF"></stop></lineargradient></defs><svg viewBox="0 0 24 24" x="-3" y="-3" fill="#ffffff" width="30" height="30"><path d="M3.56231227,13.8535307 C2.40051305,12.768677 2.41398885,11.0669203 3.59484487,9.99979213 L3.59222085,9.99654885 C4.26730143,9.45036719 4.79446755,8.21005186 4.7184197,7.34453784 L4.72305873,7.34412719 C4.66942824,5.75539997 5.8824188,4.56066914 7.47188965,4.64242381 L7.47229112,4.6386236 C8.33515314,4.72977993 9.58467253,4.22534048 10.1426329,3.55925173 L10.1462611,3.56228565 C11.2316055,2.40008701 12.9353108,2.41394456 14.0015072,3.59634088 L14.0047263,3.59374004 C14.5498229,4.26841874 15.7896857,4.79521622 16.6545744,4.71844347 L16.6549836,4.72304294 C18.245027,4.66894057 19.4396947,5.88213996 19.3575031,7.47241135 L19.3623099,7.47292747 C19.2704388,8.3358681 19.7742711,9.58421483 20.4407199,10.1424506 L20.437686,10.1460789 C21.5997217,11.2312209 21.5860695,12.9345218 20.4042441,14.0007396 L20.4072865,14.0045125 C19.7325967,14.5495925 19.2055209,15.7896954 19.2815865,16.6561959 L19.2770449,16.6565978 C19.3315454,18.2453037 18.1173775,19.4393568 16.5274188,19.3571512 L16.5269029,19.3619539 C15.6647098,19.270083 14.415408,19.7741709 13.8573671,20.4403558 L13.8537409,20.4373235 C12.76842,21.5995708 11.0650432,21.5864553 9.99899434,20.4039226 L9.99527367,20.406923 C9.45025436,19.7323399 8.21017638,19.2051872 7.34461983,19.2812352 L7.344304,19.2776405 C5.75448683,19.3312904 4.55977145,18.1170085 4.64254978,16.527117 L4.63769921,16.5265942 C4.72957031,15.6644394 4.22547659,14.4151814 3.55928015,13.8571569 L3.56231227,13.8535307 Z"></path></svg><path d="M2.63951518,13.3895441 C3.70763333,14.2842292 4.44777637,16.1226061 4.30075305,17.5023312 L4.32211542,17.3063047 C4.17509209,18.6910561 5.17786655,19.7063729 6.5613937,19.5844846 L6.364106,19.6008202 C7.75140298,19.4789319 9.57474349,20.2554985 10.4468305,21.3349009 L10.3224262,21.1803415 C11.1982831,22.2647703 12.6257916,22.2723098 13.5167278,21.2079863 L13.3898102,21.3600325 C14.2845162,20.2919393 16.1229361,19.5518136 17.5026934,19.6988334 L17.3054057,19.6774716 C18.6914461,19.8244915 19.7067866,18.8217404 19.5836389,17.4395022 L19.6012314,17.6367853 C19.4793403,16.2482641 20.255925,14.4249662 21.3353526,13.5528995 L21.1807897,13.677301 C22.2639871,12.8014646 22.2727834,11.3739894 21.2084351,10.483074 L21.3604848,10.6099886 C20.2923667,9.71530351 19.5522236,7.87818322 19.6992469,6.49720154 L19.6778846,6.69448464 C19.8249079,5.30847665 18.8221335,4.2944164 17.4386063,4.41630468 L17.635894,4.39871256 C16.248597,4.52185742 14.4252565,3.74529084 13.5531695,2.66588842 L13.6775738,2.81919121 C12.8017169,1.73601905 11.3742084,1.72722299 10.4832722,2.79154644 L10.6101898,2.63950024 C9.71548377,3.70759343 7.87706394,4.44771919 6.49730661,4.30195588 L6.69459432,4.32206116 C5.30855394,4.17504128 4.29447,5.17904888 4.41636114,6.56128713 L4.3987686,6.36400404 C4.52065973,7.75126861 3.74407501,9.57456653 2.66464737,10.4478898 L2.81921035,10.3222318 C1.73601288,11.1993248 1.72721662,12.6255433 2.79156494,13.5164587 L2.63951518,13.3895441 Z" fill="url(#biz-badges-blue)"></path><svg width="12" height="12" viewBox="0 0 24 24" fill="#fff" x="6" y="6" class="Zi Zi--Check"><path fill-rule="evenodd" d="M21.864 5.347a1.25 1.25 0 0 1 .04 1.767L10.976 18.537a1.35 1.35 0 0 1-1.965-.014L2.584 11.6a1.25 1.25 0 0 1 1.832-1.702l5.598 6.029L20.096 5.386a1.25 1.25 0 0 1 1.767-.04Z" clip-rule="evenodd"></path></svg></svg></span></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt"><p>一年了，作者还在更新，感动<img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-0942128ebfe78f000e84339fbb745611.png" class="sticker" alt="[爱]"></p></div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2022-11-14</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>1</button></div></div></div></div></div><div data-id="3453766224"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d07d559db2999b07519939ed54a5e516" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l(2).jpg" srcset="https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63 2x" alt="睡教" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/d07d559db2999b07519939ed54a5e516" target="_blank" class="css-10u695f">睡教</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">从trt文件能看到网络结构吗？有没有工具支持这个呢？</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-06-16</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>2</button></div></div></div></div><div data-id="4290646843"><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/8ebdeeb4739c048be1a978fa0427181a" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/776d42d5e206fa36cd9c68872e0fee54_l(1).jpg" srcset="https://picx.zhimg.com/776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=06d4cd63 2x" alt="OLDPAN" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/8ebdeeb4739c048be1a978fa0427181a" target="_blank" class="css-10u695f">OLDPAN</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div><span class="css-8v0dsd" href="">作者</span></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">可以，用polygraph</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-07-08</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>1</button></div></div></div></div></div><div data-id="4653802727"><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/8ebdeeb4739c048be1a978fa0427181a" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/776d42d5e206fa36cd9c68872e0fee54_l(2).jpg" srcset="https://pic1.zhimg.com/776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=06d4cd63 2x" alt="OLDPAN" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/8ebdeeb4739c048be1a978fa0427181a" target="_blank" class="css-10u695f">OLDPAN</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div><span class="css-8v0dsd" href="">作者</span></div></div><svg width="12" height="12" viewBox="0 0 16 16" class="ZDI ZDI--ArrowRightAlt16 css-gx7lzm" fill="currentColor"><path d="M10.727 7.48a.63.63 0 0 1 0 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881Z"></path></svg><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/4913d826271dfea8e07ed376a1b27512" target="_blank" class="css-10u695f">目眺远方</a></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">trt文件包含了trt网络结构的一些信息，虽然经过了trt的优化可能和原始模型不大一样了，不过还是可以看到一些结构的。</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-08-01</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>喜欢</button></div></div></div></div></div><button type="button" class="Button Button--secondary Button--grey css-14jvw02">展开其他 3 条回复<span style="display: inline-flex; align-items: center;">​<svg width="24" height="24" viewBox="0 0 24 24" class="ZDI ZDI--ArrowRightSmall24" fill="currentColor"><path fill-rule="evenodd" d="M10.518 6.224a.875.875 0 0 1 1.212.248l3.335 5.05a.875.875 0 0 1 0 .964l-3.334 5.043a.875.875 0 0 1-1.46-.965l3.015-4.56-3.016-4.568a.875.875 0 0 1 .248-1.212Z" clip-rule="evenodd"></path></svg></span></button></div><div data-id="2380397735"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/0662cc4e356f27d838efa1171b8716fc" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-58c8619160785800e49ff4c0781223d1_l.jpg" srcset="https://picx.zhimg.com/v2-58c8619160785800e49ff4c0781223d1_l.jpg?source=06d4cd63 2x" alt="波尔德" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/0662cc4e356f27d838efa1171b8716fc" target="_blank" class="css-10u695f">波尔德</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">如果计算图中包含了自定义的CUDA算子，TensorRT好像就跑不了。搞点云的表示有点头疼。</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-05-11</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>1</button></div></div></div></div><div data-id="2385260737"><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/8ebdeeb4739c048be1a978fa0427181a" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/776d42d5e206fa36cd9c68872e0fee54_l(1).jpg" srcset="https://picx.zhimg.com/776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=06d4cd63 2x" alt="OLDPAN" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/8ebdeeb4739c048be1a978fa0427181a" target="_blank" class="css-10u695f">OLDPAN</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div><span class="css-8v0dsd" href="">作者</span></div></div><svg width="12" height="12" viewBox="0 0 16 16" class="ZDI ZDI--ArrowRightAlt16 css-gx7lzm" fill="currentColor"><path d="M10.727 7.48a.63.63 0 0 1 0 1.039l-4.299 2.88c-.399.268-.926-.028-.926-.519V5.12c0-.491.527-.787.926-.52l4.299 2.881Z"></path></svg><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/0662cc4e356f27d838efa1171b8716fc" target="_blank" class="css-10u695f">波尔德</a></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt"><p>工作量是挺惊人，不过只要先趟一遍坑后续的路就好走了，<a href="https://zhuanlan.zhihu.com/p/297002406" class="internal">OLDPAN：实现TensorRT自定义插件(plugin)自由！</a></p></div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-05-11</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>2</button></div></div></div></div></div><div data-id="2381715961"><div class="css-8j5fyx"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/99c357dd3453a58ffd890d159fb9a65f" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-7a3d45d997d46046a784c015bbbb1ff0_l.jpg" srcset="https://picx.zhimg.com/v2-7a3d45d997d46046a784c015bbbb1ff0_l.jpg?source=06d4cd63 2x" alt="Peace He" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/99c357dd3453a58ffd890d159fb9a65f" target="_blank" class="css-10u695f">Peace He</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt">plugin确实有点不太好用，我们还在想办法简化这个流程</div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2021-05-11</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>1</button></div></div></div></div></div><button type="button" class="Button Button--secondary Button--grey css-14jvw02">展开其他 2 条回复<span style="display: inline-flex; align-items: center;">​<svg width="24" height="24" viewBox="0 0 24 24" class="ZDI ZDI--ArrowRightSmall24" fill="currentColor"><path fill-rule="evenodd" d="M10.518 6.224a.875.875 0 0 1 1.212.248l3.335 5.05a.875.875 0 0 1 0 .964l-3.334 5.043a.875.875 0 0 1-1.46-.965l3.015-4.56-3.016-4.568a.875.875 0 0 1 .248-1.212Z" clip-rule="evenodd"></path></svg></span></button></div><div data-id="10842090831"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/9210181adf115c979cee4788320ace66" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l(1).jpg" srcset="https://picx.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=06d4cd63 2x" alt="小尹的生活" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/9210181adf115c979cee4788320ace66" target="_blank" class="css-10u695f">小尹的生活</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt"><p>使用命令怎么转换onnx为trt啊，没看懂<img src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-52f8c87376792e927b6cf0896b726f06.png" class="sticker" alt="[害羞]"></p></div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">04-01</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>喜欢</button></div></div></div></div></div><div data-id="10740746556"><div class="css-194v73m"><div class="css-1jll2aj"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/12dad7430ec113dae54c8d0fbc77604e" target="_blank" class="css-1dxejhk"><img class="Avatar css-1ljippv" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-db377f33476a7e0c6818676a9a14e697_l.jpg" srcset="https://pica.zhimg.com/v2-db377f33476a7e0c6818676a9a14e697_l.jpg?source=06d4cd63 2x" alt="某乎不太行" loading="lazy"></a></div></div><div class="css-14nvvry"><div class="css-z0cc58"><div class="css-swj9d4"><div class="css-1tww9qq"><div class="css-1gomreu"><a href="https://www.zhihu.com/people/12dad7430ec113dae54c8d0fbc77604e" target="_blank" class="css-10u695f">某乎不太行</a></div><div class="css-1qe0v6x"><div class="css-1ssbn0c"></div></div></div></div><svg width="16" height="16" viewBox="0 0 24 24" class="ZDI ZDI--Dots24 css-zgte1c" fill="currentColor"><path d="M6 10.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM10.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 12a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"></path></svg></div><div class="CommentContent css-1jpzztt"><p>您好，我想问一下，我将pt导出为onnx，然后再从onnx导出为trt，但发现onnx的input_names，output_names和trt绑定的name不一致，请问下会是什么原因呢？</p></div><div class="css-140jo2"><div class="css-1a5a57m"><div class="css-x1xlu5"><span class="css-12cl38p">2023-11-30</span></div></div><div class="css-18opwoy"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel css-1ij6qqc"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--ChatBubbleFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12 2.75a9.25 9.25 0 1 0 4.737 17.197l2.643.817a1 1 0 0 0 1.25-1.25l-.8-2.588A9.25 9.25 0 0 0 12 2.75Z" clip-rule="evenodd"></path></svg></span>回复</button><button type="button" class="Button Button--plain Button--grey Button--withIcon Button--withLabel css-1vd72tl" style="transform: none;"><span style="display: inline-flex; align-items: center;">​<svg width="1.2em" height="1.2em" viewBox="0 0 24 24" class="ZDI ZDI--HeartFill24 css-15ro776" fill="currentColor"><path fill-rule="evenodd" d="M12.004 4.934c1.015-.944 2.484-1.618 3.98-1.618 3.48 0 6.53 3.265 6.15 7.614-.11 1.254-.686 2.55-1.458 3.753-.778 1.215-1.79 2.392-2.845 3.419-1.054 1.028-2.168 1.923-3.161 2.566a9.96 9.96 0 0 1-1.41.777c-.418.182-.862.32-1.268.32s-.848-.137-1.267-.317a9.918 9.918 0 0 1-1.407-.771c-.992-.64-2.103-1.53-3.156-2.555-1.052-1.024-2.062-2.2-2.84-3.417-.77-1.208-1.346-2.51-1.456-3.775-.38-4.349 2.67-7.614 6.15-7.614 1.484 0 2.983.673 3.988 1.618Z" clip-rule="evenodd"></path></svg></span>喜欢</button></div></div></div></div></div><div></div></div></div><div class="css-wu78cf"><div class="css-vurnku">点击查看全部评论</div><svg width="24" height="24" viewBox="0 0 24 24" class="ZDI ZDI--ArrowRightSmall24" fill="currentColor"><path fill-rule="evenodd" d="M10.518 6.224a.875.875 0 0 1 1.212.248l3.335 5.05a.875.875 0 0 1 0 .964l-3.334 5.043a.875.875 0 0 1-1.46-.965l3.015-4.56-3.016-4.568a.875.875 0 0 1 .248-1.212Z" clip-rule="evenodd"></path></svg></div></div><div class="css-l8iyjs"></div><div class="css-kt4t4n" style="position: relative; box-shadow: 0px 0px;"><div><div class="css-59erns"><img class="Avatar css-m4psdq" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg" srcset="https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff_l.jpg?source=32738c0c 2x"><div class="css-14zbeoe"><div class="css-i6bazn"><div class="css-1ryozpy"><div class="InputLike css-1rl4wxv Editable"><div class="Dropzone Editable-content RichText RichText--editable RichText--clearBoth ztext" style="min-height: 38px;"><div class="DraftEditor-root"><div class="public-DraftEditorPlaceholder-root"><div class="public-DraftEditorPlaceholder-inner" id="placeholder-a6f7t" style="white-space: pre-wrap;">欢迎参与讨论</div></div><div class="DraftEditor-editorContainer"><div aria-describedby="placeholder-a6f7t" class="notranslate public-DraftEditor-content" contenteditable="true" role="textbox" spellcheck="true" tabindex="0" style="outline: none; user-select: text; white-space: pre-wrap; overflow-wrap: break-word;"><div data-contents="true"><div class="Editable-unstyled" data-block="true" data-editor="a6f7t" data-offset-key="d7v7g-0-0"><div data-offset-key="d7v7g-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="d7v7g-0-0"><br data-text="true"></span></div></div></div></div></div></div></div><div></div><input multiple="" type="file" accept="image/webp,image/jpg,image/jpeg,image/png,image/gif" style="display: none;"></div></div></div></div></div></div></div><div></div></div></div></div><div class="PostIndex-Contributions" data-za-detail-view-path-module="ColumnList" data-za-detail-view-path-module_name="文章被以下专栏收录" data-za-extra-module="{}"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><a class="ColumnLink" href="https://www.zhihu.com/column/Oldpan"><div class="css-1gomreu"><img class="Avatar css-1u7r5c9" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/v2-23935f88ab1ac088a515b34a94eb3396_l.jpg" srcset="https://pic1.zhimg.com/v2-23935f88ab1ac088a515b34a94eb3396_l.jpg?source=172ae18b 2x" alt="深度学习那些事"></div></a></div><div class="ContentItem-head"><h2 class="ContentItem-title"><span><a class="ColumnLink ColumnItem-Title" href="https://www.zhihu.com/column/Oldpan"><div class="css-1gomreu">深度学习那些事</div></a></span></h2><div class="ContentItem-meta">分享深度学习相关知识，持续酝酿质量文。</div></div></div></div></ul></div><div role="complementary" aria-label="推荐阅读" class="Recommendations-Main" style="width: 1702px;"><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class="Recommendations-List"><button class="PagingButton PagingButton-Previous" disabled="" data-za-detail-view-path-module="Unknown" data-za-detail-view-path-module_name="推荐阅读" data-za-extra-module="{}"><svg width="40" height="40" viewBox="0 0 24 24" fill="#d3d3d3" class="Zi Zi--ArrowLeft"><path fill-rule="evenodd" d="M14.609 6.322c.349.335.36.889.026 1.237l-4.253 4.438 4.254 4.444a.875.875 0 1 1-1.264 1.21l-4.834-5.05a.875.875 0 0 1 0-1.21l4.834-5.043a.875.875 0 0 1 1.237-.026Z" clip-rule="evenodd"></path></svg></button><a href="https://zhuanlan.zhihu.com/p/566487461" class="PostItem"><div><h1 class="PostItem-Title">TensorRT 简介</h1><p class="PostItem-Summary">对于 cuda、cuBlas 和 cuDnn，都是对应局部的算子节点，如果需要完成一个网络，需要自己写类推理框架，连接所有算子。如果使用 tensorRT，只需要一行代码进行调用，其他内容都已经在库内完…</p><div class="PostItem-Footer"><span>天边的一颗星</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="https://zhuanlan.zhihu.com/p/260012407" class="PostItem"><div><h1 class="PostItem-Title">TensorRT踩坑录</h1><p class="PostItem-Summary">一、TensorRT为何物 简单地说TensorRT是专门针对部署端进行优化的，可以为深度学习应用提供低延迟、高吞吐的部署推理。最擅长的是CNN领域。 原理：研究发现模型在训练阶段，为了要保证前后…</p><div class="PostItem-Footer"><span>csz795</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="https://zhuanlan.zhihu.com/p/374047261" class="PostItem"><div><h1 class="PostItem-Title">TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！</h1><p class="PostItem-Summary">作者丨OLDPAN来源：OLDPAN：TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！前言大名鼎鼎的 TensorRT有多牛逼就不多说了，因为确实很好用。作为在英伟达自家GPU上的推理库，这…</p><div class="PostItem-Footer"><span>极市平台</span><span class="PostItem-FooterTitle">发表于极市平台</span></div></div></a><a href="https://zhuanlan.zhihu.com/p/667727749" class="PostItem"><div><h1 class="PostItem-Title">TensorRT是如何做到比其他框架更快的？背后的底层内核原因</h1><p class="PostItem-Summary">以下文章来源于知乎：糯盐 作者：糯盐 链接： https://zhuanlan.zhihu.com/p/666638357?utm_psn=1708043096938598400 本文仅用于学术分享，如有侵权，请联系后台作删文处理 TensorRT是NVIDI…</p><div class="PostItem-Footer"><span>smallmaster</span><span class="PostItem-FooterTitle"></span></div></div></a><button class="PagingButton PagingButton-Next" data-za-detail-view-path-module="Unknown" data-za-detail-view-path-module_name="推荐阅读" data-za-extra-module="{}"><svg width="40" height="40" viewBox="0 0 24 24" fill="#d3d3d3" class="Zi Zi--ArrowRight"><path fill-rule="evenodd" d="M10.518 6.224a.875.875 0 0 1 1.212.248l3.335 5.05a.875.875 0 0 1 0 .964l-3.334 5.043a.875.875 0 0 1-1.46-.965l3.015-4.56-3.016-4.568a.875.875 0 0 1 .248-1.212Z" clip-rule="evenodd"></path></svg></button></ul></div></div></div></main><div role="complementary"><div class="CornerButtons"><div class="CornerAnimayedFlex"><button data-tooltip="回到顶部" data-tooltip-position="left" data-tooltip-will-hide-on-click="true" aria-label="回到顶部" type="button" class="Button CornerButton Button--plain css-4lspwd"><svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="Zi Zi--BackToTop" fill="currentColor"><path fill-rule="evenodd" d="M13.204 3.107a1.75 1.75 0 0 0-2.408 0L3.806 9.73c-1.148 1.088-.378 3.02 1.204 3.02h2.24V20c0 .966.784 1.75 1.75 1.75h6A1.75 1.75 0 0 0 16.75 20v-7.25h2.24c1.582 0 2.353-1.932 1.204-3.02l-6.99-6.623Z" clip-rule="evenodd"></path></svg></button></div></div></div></div></div><script id="js-clientConfig" type="text/json">{"fetchRoot":{"www":"https:\u002F\u002Fwww.zhihu.com","api":"https:\u002F\u002Fapi.zhihu.com","lens":"https:\u002F\u002Flens.zhihu.com","zhuanlan":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fapi\u002F","walletpay":"https:\u002F\u002Fwalletpay.zhihu.com","captcha":"https:\u002F\u002Fcaptcha.zhihu.com","vzuu":"https:\u002F\u002Fv.vzuu.com","openapi":"https:\u002F\u002Fopenapi.zhihu.com","svip":"https:\u002F\u002Fsvip.zhihu.com"},"host":"zhihu.com","protocol":"https:","wwwHost":"www.zhihu.com","videoHost":"video.zhihu.com","zhuanlanHost":"zhuanlan.zhihu.com","allowSignUp":true,"refreshValidityPeriod":"30","release":"1345-57d55824","currentEntry":"column","isMobileEntry":false,"apollo":{"env":"prod","globalSilence":"","ncgModeSign":"3f8e56febda4fb3bbea72e379d76de1e","topstory_rec_adp":"1","topstory_hot_adp":"1","editor_adapt_native":"0","editor_auto_rotate":"0","enable_request_filter":"1","content_publish_pin":"0","content_publish_answer":"1","content_publish_question":"1","content_publish_article":"1","content_publish_zvideo":"1","balanceModalSign":"ChYHAcB5ihJECkAFnhDAYmdhsTWVJoNc","reportBackendPublishError":"1","test_canary":"member|0-100,1-0","use_new_player":"member|0-100,1-0","player_vendor":"member|0-100,1-0,2-0","use_hevc":"member|0-0,1-100","upload_use_signature":"member|0-0,1-100","use_backdrop_blur":"member|0-0,1-100","article_title_imagex":"member|0-0,1-100","play_station":"member|0-0,1-100","use_cached_supported_countries":"device|1-100,0-0","contentItem_cover_imagex":"member|0-0,1-100","use_qrcode_login_v2":"device|1-100,0-0"}}</script><script id="js-initialData" type="text/json">{"initialState":{"common":{"ask":{},"cities":{"cityData":[]}},"loading":{"global":{"count":0},"local":{"env\u002FgetIpinfo\u002F":false,"article\u002Fget\u002F":false,"brand\u002FgetUrl\u002F":false,"article\u002FloadPostSearchEntity\u002F":false}},"entities":{"users":{"c29982ea4958b35f1d733b99ef5bf579":{"uid":1454038455692562400,"userType":"people","id":"c29982ea4958b35f1d733b99ef5bf579"},"oldpan":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54.jpg?source=172ae18b","uid":"627160086720811008","userType":"people","isFollowing":false,"urlToken":"oldpan","id":"8ebdeeb4739c048be1a978fa0427181a","description":"老潘的博客，程序员眸中的fantasy life，分享AI技术干货，技术宅相关，也聊聊人生“理想”~\n个人主页：https:\u002F\u002Foldpan.me","name":"OLDPAN","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F8ebdeeb4739c048be1a978fa0427181a","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b","isOrg":false,"type":"people","badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"1502699219463389184","medalName":"点赞科学 2022","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-9251b676c9f4283fdc5e04261a7e534f_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-9251b676c9f4283fdc5e04261a7e534f_l.png?source=172ae18b","description":"「向科学要答案 2022」活动期间，首次为相关领域下的优质黄标内容送出赞同","medalAvatarFrame":""}}},"questions":{},"answers":{},"articles":{"371239130":{"trackUrl":["https:\u002F\u002Fsugar.zhihu.com\u002Fplutus_adreaper\u002Fcontent_monitor_log?si=__SESSIONID__&ti=__ATOKEN__&at=view&pf=__OS__&ed=BiBUKF0xBSkqGGpfBWh6CVx3AAGOF_uGOiPJ&idfa=__IDFA__&imei=__IMEI__&androidid=__ANDROIDID__&oaid=__OAID__&ci=__CREATIVEID__&zid=__ZONEID__"],"entityWords":[{"name":"torch.empty","mention":"torch.empty","matchorder":1,"begin":19539,"end":19550,"entityid":3961257070541064700,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0007200830662507929,"attachedInfoBytes":"sgJgCgt0b3JjaC5lbXB0eRIHTWVkaWNhbBjTmAEg3pgBKAE19cM8OjoHYXJ0aWNsZUCJk+vMlsrN\u002FDZIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6C3RvcmNoLmVtcHR5QImT68yWys38NkgAUhJhaV9lbnRpdHlfcmVjYWxsZXJd9cM8OmJgCgt0b3JjaC5lbXB0eRIHTWVkaWNhbBjTmAEg3pgBKAE19cM8OjoHYXJ0aWNsZUCJk+vMlsrN\u002FDZIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libprotobuf.so.16","mention":"libprotobuf.so.16","matchorder":2,"begin":22458,"end":22475,"entityid":-4267573977788099000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006746503515672325,"attachedInfoBytes":"sgJnChFsaWJwcm90b2J1Zi5zby4xNhIHTWVkaWNhbBi6rwEgy68BKAI1BdswOjoHYXJ0aWNsZUClrPXJvoKi48QBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC3AEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhFsaWJwcm90b2J1Zi5zby4xNkClrPXJvoKi48QBSAFSEmFpX2VudGl0eV9yZWNhbGxlcl0F2zA6YmcKEWxpYnByb3RvYnVmLnNvLjE2EgdNZWRpY2FsGLqvASDLrwEoAjUF2zA6OgdhcnRpY2xlQKWs9cm+gqLjxAFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"TensorRT包","mention":"TensorRT包","matchorder":1,"begin":37375,"end":37384,"entityid":4396840351628886000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0011909931591354839,"attachedInfoBytes":"sgJgCgtUZW5zb3JSVOWMhRIHTWVkaWNhbBj\u002FowIgiKQCKAE1GRucOjoHYXJ0aWNsZUCggcbnkeCtgj1IAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6C1RlbnNvclJU5YyFQKCBxueR4K2CPUgCUhJhaV9lbnRpdHlfcmVjYWxsZXJdGRucOmJgCgtUZW5zb3JSVOWMhRIHTWVkaWNhbBj\u002FowIgiKQCKAE1GRucOjoHYXJ0aWNsZUCggcbnkeCtgj1IAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"tensorrt as trt","mention":"tensorrt as trt","matchorder":1,"begin":41173,"end":41188,"entityid":1157427056495331300,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.000663813423922785,"attachedInfoBytes":"sgJkCg90ZW5zb3JydCBhcyB0cnQSB01lZGljYWwY1cECIOTBAigBNcQDLjo6B2FydGljbGVArpDS3ui4gIgQSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC1gEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4Og90ZW5zb3JydCBhcyB0cnRArpDS3ui4gIgQSANSEmFpX2VudGl0eV9yZWNhbGxlcl3EAy46YmQKD3RlbnNvcnJ0IGFzIHRydBIHTWVkaWNhbBjVwQIg5MECKAE1xAMuOjoHYXJ0aWNsZUCukNLe6LiAiBBIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"看这里","mention":"看这里","matchorder":1,"begin":6969,"end":6972,"entityid":-7717634702696926000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Unknown","score":0.005803840997242848,"attachedInfoBytes":"sgJdCgnnnIvov5nph4wSB1Vua25vd24YuTYgvDYoATUmLr47OgdhcnRpY2xlQLjmlvyKhN3ylAFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLXAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6Ceeci+i\u002FmemHjEC45pb8ioTd8pQBSARSH25ld19iYWlkdS13aWtpcGVkaWEtaXRlbS1yZWNhbGxdJi6+O2JdCgnnnIvov5nph4wSB1Vua25vd24YuTYgvDYoATUmLr47OgdhcnRpY2xlQLjmlvyKhN3ylAFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libnvparsers.so.7","mention":"libnvparsers.so.7","matchorder":2,"begin":21407,"end":21424,"entityid":3659082100650949600,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0008441180205350923,"attachedInfoBytes":"sgJmChFsaWJudnBhcnNlcnMuc28uNxIHTWVkaWNhbBifpwEgsKcBKAI1zUddOjoHYXJ0aWNsZUC396jqivnq4zJIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLaAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6EWxpYm52cGFyc2Vycy5zby43QLf3qOqK+erjMkgFUhJhaV9lbnRpdHlfcmVjYWxsZXJdzUddOmJmChFsaWJudnBhcnNlcnMuc28uNxIHTWVkaWNhbBifpwEgsKcBKAI1zUddOjoHYXJ0aWNsZUC396jqivnq4zJIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"半精度浮点型","mention":"半精度浮点型","matchorder":1,"begin":23287,"end":23293,"entityid":-6041976014938657000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0006279582350021684,"attachedInfoBytes":"sgJqChLljYrnsr7luqbmta7ngrnlnosSCU90aGVyVGVybRj3tQEg\u002FbUBKAE1kJ0kOjoHYXJ0aWNsZUDc45qBuNqlk6wBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC4AEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhLljYrnsr7luqbmta7ngrnlnotA3OOagbjapZOsAUgGUhJhaV9lbnRpdHlfcmVjYWxsZXJdkJ0kOmJqChLljYrnsr7luqbmta7ngrnlnosSCU90aGVyVGVybRj3tQEg\u002FbUBKAE1kJ0kOjoHYXJ0aWNsZUDc45qBuNqlk6wBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"tar包","mention":"tar包","matchorder":1,"begin":12288,"end":12292,"entityid":7221079028549510000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0005606758250440991,"attachedInfoBytes":"sgJbCgZ0YXLljIUSCUNvbW1vZGl0eRiAYCCEYCgBNVH6Ejo6B2FydGljbGVAqsvdveGjm5tkSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvICxAEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OgZ0YXLljIVAqsvdveGjm5tkSAdSEmFpX2VudGl0eV9yZWNhbGxlcl1R+hI6YlsKBnRhcuWMhRIJQ29tbW9kaXR5GIBgIIRgKAE1UfoSOjoHYXJ0aWNsZUCqy9294aObm2RIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"percentile","mention":"percentile","matchorder":1,"begin":40054,"end":40064,"entityid":-5080189431274554000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0005567086741129906,"attachedInfoBytes":"sgJiCgpwZXJjZW50aWxlEglPdGhlclRlcm0Y9rgCIIC5AigBNRbwETo6B2FydGljbGVApvu+qY3U4r+5AUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAtABCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoKcGVyY2VudGlsZUCm+76pjdTiv7kBSAhSEmFpX2VudGl0eV9yZWNhbGxlcl0W8BE6YmIKCnBlcmNlbnRpbGUSCU90aGVyVGVybRj2uAIggLkCKAE1FvAROjoHYXJ0aWNsZUCm+76pjdTiv7kBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"cuda.current_stream","mention":"cuda.current_stream","matchorder":1,"begin":19691,"end":19710,"entityid":-3482106660872024000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Computer","score":0.0011058202827916863,"attachedInfoBytes":"sgJqChNjdWRhLmN1cnJlbnRfc3RyZWFtEghDb21wdXRlchjrmQEg\u002FpkBKAE1LPGQOjoHYXJ0aWNsZUDroc6Fjs7E1s8BSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC4QEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhNjdWRhLmN1cnJlbnRfc3RyZWFtQOuhzoWOzsTWzwFICVISYWlfZW50aXR5X3JlY2FsbGVyXSzxkDpiagoTY3VkYS5jdXJyZW50X3N0cmVhbRIIQ29tcHV0ZXIY65kBIP6ZASgBNSzxkDo6B2FydGljbGVA66HOhY7OxNbPAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libnvinfer.so.7","mention":"libnvinfer.so.7","matchorder":2,"begin":21217,"end":21232,"entityid":-1017465864128988500,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0010387795499033348,"attachedInfoBytes":"sgJlCg9saWJudmluZmVyLnNvLjcSB01lZGljYWwY4aUBIPClASgCNagniDo6B2FydGljbGVAkPWFrP+Fz\u002FDxAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAtgBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoPbGlibnZpbmZlci5zby43QJD1haz\u002Fhc\u002Fw8QFIClISYWlfZW50aXR5X3JlY2FsbGVyXagniDpiZQoPbGlibnZpbmZlci5zby43EgdNZWRpY2FsGOGlASDwpQEoAjWoJ4g6OgdhcnRpY2xlQJD1haz\u002Fhc\u002Fw8QFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"onnx模型","mention":"onnx模型","matchorder":2,"begin":24169,"end":24175,"entityid":-7373696089759395000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0.0009680521118456409,"attachedInfoBytes":"sgJdCgpvbm545qih5Z6LEgRNYXRoGOm8ASDvvAEoAjXhxH06OgdhcnRpY2xlQJ6o0YGVz9fVmQFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLLAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6Cm9ubnjmqKHlnotAnqjRgZXP19WZAUgLUhJhaV9lbnRpdHlfcmVjYWxsZXJd4cR9OmJdCgpvbm545qih5Z6LEgRNYXRoGOm8ASDvvAEoAjXhxH06OgdhcnRpY2xlQJ6o0YGVz9fVmQFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"resnet系列","mention":"resnet系列","matchorder":1,"begin":9135,"end":9143,"entityid":-7376988159921931000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0008778918517546586,"attachedInfoBytes":"sgJiCgxyZXNuZXTns7vliJcSCUNvbW1vZGl0eRivRyC3RygBNVMiZjo6B2FydGljbGVA1fTc\u002FKeL68+ZAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAtIBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoMcmVzbmV057O75YiXQNX03Pyni+vPmQFIDFISYWlfZW50aXR5X3JlY2FsbGVyXVMiZjpiYgoMcmVzbmV057O75YiXEglDb21tb2RpdHkYr0cgt0coATVTImY6OgdhcnRpY2xlQNX03Pyni+vPmQFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"TensorRT-8","mention":"TensorRT-8","matchorder":1,"begin":2386,"end":2396,"entityid":-6662264947924490000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0011893089196601536,"attachedInfoBytes":"sgJgCgpUZW5zb3JSVC04EglDb21tb2RpdHkY0hIg3BIoATWW4ps6OgdhcnRpY2xlQMHRstu\u002FqrjFowFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6ClRlbnNvclJULThAwdGy27+quMWjAUgNUhJhaV9lbnRpdHlfcmVjYWxsZXJdluKbOmJgCgpUZW5zb3JSVC04EglDb21tb2RpdHkY0hIg3BIoATWW4ps6OgdhcnRpY2xlQMHRstu\u002FqrjFowFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"单精度浮点型","mention":"单精度浮点型","matchorder":1,"begin":23216,"end":23222,"entityid":-68548487677190020,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0011858439241399787,"attachedInfoBytes":"sgJqChLljZXnsr7luqbmta7ngrnlnosSCU90aGVyVGVybRiwtQEgtrUBKAE1Um6bOjoHYXJ0aWNsZUCBwfHwt\u002FCdhv8BSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC4AEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhLljZXnsr7luqbmta7ngrnlnotAgcHx8LfwnYb\u002FAUgOUhJhaV9lbnRpdHlfcmVjYWxsZXJdUm6bOmJqChLljZXnsr7luqbmta7ngrnlnosSCU90aGVyVGVybRiwtQEgtrUBKAE1Um6bOjoHYXJ0aWNsZUCBwfHwt\u002FCdhv8BSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"tar.gz","mention":"tar.gz","matchorder":1,"begin":12447,"end":12453,"entityid":5119220818512045000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Food","score":0.0010307361961716666,"attachedInfoBytes":"sgJWCgZ0YXIuZ3oSBEZvb2QYn2EgpWEoATXFGYc6OgdhcnRpY2xlQL3Fx\u002FHihsiFR0gAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAr8BCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoGdGFyLmd6QL3Fx\u002FHihsiFR0gPUhJhaV9lbnRpdHlfcmVjYWxsZXJdxRmHOmJWCgZ0YXIuZ3oSBEZvb2QYn2EgpWEoATXFGYc6OgdhcnRpY2xlQL3Fx\u002FHihsiFR0gAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libnvrtc","mention":"libnvrtc","matchorder":2,"begin":22184,"end":22192,"entityid":9131405464163490000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0005683771620906969,"attachedInfoBytes":"sgJdCghsaWJudnJ0YxIHTWVkaWNhbBiorQEgsK0BKAI1Jf8UOjoHYXJ0aWNsZUD6r5r8upzR3H5IAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLIAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6CGxpYm52cnRjQPqvmvy6nNHcfkgQUhJhaV9lbnRpdHlfcmVjYWxsZXJdJf8UOmJdCghsaWJudnJ0YxIHTWVkaWNhbBiorQEgsK0BKAI1Jf8UOjoHYXJ0aWNsZUD6r5r8upzR3H5IAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"卷积层","mention":"卷积层","matchorder":1,"begin":8728,"end":8731,"entityid":6908712736078349000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0.0005451763003295612,"attachedInfoBytes":"sgJZCgnljbfnp6\u002FlsYISBE1hdGgYmEQgm0QoATUq6g46OgdhcnRpY2xlQL2Jq8mStKvwX0gAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAsUBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoJ5Y2356ev5bGCQL2Jq8mStKvwX0gRUhJhaV9lbnRpdHlfcmVjYWxsZXJdKuoOOmJZCgnljbfnp6\u002FlsYISBE1hdGgYmEQgm0QoATUq6g46OgdhcnRpY2xlQL2Jq8mStKvwX0gAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"dtype=float32","mention":"dtype=float32","matchorder":1,"begin":12968,"end":12981,"entityid":3232680512944481000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.001068871921596548,"attachedInfoBytes":"sgJgCg1kdHlwZT1mbG9hdDMyEgdNZWRpY2FsGKhlILVlKAE1ZBmMOjoHYXJ0aWNsZUC9w4jzyLmy7ixIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLQAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6DWR0eXBlPWZsb2F0MzJAvcOI88i5su4sSBJSEmFpX2VudGl0eV9yZWNhbGxlcl1kGYw6YmAKDWR0eXBlPWZsb2F0MzISB01lZGljYWwYqGUgtWUoATVkGYw6OgdhcnRpY2xlQL3DiPPIubLuLEgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"triton-server","mention":"triton-server","matchorder":1,"begin":23042,"end":23055,"entityid":1436992721480647700,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0009072308950268393,"attachedInfoBytes":"sgJkCg10cml0b24tc2VydmVyEglDb21tb2RpdHkYgrQBII+0ASgBNTzTbTo6B2FydGljbGVAooe0pcSozvgTSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC1AEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4Og10cml0b24tc2VydmVyQKKHtKXEqM74E0gTUhJhaV9lbnRpdHlfcmVjYWxsZXJdPNNtOmJkCg10cml0b24tc2VydmVyEglDb21tb2RpdHkYgrQBII+0ASgBNTzTbTo6B2FydGljbGVAooe0pcSozvgTSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libnvonnxparser.so.7","mention":"libnvonnxparser.so.7","matchorder":2,"begin":21307,"end":21327,"entityid":3565960901010830300,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0008129699013868785,"attachedInfoBytes":"sgJpChRsaWJudm9ubnhwYXJzZXIuc28uNxIHTWVkaWNhbBi7pgEgz6YBKAI1fR1VOjoHYXJ0aWNsZUCw57qdvdG1vjFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLgAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6FGxpYm52b25ueHBhcnNlci5zby43QLDnup290bW+MUgUUhJhaV9lbnRpdHlfcmVjYWxsZXJdfR1VOmJpChRsaWJudm9ubnhwYXJzZXIuc28uNxIHTWVkaWNhbBi7pgEgz6YBKAI1fR1VOjoHYXJ0aWNsZUCw57qdvdG1vjFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libcudnn.so.7.3.0","mention":"libcudnn.so.7.3.0","matchorder":4,"begin":15125,"end":15142,"entityid":-6972128337851731000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0009283597812914657,"attachedInfoBytes":"sgJnChFsaWJjdWRubi5zby43LjMuMBIJQ29tbW9kaXR5GJV2IKZ2KAQ1LF1zOjoHYXJ0aWNsZUCT5qav98aBn58BSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC3AEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhFsaWJjdWRubi5zby43LjMuMECT5qav98aBn58BSBVSEmFpX2VudGl0eV9yZWNhbGxlcl0sXXM6YmcKEWxpYmN1ZG5uLnNvLjcuMy4wEglDb21tb2RpdHkYlXYgpnYoBDUsXXM6OgdhcnRpY2xlQJPmpq\u002F3xoGfnwFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"backbone","mention":"backbone","matchorder":1,"begin":8955,"end":8963,"entityid":-1052979935876235900,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0007075278385214046,"attachedInfoBytes":"sgJeCghiYWNrYm9uZRIJT3RoZXJUZXJtGPtFIINGKAE1ZHk5OjoHYXJ0aWNsZUCe++6zvIrEsfEBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvICygEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OghiYWNrYm9uZUCe++6zvIrEsfEBSBZSEmFpX2VudGl0eV9yZWNhbGxlcl1keTk6Yl4KCGJhY2tib25lEglPdGhlclRlcm0Y+0Ugg0YoATVkeTk6OgdhcnRpY2xlQJ777rO8isSx8QFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"反卷积","mention":"反卷积","matchorder":1,"begin":8732,"end":8735,"entityid":8620795370533951000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Unknown","score":0.0006739748696028697,"attachedInfoBytes":"sgJcCgnlj43ljbfnp68SB1Vua25vd24YnEQgn0QoATWwrTA6OgdhcnRpY2xlQLqxiPDu9s3Rd0gAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAs0BCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoJ5Y+N5Y2356evQLqxiPDu9s3Rd0gXUhdiYWlkdS1iYWlrZS1pdGVtLXJlY2FsbF2wrTA6YlwKCeWPjeWNt+enrxIHVW5rbm93bhicRCCfRCgBNbCtMDo6B2FydGljbGVAurGI8O72zdF3SABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"graphics processing units","mention":"graphics processing units","matchorder":1,"begin":5216,"end":5241,"entityid":-5154880038229774000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Novel","score":0.0006745423887973695,"attachedInfoBytes":"sgJrChlncmFwaGljcyBwcm9jZXNzaW5nIHVuaXRzEgVOb3ZlbBjgKCD5KCgBNcbTMDo6B2FydGljbGVA4dy\u002F7Kv9i7u4AUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAugBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoZZ3JhcGhpY3MgcHJvY2Vzc2luZyB1bml0c0Dh3L\u002Fsq\u002F2Lu7gBSBhSEmFpX2VudGl0eV9yZWNhbGxlcl3G0zA6YmsKGWdyYXBoaWNzIHByb2Nlc3NpbmcgdW5pdHMSBU5vdmVsGOAoIPkoKAE1xtMwOjoHYXJ0aWNsZUDh3L\u002Fsq\u002F2Lu7gBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"stream技术","mention":"stream技术","matchorder":1,"begin":10460,"end":10468,"entityid":-4776683511680374000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0006110108120351426,"attachedInfoBytes":"sgJiCgxzdHJlYW3mioDmnK8SCU90aGVyVGVybRjcUSDkUSgBNT4sIDo6B2FydGljbGVAqdrNjvf089q9AUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAtIBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoMc3RyZWFt5oqA5pyvQKnazY739PPavQFIGVISYWlfZW50aXR5X3JlY2FsbGVyXT4sIDpiYgoMc3RyZWFt5oqA5pyvEglPdGhlclRlcm0Y3FEg5FEoATU+LCA6OgdhcnRpY2xlQKnazY739PPavQFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libdl.so.2","mention":"libdl.so.2","matchorder":2,"begin":22275,"end":22285,"entityid":-2639078842576597500,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006047563604748979,"attachedInfoBytes":"sgJgCgpsaWJkbC5zby4yEgdNZWRpY2FsGIOuASCNrgEoAjWDiB46OgdhcnRpY2xlQLqa5O\u002Fm+Iaw2wFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6CmxpYmRsLnNvLjJAuprk7+b4hrDbAUgaUhJhaV9lbnRpdHlfcmVjYWxsZXJdg4geOmJgCgpsaWJkbC5zby4yEgdNZWRpY2FsGIOuASCNrgEoAjWDiB46OgdhcnRpY2xlQLqa5O\u002Fm+Iaw2wFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"linux-vdso.so.1","mention":"linux-vdso.so.1","matchorder":1,"begin":21165,"end":21180,"entityid":-1853579549631434800,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.001327085517262766,"attachedInfoBytes":"sgJlCg9saW51eC12ZHNvLnNvLjESB01lZGljYWwYraUBILylASgBNZrxrTo6B2FydGljbGVAu9+oqobnsKPmAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAtgBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoPbGludXgtdmRzby5zby4xQLvfqKqG57Cj5gFIG1ISYWlfZW50aXR5X3JlY2FsbGVyXZrxrTpiZQoPbGludXgtdmRzby5zby4xEgdNZWRpY2FsGK2lASC8pQEoATWa8a06OgdhcnRpY2xlQLvfqKqG57Cj5gFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libstdc++.so.6","mention":"libstdc++.so.6","matchorder":1,"begin":21605,"end":21619,"entityid":-7699478973304140000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0010473543329054258,"attachedInfoBytes":"sgJkCg5saWJzdGRjKysuc28uNhIHTWVkaWNhbBjlqAEg86gBKAE1YUeJOjoHYXJ0aWNsZUC8ovjErZX9kpUBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC1gEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4Og5saWJzdGRjKysuc28uNkC8ovjErZX9kpUBSB1SEmFpX2VudGl0eV9yZWNhbGxlcl1hR4k6YmQKDmxpYnN0ZGMrKy5zby42EgdNZWRpY2FsGOWoASDzqAEoATVhR4k6OgdhcnRpY2xlQLyi+MStlf2SlQFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libm.so.6","mention":"libm.so.6","matchorder":2,"begin":22339,"end":22348,"entityid":5793584418761379000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006114654702871342,"attachedInfoBytes":"sgJeCglsaWJtLnNvLjYSB01lZGljYWwYw64BIMyuASgCNcFKIDo6B2FydGljbGVAwpiKxNTKvLNQSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvICygEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OglsaWJtLnNvLjZAwpiKxNTKvLNQSB5SEmFpX2VudGl0eV9yZWNhbGxlcl3BSiA6Yl4KCWxpYm0uc28uNhIHTWVkaWNhbBjDrgEgzK4BKAI1wUogOjoHYXJ0aWNsZUDCmIrE1Mq8s1BIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"ldd命令","mention":"ldd命令","matchorder":1,"begin":21038,"end":21043,"entityid":6117327814884180000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0.0011243971575038147,"attachedInfoBytes":"sgJbCglsZGTlkb3ku6QSBE1hdGgYrqQBILOkASgBNYJgkzo6B2FydGljbGVA54Onpsmnx\u002FJUSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvICxwEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OglsZGTlkb3ku6RA54Onpsmnx\u002FJUSB9SEmFpX2VudGl0eV9yZWNhbGxlcl2CYJM6YlsKCWxkZOWRveS7pBIETWF0aBiupAEgs6QBKAE1gmCTOjoHYXJ0aWNsZUDng6emyafH8lRIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"FP32精度","mention":"FP32精度","matchorder":2,"begin":10182,"end":10188,"entityid":-903138882685753200,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.00098235350918785,"attachedInfoBytes":"sgJgCgpGUDMy57K+5bqmEglPdGhlclRlcm0Yxk8gzE8oAjVQwoA6OgdhcnRpY2xlQPzQsJWK\u002F9m78wFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6CkZQMzLnsr7luqZA\u002FNCwlYr\u002F2bvzAUghUhJhaV9lbnRpdHlfcmVjYWxsZXJdUMKAOmJgCgpGUDMy57K+5bqmEglPdGhlclRlcm0Yxk8gzE8oAjVQwoA6OgdhcnRpY2xlQPzQsJWK\u002F9m78wFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"nvidia-smi","mention":"nvidia-smi","matchorder":1,"begin":13885,"end":13895,"entityid":7218218351410928000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0008916051688953874,"attachedInfoBytes":"sgJfCgpudmlkaWEtc21pEglDb21tb2RpdHkYvWwgx2woATWcumk6OgdhcnRpY2xlQPist9iM65CWZEgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAswBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoKbnZpZGlhLXNtaUD4rLfYjOuQlmRIIlISYWlfZW50aXR5X3JlY2FsbGVyXZy6aTpiXwoKbnZpZGlhLXNtaRIJQ29tbW9kaXR5GL1sIMdsKAE1nLppOjoHYXJ0aWNsZUD4rLfYjOuQlmRIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libc.so.6","mention":"libc.so.6","matchorder":2,"begin":21763,"end":21772,"entityid":-7304202547156392000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0007981096882579974,"attachedInfoBytes":"sgJfCglsaWJjLnNvLjYSB01lZGljYWwYg6oBIIyqASgCNTw4UTo6B2FydGljbGVA1s31ibnPkNGaAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAswBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoJbGliYy5zby42QNbN9Ym5z5DRmgFII1ISYWlfZW50aXR5X3JlY2FsbGVyXTw4UTpiXwoJbGliYy5zby42EgdNZWRpY2FsGIOqASCMqgEoAjU8OFE6OgdhcnRpY2xlQNbN9Ym5z5DRmgFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"deep learning models","mention":"deep learning models","matchorder":1,"begin":5513,"end":5533,"entityid":2637430604938764000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006104717124889025,"attachedInfoBytes":"sgJnChRkZWVwIGxlYXJuaW5nIG1vZGVscxIHTWVkaWNhbBiJKyCdKygBNRAIIDo6B2FydGljbGVAkbv5uJWlgs0kSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC3gEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhRkZWVwIGxlYXJuaW5nIG1vZGVsc0CRu\u002Fm4laWCzSRIJFISYWlfZW50aXR5X3JlY2FsbGVyXRAIIDpiZwoUZGVlcCBsZWFybmluZyBtb2RlbHMSB01lZGljYWwYiSsgnSsoATUQCCA6OgdhcnRpY2xlQJG7+biVpYLNJEgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"RTX20系列","mention":"RTX20系列","matchorder":1,"begin":6732,"end":6739,"entityid":9005882610080029000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0011763780717420902,"attachedInfoBytes":"sgJgCgtSVFgyMOezu+WIlxIJQ29tbW9kaXR5GMw0INM0KAE1szCaOjoHYXJ0aWNsZUCxrMC1zNDU\u002FXxIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6C1JUWDIw57O75YiXQLGswLXM0NT9fEgmUhJhaV9lbnRpdHlfcmVjYWxsZXJdszCaOmJgCgtSVFgyMOezu+WIlxIJQ29tbW9kaXR5GMw0INM0KAE1szCaOjoHYXJ0aWNsZUCxrMC1zNDU\u002FXxIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"a trained network","mention":"a trained network","matchorder":1,"begin":5265,"end":5282,"entityid":429808670821228350,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006750113522299012,"attachedInfoBytes":"sgJkChFhIHRyYWluZWQgbmV0d29yaxIHTWVkaWNhbBiRKSCiKSgBNT\u002FzMDo6B2FydGljbGVAq766zdeWv\u002FsFSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC2AEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OhFhIHRyYWluZWQgbmV0d29ya0CrvrrN15a\u002F+wVIJ1ISYWlfZW50aXR5X3JlY2FsbGVyXT\u002FzMDpiZAoRYSB0cmFpbmVkIG5ldHdvcmsSB01lZGljYWwYkSkgoikoATU\u002F8zA6OgdhcnRpY2xlQKu+us3Xlr\u002F7BUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"infer优化","mention":"infer优化","matchorder":1,"begin":63667,"end":63674,"entityid":5933305134302124000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0.0005646345261544478,"attachedInfoBytes":"sgJdCgtpbmZlcuS8mOWMlhIETWF0aBiz8QMguvEDKAE1+wMUOjoHYXJ0aWNsZUC3s9HQ1rLVq1JIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLLAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6C2luZmVy5LyY5YyWQLez0dDWstWrUkgoUhJhaV9lbnRpdHlfcmVjYWxsZXJd+wMUOmJdCgtpbmZlcuS8mOWMlhIETWF0aBiz8QMguvEDKAE1+wMUOjoHYXJ0aWNsZUC3s9HQ1rLVq1JIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libcudart.so.10.0","mention":"libcudart.so.10.0","matchorder":1,"begin":22003,"end":22020,"entityid":760123478916814000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0008676463145192298,"attachedInfoBytes":"sgJmChFsaWJjdWRhcnQuc28uMTAuMBIHTWVkaWNhbBjzqwEghKwBKAE1wnJjOjoHYXJ0aWNsZUCnqZXS7YigxgpIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLaAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6EWxpYmN1ZGFydC5zby4xMC4wQKepldLtiKDGCkgpUhJhaV9lbnRpdHlfcmVjYWxsZXJdwnJjOmJmChFsaWJjdWRhcnQuc28uMTAuMBIHTWVkaWNhbBjzqwEghKwBKAE1wnJjOjoHYXJ0aWNsZUCnqZXS7YigxgpIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"trt模型","mention":"trt模型","matchorder":3,"begin":37554,"end":37559,"entityid":4910904349233419000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Math","score":0.0008345493750853833,"attachedInfoBytes":"sgJbCgl0cnTmqKHlnosSBE1hdGgYsqUCILelAigDNanFWjo6B2FydGljbGVAjKrq78ivwpNESABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvICxwEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4Ogl0cnTmqKHlnotAjKrq78ivwpNESCpSEmFpX2VudGl0eV9yZWNhbGxlcl2pxVo6YlsKCXRydOaooeWeixIETWF0aBiypQIgt6UCKAM1qcVaOjoHYXJ0aWNsZUCMqurvyK\u002FCk0RIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"人体姿态检测","mention":"人体姿态检测","matchorder":1,"begin":24550,"end":24556,"entityid":9002463400264347000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0007507809134171262,"attachedInfoBytes":"sgJpChLkurrkvZPlp7\u002FmgIHmo4DmtYsSCU90aGVyVGVybRjmvwEg7L8BKAE1DtBEOjoHYXJ0aWNsZUDp19ihv5jL93xIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLeAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6EuS6uuS9k+Wnv+aAgeajgOa1i0Dp19ihv5jL93xIK1ISYWlfZW50aXR5X3JlY2FsbGVyXQ7QRDpiaQoS5Lq65L2T5ae\u002F5oCB5qOA5rWLEglPdGhlclRlcm0Y5r8BIOy\u002FASgBNQ7QRDo6B2FydGljbGVA6dfYob+Yy\u002Fd8SABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5Yg==","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libmyelin.so.1","mention":"libmyelin.so.1","matchorder":7,"begin":15273,"end":15287,"entityid":4361925194462985000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006340917693126169,"attachedInfoBytes":"sgJhCg5saWJteWVsaW4uc28uMRIHTWVkaWNhbBipdyC3dygHNS45Jjo6B2FydGljbGVAqPirxqn7qsQ8SABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvIC0gEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4Og5saWJteWVsaW4uc28uMUCo+KvGqfuqxDxILFISYWlfZW50aXR5X3JlY2FsbGVyXS45JjpiYQoObGlibXllbGluLnNvLjESB01lZGljYWwYqXcgt3coBzUuOSY6OgdhcnRpY2xlQKj4q8ap+6rEPEgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"Python端","mention":"Python端","matchorder":3,"begin":7714,"end":7721,"entityid":37998693048688540,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"OtherTerm","score":0.0005616359907663626,"attachedInfoBytes":"sgJdCglQeXRob27nq68SCU90aGVyVGVybRiiPCCpPCgDNcE6Ezo6B2FydGljbGVAo7\u002FiyMLzv0NIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLIAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6CVB5dGhvbuerr0Cjv+LIwvO\u002FQ0gtUhJhaV9lbnRpdHlfcmVjYWxsZXJdwToTOmJdCglQeXRob27nq68SCU90aGVyVGVybRiiPCCpPCgDNcE6Ezo6B2FydGljbGVAo7\u002FiyMLzv0NIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libgcc_s.so","mention":"libgcc_s.so","matchorder":1,"begin":21693,"end":21704,"entityid":4843096827094565000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0007774480889889135,"attachedInfoBytes":"sgJgCgtsaWJnY2Nfcy5zbxIHTWVkaWNhbBi9qQEgyKkBKAE1qM1LOjoHYXJ0aWNsZUDkgqy++NyIm0NIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLOAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6C2xpYmdjY19zLnNvQOSCrL743IibQ0gwUhJhaV9lbnRpdHlfcmVjYWxsZXJdqM1LOmJgCgtsaWJnY2Nfcy5zbxIHTWVkaWNhbBi9qQEgyKkBKAE1qM1LOjoHYXJ0aWNsZUDkgqy++NyIm0NIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"parsers","mention":"parsers","matchorder":1,"begin":5601,"end":5608,"entityid":-4436972936555068000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.0006639805420770861,"attachedInfoBytes":"sgJbCgdwYXJzZXJzEgdNZWRpY2FsGOErIOgrKAE1+w4uOjoHYXJ0aWNsZUCajPT09JOttsIBSABSJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YvICxgEKJGY3Yjc0MjViLTI2YjUtNDhiNy1hMDI2LWRkYWFhOWQ1Nzc5YhoHYXJ0aWNsZSIJMTcwNjI3Mzk4OgdwYXJzZXJzQJqM9PT0k622wgFIMVISYWlfZW50aXR5X3JlY2FsbGVyXfsOLjpiWwoHcGFyc2VycxIHTWVkaWNhbBjhKyDoKygBNfsOLjo6B2FydGljbGVAmoz09PSTrbbCAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"相对误差","mention":"相对误差","matchorder":1,"begin":63384,"end":63388,"entityid":-7840115975450410000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Physics","score":0.0006246031695025522,"attachedInfoBytes":"sgJiCgznm7jlr7nor6\u002Flt64SB1BoeXNpY3MYmO8DIJzvAygBNWm8Izo6B2FydGljbGVAhYSn6\u002FGBlJmTAUgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWLyAtIBCiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWIaB2FydGljbGUiCTE3MDYyNzM5ODoM55u45a+56K+v5beuQIWEp+vxgZSZkwFIMlISYWlfZW50aXR5X3JlY2FsbGVyXWm8IzpiYgoM55u45a+56K+v5beuEgdQaHlzaWNzGJjvAyCc7wMoATVpvCM6OgdhcnRpY2xlQIWEp+vxgZSZkwFIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"libcudnn.so.7.6.0","mention":"libcudnn.so.7.6.0","matchorder":2,"begin":15089,"end":15106,"entityid":2864446687307173000,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Commodity","score":0.0009223179378573948,"attachedInfoBytes":"sgJmChFsaWJjdWRubi5zby43LjYuMBIJQ29tbW9kaXR5GPF1IIJ2KAI1tsdxOjoHYXJ0aWNsZUD0lvTX3uKj4CdIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLaAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6EWxpYmN1ZG5uLnNvLjcuNi4wQPSW9Nfe4qPgJ0gzUhJhaV9lbnRpdHlfcmVjYWxsZXJdtsdxOmJmChFsaWJjdWRubi5zby43LjYuMBIJQ29tbW9kaXR5GPF1IIJ2KAI1tsdxOjoHYXJ0aWNsZUD0lvTX3uKj4CdIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""},{"name":"optimizations","mention":"optimizations","matchorder":1,"begin":5695,"end":5708,"entityid":2626097371122617300,"isBookMark":false,"link":{"linkType":0,"linkUrl":"","docType":"","topicToken":""},"entityClass":"Medical","score":0.000539445803493882,"attachedInfoBytes":"sgJgCg1vcHRpbWl6YXRpb25zEgdNZWRpY2FsGL8sIMwsKAE1mGkNOjoHYXJ0aWNsZUDzmee607TxuCRIAFIkZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3Nzli8gLQAQokZjdiNzQyNWItMjZiNS00OGI3LWEwMjYtZGRhYWE5ZDU3NzliGgdhcnRpY2xlIgkxNzA2MjczOTg6DW9wdGltaXphdGlvbnNA85nnutO08bgkSDRSEmFpX2VudGl0eV9yZWNhbGxlcl2YaQ06YmAKDW9wdGltaXphdGlvbnMSB01lZGljYWwYvywgzCwoATWYaQ06OgdhcnRpY2xlQPOZ57rTtPG4JEgAUiRmN2I3NDI1Yi0yNmI1LTQ4YjctYTAyNi1kZGFhYTlkNTc3OWI=","isOnAB":false,"isNatural":1,"isDelete":false,"contentType":"","contentId":"","contentToken":""}],"id":371239130,"title":"TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！","type":"article","articleType":"normal","excerptTitle":"","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F371239130","imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-20e9dccf8f84cf17507eeab4e52e9a00_720w.jpg?source=172ae18b","titleImage":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-20e9dccf8f84cf17507eeab4e52e9a00_720w.jpg?source=172ae18b","excerpt":"\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-49f3135b029f535375d6df0ceec274e6_200x112.jpg\" data-rawwidth=\"647\" data-rawheight=\"647\" data-size=\"small\" data-caption=\"\" data-watermark=\"watermark\" data-original-src=\"v2-49f3135b029f535375d6df0ceec274e6\" data-watermark-src=\"v2-a44c298c9cf0d574d237440333d7ea4b\" data-private-watermark-src=\"\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-49f3135b029f535375d6df0ceec274e6_r.jpg\" class=\"origin_image inline-img zh-lightbox-thumb\"\u002F\u003E好久不见各位！想我不？ 经历了五一还有点后遗症，感觉还没有休息够，时间过得太快了啊啊啊。 希望大家也能及时调整工作状态，搞起来搞起来！ 为了更方便地搞起来，早点进入状态。老潘为大家准备了TensorRT入门指北，一起来看看吧！保你看得爽！ 哦对了，学…","created":1620655403,"updated":1666697245,"author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54.jpg?source=172ae18b","uid":"627160086720811008","userType":"people","isFollowing":false,"urlToken":"oldpan","id":"8ebdeeb4739c048be1a978fa0427181a","description":"老潘的博客，程序员眸中的fantasy life，分享AI技术干货，技术宅相关，也聊聊人生“理想”~\n个人主页：https:\u002F\u002Foldpan.me","name":"OLDPAN","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F8ebdeeb4739c048be1a978fa0427181a","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b","isOrg":false,"type":"people","badge":[],"badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""},"exposedMedal":{"medalId":"1502699219463389184","medalName":"点赞科学 2022","avatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-9251b676c9f4283fdc5e04261a7e534f_r.png?source=172ae18b","miniAvatarUrl":"https:\u002F\u002Fpicx.zhimg.com\u002Fv2-9251b676c9f4283fdc5e04261a7e534f_l.png?source=172ae18b","description":"「向科学要答案 2022」活动期间，首次为相关领域下的优质黄标内容送出赞同","medalAvatarFrame":""}},"commentPermission":"all","copyrightPermission":"need_review","state":"published","ipInfo":"","imageWidth":1202,"imageHeight":676,"content":"\u003Cp data-pid=\"rEYArk0Z\"\u003E好久不见各位！想我不？\u003C\u002Fp\u003E\u003Cp data-pid=\"g6oXdYyR\"\u003E经历了五一还有点后遗症，感觉还没有休息够，时间过得太快了啊啊啊。\u003C\u002Fp\u003E\u003Cp data-pid=\"ZBi3FBJj\"\u003E希望大家也能及时调整工作状态，搞起来搞起来！\u003C\u002Fp\u003E\u003Cfigure data-size=\"small\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-a44c298c9cf0d574d237440333d7ea4b_b.jpg\" data-rawwidth=\"647\" data-rawheight=\"647\" data-size=\"small\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"647\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-a44c298c9cf0d574d237440333d7ea4b_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;647&#39; height=&#39;647&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"647\" data-rawheight=\"647\" data-size=\"small\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"647\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-a44c298c9cf0d574d237440333d7ea4b_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-a44c298c9cf0d574d237440333d7ea4b_b.jpg\" data-original-token=\"v2-49f3135b029f535375d6df0ceec274e6\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"K4wsv0TU\"\u003E为了更方便地搞起来，早点进入状态。老潘为大家准备了TensorRT入门指北，一起来看看吧！保你看得爽！\u003C\u002Fp\u003E\u003Cfigure data-size=\"small\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-f901e1a0de2e8da236f5bd9dea425bc1_b.jpg\" data-rawwidth=\"700\" data-rawheight=\"700\" data-size=\"small\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"700\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-f901e1a0de2e8da236f5bd9dea425bc1_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;700&#39; height=&#39;700&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"700\" data-rawheight=\"700\" data-size=\"small\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"700\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-f901e1a0de2e8da236f5bd9dea425bc1_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-f901e1a0de2e8da236f5bd9dea425bc1_b.jpg\" data-original-token=\"v2-dad2cc66477c46b2fa5e810beafcd130\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"jyiBT5f4\"\u003E哦对了，学习Tensorrt需要一些cuda基础别忘了，这里推荐下深蓝学院的课程，相对来说质量很高～\u003C\u002Fp\u003E\u003Ca data-draft-node=\"block\" data-draft-type=\"link-card\" href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=http%3A\u002F\u002Fwww.shenlanxueyuan.com\u002Fchannel\u002FyOO0yZHt9w\u002Fdetail\" data-image=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-97328d472265c4dcc72ecb7b23d23d82.jpg\" data-image-width=\"344\" data-image-height=\"136\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ECUDA入门与深度神经网络加速 - 深蓝学院 - 专注人工智能与自动驾驶的学习平台\u003C\u002Fa\u003E\u003Ch2\u003E\u003Cb\u003E前言\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"m9IKFR9n\"\u003E大名鼎鼎的\u003Cb\u003ETensorRT\u003C\u002Fb\u003E有多牛逼就不多说了，因为确实\u003Cb\u003E很好用\u003C\u002Fb\u003E。\u003C\u002Fp\u003E\u003Cp data-pid=\"Abbj5orO\"\u003E作为在英伟达自家GPU上的推理库，这些年来一直被大力推广，更新也非常频繁，issue反馈也挺及时，社区的负责人员也很积极，简直不要太NICE。\u003C\u002Fp\u003E\u003Cp data-pid=\"y2-olFC5\"\u003E只是TensorRT的入门门槛\u003Cb\u003E略微高一点点\u003C\u002Fb\u003E，劝退了一部分\u003Cb\u003E玩家\u003C\u002Fb\u003E。一部分原因是官方文档也不够详细(其实也挺细了，只不过看起来有些杂乱)、资料不够；另一部分可能是因为TensorRT比较底层，需要一点点C++和硬件方面的知识，相较学习Python难度更大一点。\u003C\u002Fp\u003E\u003Cp data-pid=\"_pr4pSqP\"\u003E不过吐槽归吐槽，TensorRT官方文档依旧是\u003Cb\u003E最权威最实用\u003C\u002Fb\u003E的查阅手册，另外TensorRT也是全面支持Python的，不习惯用C++的小伙伴，用Python调用TensorRT是没有任何问题的。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-a24321b695a5c2e495ce4c9c8495583b_b.jpg\" data-rawwidth=\"305\" data-rawheight=\"306\" data-size=\"normal\" data-caption=\"\" class=\"content_image\" width=\"305\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;305&#39; height=&#39;306&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"305\" data-rawheight=\"306\" data-size=\"normal\" data-caption=\"\" class=\"content_image lazy\" width=\"305\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-a24321b695a5c2e495ce4c9c8495583b_b.jpg\" data-original-token=\"v2-b7ade1778a8cd62e96cd0ee3fcaf9453\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"rIaB9Rr7\"\u003E一直也想写TensorRT的系列教程，也顺便整理一下自己之前做的笔记。拖了好久的\u003Cb\u003ETensorRT\u003C\u002Fb\u003E入门指北终于写完了。\u003C\u002Fp\u003E\u003Cp data-pid=\"NFmdCC-X\"\u003E本教程基于目前(2021-4-26)最新版\u003Ccode\u003ETensorRT-7.2.3.4\u003C\u002Fcode\u003E，TensorRT更新频繁，TensorRT-8可能不久也会发布，不过TensorRT对于向下兼容的API做的还是比较好的，不必担心太多的迁移问题。\u003C\u002Fp\u003E\u003Cp data-pid=\"pk6fkePa\"\u003E今天简单一刷(2021-5-5)，TensorRT终于发布8版本了，仍然是尝鲜的Early Access (EA)，官方\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fdeeplearning\u002Ftensorrt\u002Frelease-notes\u002Ftensorrt-8.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003Erelease\u003C\u002Fa\u003E。不过TensorRT8-EA版一些功能不是很稳定，我们先不着急使用。尝鲜的小伙伴们可以先试试，生产环境版本建议先不要动。\u003C\u002Fp\u003E\u003Cp data-pid=\"CTCQqYXr\"\u003E之前老潘也写过一些关于TensorRT文章，其中的部分内容也会整合到这一系列中，方便查阅：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"hglKqgZp\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fmp.weixin.qq.com\u002Fs%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247484932%26idx%3D1%26sn%3Dc7e59ccb776594efaf0281dc6dfcbaa2%26chksm%3Dcf109e01f8671717b6fd50d1148bd2f1c8f000259dcaa071bf3dea9cf202f2aaa0d631f591b9%26token%3D1497670325%26lang%3Dzh_CN%23rd\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E利用TensorRT对深度学习进行加速\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"_PCHp0IM\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fmp.weixin.qq.com\u002Fs%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247484931%26idx%3D1%26sn%3D01c5017d9a53dc1a8b15b9507da45cfa%26chksm%3Dcf109e06f867171031bf4c011b152d269565fd645d253214bd02384b1dbbc2c18c7864f7578e%26token%3D1497670325%26lang%3Dzh_CN%23rd\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E利用TensorRT实现神经网络提速(读取ONNX模型并运行)\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"c1XfSNBR\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fmp.weixin.qq.com\u002Fs%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247485335%26idx%3D1%26sn%3De04574597077dea50dc53d1e490d82af%26chksm%3Dcf109f92f8671684c1783f952f9f6c02a806766fa5f63174f58ec1a2e8fb8910f4dcaf80ef80%26token%3D1497670325%26lang%3Dzh_CN%23rd\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E实现TensorRT自定义插件(plugin)自由！\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"7GaznHSG\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fmp.weixin.qq.com\u002Fs%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247487034%26idx%3D1%26sn%3D728b01c2b38c436fd337dad0038e1f0a%26chksm%3Dcf10963ff8671f2995d2b3a4dc9192f2b2b40dfecadc31d409c88b47c492c866758cb87af65a%26token%3D1497670325%26lang%3Dzh_CN%23rd\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E(抛砖引玉)TensorRT的FP16精度问题？怎么办？在线支招！\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"o-9AXX6o\"\u003E不废话了，直接开始吧~\u003C\u002Fp\u003E\u003Cp data-pid=\"bFclUy5S\"\u003E附上\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fdeeplearning\u002Ftensorrt\u002Findex.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ETensorRT官方文档\u003C\u002Fa\u003E链接。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E什么是TensorRT\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"vBY2JDUm\"\u003ETensorRT是可以在\u003Cb\u003ENVIDIA\u003C\u002Fb\u003E各种\u003Cb\u003EGPU硬件平台\u003C\u002Fb\u003E下运行的一个\u003Cb\u003EC++推理框架\u003C\u002Fb\u003E。我们利用Pytorch、TF或者其他框架训练好的模型，可以转化为TensorRT的格式，然后利用TensorRT推理引擎去运行我们这个模型，从而提升这个模型在英伟达GPU上运行的速度。速度提升的比例是\u003Cb\u003E比较可观\u003C\u002Fb\u003E的。\u003C\u002Fp\u003E\u003Cp data-pid=\"twmC5b7N\"\u003E借官方的话来说：\u003C\u002Fp\u003E\u003Cblockquote data-pid=\"4B-98tZr\"\u003E The core of NVIDIA® TensorRT™ is a C++ library that facilitates high-performance inference on NVIDIA graphics processing units (GPUs). TensorRT takes a trained network, which consists of a network definition and a set of trained parameters, and produces a highly optimized runtime engine that performs inference for that network. TensorRT provides API&#39;s via C++ and Python that help to express deep learning models via the Network Definition API or load a pre-defined model via the parsers that allow TensorRT to optimize and run them on an NVIDIA GPU. TensorRT applies graph optimizations, layer fusion, among other optimizations, while also finding the fastest implementation of that model leveraging a diverse collection of highly optimized kernels. TensorRT also supplies a runtime that you can use to execute this network on all of NVIDIA’s GPU’s from the Kepler generation onwards. TensorRT also includes optional high speed mixed precision capabilities introduced in the Tegra™ X1, and extended with the Pascal™, Volta™, Turing™, and NVIDIA® Ampere GPU architectures.\u003Cbr\u002F\u003E \u003C\u002Fblockquote\u003E\u003Cp data-pid=\"qE8Aggy5\"\u003ETensorRT支持的平台如下：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-8a3c32c16cf2ba55b31edd8380b4ab4f_b.jpg\" data-rawwidth=\"3240\" data-rawheight=\"666\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"3240\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-8a3c32c16cf2ba55b31edd8380b4ab4f_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;3240&#39; height=&#39;666&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"3240\" data-rawheight=\"666\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"3240\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-8a3c32c16cf2ba55b31edd8380b4ab4f_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-8a3c32c16cf2ba55b31edd8380b4ab4f_b.jpg\" data-original-token=\"v2-331b73178c7e50bc3ababe72f147cd0a\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"sEfw01tm\"\u003E支持计算能力\u003Cb\u003E在5.0及以上\u003C\u002Fb\u003E的显卡(当然，这里的显卡可以是桌面级显卡也可以是嵌入版式显卡)，我们常见的RTX30系列计算能力是8.6、RTX20系列是7.5、RTX10系列是6.1，如果我们想要使用TensorRT，首先要确认下我们的显卡是否支持。\u003C\u002Fp\u003E\u003Cp data-pid=\"WuB0LbiA\"\u003E至于什么是计算能力(Compute Capability)，咋说嘞，计算能力并不是描述GPU设备计算能力强弱的绝对指标，准确的说，这是一个架构的版本号。一般来说越新的架构版本号更高，计算能力的第一个数值也就最高(例如3080计算能力8.6)，而后面的6代表在该架构前提下的一些优化特性，具体代表什么特性可以看这里：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"2340PFbL\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fcuda\u002Fcuda-c-programming-guide\u002Findex.html%23compute-capabilities\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Edocs.nvidia.com\u002Fcuda\u002Fcu\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Eda-c-programming-guide\u002Findex.html#compute-capabilities\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"93-8jrxg\"\u003E可以通过\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdeveloper.nvidia.com\u002Fzh-cn\u002Fcuda-gpus\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E这里\u003C\u002Fa\u003E查阅自己显卡的计算能力。\u003C\u002Fp\u003E\u003Cp data-pid=\"8FhKXE2d\"\u003E说回TensorRT本身，TensorRT是由C++、CUDA、python三种语言编写成的一个库，其中核心代码为\u003Cb\u003EC++和CUDA\u003C\u002Fb\u003E，Python端作为前端与用户交互。当然，TensorRT也是支持C++前端的，如果我们追求高性能，C++前端调用TensorRT是必不可少的。\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-bc9b29cc831bb9793a0aeaaa3061e223_b.jpg\" data-rawwidth=\"1280\" data-rawheight=\"553\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-bc9b29cc831bb9793a0aeaaa3061e223_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1280&#39; height=&#39;553&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"1280\" data-rawheight=\"553\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-bc9b29cc831bb9793a0aeaaa3061e223_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-bc9b29cc831bb9793a0aeaaa3061e223_b.jpg\" data-original-token=\"v2-6ab11a3a5803ee4b92aa770a1bb6f7b0\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003E\u003Cb\u003E使用TensorRT的场景\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"upcQjDO0\"\u003ETensorRT的使用场景很多。服务端、嵌入式端、家用电脑端都是我们的使用场景。\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"RwbsGulQ\"\u003E服务端对应的显卡型号为A100、T4、V100等\u003C\u002Fli\u003E\u003Cli data-pid=\"qPYLswle\"\u003E嵌入式端对应的显卡为AGX Xavier、TX2、Nano等\u003C\u002Fli\u003E\u003Cli data-pid=\"Drz4p_M0\"\u003E家用电脑端对应的显卡为3080、2080TI、1080TI等\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"US2p3OTT\"\u003E当然这不是固定的，只要我们显卡满足TensorRT的先决条件，用就对了。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT的加速效果怎么样\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"s6MOd1Vb\"\u003E加速效果取决于模型的类型和大小，也取决于我们所使用的显卡类型。\u003C\u002Fp\u003E\u003Cp data-pid=\"TvM7vzE3\"\u003E对于GPU来说，因为底层的硬件设计，更适合并行计算也更喜欢密集型计算。TensorRT所做的优化也是\u003Cb\u003E基于GPU\u003C\u002Fb\u003E进行优化，当然也是更喜欢那种一大块一大块的矩阵运算，尽量直通到底。因此对于通道数比较多的卷积层和反卷积层，优化力度是比较大的；如果是比较繁多复杂的各种细小op操作(例如reshape、gather、split等)，那么TensorRT的优化力度就没有那么夸张了。\u003C\u002Fp\u003E\u003Cp data-pid=\"UMdknwpZ\"\u003E为了更充分利用GPU的优势，我们在设计模型的时候，可以更加偏向于模型的并行性，因为同样的计算量，“大而整”的GPU运算效率远超“小而碎”的运算。\u003C\u002Fp\u003E\u003Cp data-pid=\"143rbtFa\"\u003E工业界更喜欢简单直接的模型和backbone。2020年的RepVGG(\u003Ca href=\"https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F344324470\" class=\"internal\"\u003ERepVGG：极简架构，SOTA性能，让VGG式模型再次伟大（CVPR-2021）\u003C\u002Fa\u003E)，就是为GPU和专用硬件设计的高效模型，追求高速度、省内存，较少关注参数量和理论计算量。相比resnet系列，更加适合充当一些检测模型或者识别模型的backbone。\u003C\u002Fp\u003E\u003Cp data-pid=\"hScsSRa8\"\u003E在实际应用中，老潘也简单总结了下TensorRT的加速效果：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"vqC950iC\"\u003ESSD检测模型，加速3倍(Caffe)\u003C\u002Fli\u003E\u003Cli data-pid=\"-HZhmgPo\"\u003ECenterNet检测模型，加速3-5倍(Pytorch)\u003C\u002Fli\u003E\u003Cli data-pid=\"KBw0QXyL\"\u003ELSTM、Transformer(细op)，加速0.5倍-1倍(TensorFlow)\u003C\u002Fli\u003E\u003Cli data-pid=\"kLvlwGON\"\u003Eresnet系列的分类模型，加速3倍左右(Keras)\u003C\u002Fli\u003E\u003Cli data-pid=\"PG8luyAC\"\u003EGAN、分割模型系列比较大的模型，加速7-20倍左右(Pytorch)\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT有哪些黑科技\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"EPES48p_\"\u003E为什么TensorRT能够提升我们模型在英伟达GPU上运行的速度，当然是做了很多对\u003Cb\u003E提速有增益\u003C\u002Fb\u003E的优化：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-41d4cde8f1a25ffb0ed0ac22a4dcc782_b.jpg\" data-rawwidth=\"2458\" data-rawheight=\"1046\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"2458\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-41d4cde8f1a25ffb0ed0ac22a4dcc782_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2458&#39; height=&#39;1046&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"2458\" data-rawheight=\"1046\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2458\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-41d4cde8f1a25ffb0ed0ac22a4dcc782_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-41d4cde8f1a25ffb0ed0ac22a4dcc782_b.jpg\" data-original-token=\"v2-8ebe2d6a0ac69a88239088d32adfed4f\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cul\u003E\u003Cli data-pid=\"FLeuB8wj\"\u003E算子融合(层与张量融合)：简单来说就是通过融合一些计算op或者去掉一些多余op来减少数据流通次数以及显存的频繁使用来提速\u003C\u002Fli\u003E\u003Cli data-pid=\"KYA9iZ2s\"\u003E量化：量化即IN8量化或者FP16以及TF32等不同于常规FP32精度的使用，这些精度可以显著提升模型执行速度并且不会保持原先模型的精度\u003C\u002Fli\u003E\u003Cli data-pid=\"I_2Luayx\"\u003E内核自动调整：根据不同的显卡构架、SM数量、内核频率等(例如1080TI和2080TI)，选择不同的优化策略以及计算方式，寻找最合适当前构架的计算方式\u003C\u002Fli\u003E\u003Cli data-pid=\"kCw0HAJN\"\u003E动态张量显存：我们都知道，显存的开辟和释放是比较耗时的，通过调整一些策略可以减少模型中这些操作的次数，从而可以减少模型运行的时间\u003C\u002Fli\u003E\u003Cli data-pid=\"ePQUM0mv\"\u003E多流执行：使用CUDA中的stream技术，最大化实现并行操作\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"OX6pFmyl\"\u003ETensorRT的这些优化策略代码虽然是闭源的，但是\u003Cb\u003E大部分的优化策略\u003C\u002Fb\u003E我们或许也可以猜到一些，也包括TensorRT官方公布出来的一些优化策略：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-1209611c0980d86396c920a2cbdf9365_b.jpg\" data-rawwidth=\"2470\" data-rawheight=\"1748\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"2470\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-1209611c0980d86396c920a2cbdf9365_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2470&#39; height=&#39;1748&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"2470\" data-rawheight=\"1748\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2470\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-1209611c0980d86396c920a2cbdf9365_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-1209611c0980d86396c920a2cbdf9365_b.jpg\" data-original-token=\"v2-7b3a3479e6d4beeffaf9d98b828a8874\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"YIhW1aie\"\u003E左上角是原始网络(googlenet)，右上角相对原始层进行了垂直优化，将conv+bias(BN)+relu进行了融合优化；而右下角进行了水平优化，将所有1x1的CBR融合成一个大的CBR；左下角则将concat层直接去掉，将contact层的输入直接送入下面的操作中，不用单独进行concat后在输入计算，相当于减少了一次传输吞吐；\u003C\u002Fp\u003E\u003Cp data-pid=\"r9x2Ub6Z\"\u003E等等等等，还有很多例子。\u003C\u002Fp\u003E\u003Cp data-pid=\"VFx2CjfQ\"\u003E上述的这些算子融合、动态显存分配、精度校准、多steam流、自动调优等操作，TensorRT都帮你做了。这样通过TensorRT帮你调优模型后，自然模型的速度就上来了。\u003C\u002Fp\u003E\u003Cp data-pid=\"WSrsU2Au\"\u003E当然也有其他在NVIDIA-GPU平台上的推理优化库，例如\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Ftvm.apache.org\u002F\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ETVM\u003C\u002Fa\u003E，某些情况下TVM比TensorRT要好用些，但毕竟是英伟达自家产品，TensorRT在自家GPU上还是有不小的优势，做到了开箱即用，上手程度不是很难。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E安装TensorRT！\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"n_lwp2N5\"\u003E安装TensorRT的方式有很多，官方提供了多种方式：\u003C\u002Fp\u003E\u003Cblockquote data-pid=\"GHQljKMP\"\u003E You can choose between the following installation options when installing TensorRT; Debian or RPM packages, a pip wheel file, a tar file, or a zip file.\u003Cbr\u002F\u003E \u003C\u002Fblockquote\u003E\u003Cp data-pid=\"cYDAuGBW\"\u003E这些安装包都可以从官方直接下载，从 \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdeveloper.nvidia.com\u002Fzh-cn\u002Ftensorrt\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Edeveloper.nvidia.com\u002Fzh\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003E-cn\u002Ftensorrt\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E 进入下载即可，需要注意这里\u003Cb\u003E我们要注册会员并且登录\u003C\u002Fb\u003E才可以下载。老潘一直使用的方式是下载\u003Ccode\u003Etar包\u003C\u002Fcode\u003E，下载好后解压即可，只要我们的环境符合要求就可以直接运行，类似于\u003Ccode\u003E绿色免安装\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp data-pid=\"kVLXEfIt\"\u003E例如下载\u003Ccode\u003ETensorRT-7.2.3.4.Ubuntu-18.04.x86_64-gnu.cuda-11.1.cudnn8.1.tar.gz\u003C\u002Fcode\u003E，下载好后，\u003Ccode\u003Etar -zxvf\u003C\u002Fcode\u003E解压即可。\u003C\u002Fp\u003E\u003Cp data-pid=\"dpT-gu1j\"\u003E解压之后我们需要添加\u003Cb\u003E环境变量\u003C\u002Fb\u003E，以便让我们的程序能够找到TensorRT的libs。\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Evim ~\u002F.bashrc\n\u003Cspan class=\"c1\"\u003E# 添加以下内容\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003ELD_LIBRARY_PATH\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u002Fpath\u002Fto\u002FTensorRT-7.2.3.4\u002Flib:\u003Cspan class=\"nv\"\u003E$LD_LIBRARY_PATH\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"nv\"\u003ELIBRARY_PATH\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u002Fpath\u002Fto\u002FTensorRT-7.2.3.4\u002Flib::\u003Cspan class=\"nv\"\u003E$LIBRARY_PATH\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"RzRS4aNr\"\u003E这样TensorRT就安装好了，很快吧！\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT常见FAQ\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"xFVCNYb9\"\u003E对于使用TensorRT，还是有一些需要注意的地方，老潘在这里总结了一些大家可能感兴趣或者之后可能遇到的一些问题。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT版本相关\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"_kM2-AO8\"\u003ETensorRT的版本与CUDA还有CUDNN版本是密切相关的，我们从官网下载TensorRT的时候应该就可以注意到：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-588a89be317211f6dcc420d4fcc1f56a_b.jpg\" data-rawwidth=\"1942\" data-rawheight=\"2106\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1942\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-588a89be317211f6dcc420d4fcc1f56a_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1942&#39; height=&#39;2106&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"1942\" data-rawheight=\"2106\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1942\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-588a89be317211f6dcc420d4fcc1f56a_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-588a89be317211f6dcc420d4fcc1f56a_b.jpg\" data-original-token=\"v2-abf369aac7faa8d8df04139d483bcc6a\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"dL-tkwmk\"\u003E不匹配版本的cuda以及cudnn是无法和TensorRT一起使用的。\u003C\u002Fp\u003E\u003Cp data-pid=\"2kqJRu-o\"\u003E所以下载的时候要注意，不要搞错版本了哦。\u003C\u002Fp\u003E\u003Cp data-pid=\"F2AuaFgu\"\u003E关于如何选择合适自己的TensorRT版本，首先看驱动，其次看CUDA版本。\u003C\u002Fp\u003E\u003Cp data-pid=\"oKH2q9zv\"\u003E驱动怎么看，使用\u003Ccode\u003Envidia-smi\u003C\u002Fcode\u003E命令即可：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a20c3e85690d4a1a63176f7da81ce464_b.jpg\" data-rawwidth=\"1120\" data-rawheight=\"310\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1120\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a20c3e85690d4a1a63176f7da81ce464_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1120&#39; height=&#39;310&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"1120\" data-rawheight=\"310\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1120\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a20c3e85690d4a1a63176f7da81ce464_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-a20c3e85690d4a1a63176f7da81ce464_b.jpg\" data-original-token=\"v2-bd6c97b389495c1a47d25f5fb9195003\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"9Rwj2Y8T\"\u003E驱动可以通过\u003Ccode\u003Eroot\u003C\u002Fcode\u003E权限去换，而CUDA版本只要驱动满足要求就可以随便换(不需要root权限)，这点注意下就好。\u003C\u002Fp\u003E\u003Cp data-pid=\"6vIIx7dD\"\u003E关于详细的环境配置可以看老潘之前的这篇文章：\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fmp.weixin.qq.com\u002Fs%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247486596%26idx%3D1%26sn%3D797baa0c93b60e3dacba06a185d3b964%26chksm%3Dcf109481f8671d97b2fc1ca9b815c67ff8bb8c0a1a624687273373716ad781524924119afe26%26token%3D1497670325%26lang%3Dzh_CN%23rd\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E主机回来以及，简单的环境配置(RTX3070+CUDA11.1+CUDNN+TensorRT)\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp data-pid=\"DA-y6Rk2\"\u003E耍个小聪明，其实版本也不是严格限制的，只要是你需要的\u003Cb\u003E功能函数\u003C\u002Fb\u003E在这个低版本中\u003Cb\u003E存在\u003C\u002Fb\u003E，那也是可以使用的。\u003C\u002Fp\u003E\u003Cp data-pid=\"TJnT3yYU\"\u003E举个例子。\u003C\u002Fp\u003E\u003Cp data-pid=\"p3E29eav\"\u003E我们从官方下载的\u003Ccode\u003ETensorRT-7.0.0.11.Ubuntu-16.04.x86_64-gnu.cuda-10.2.cudnn7.6.tar\u003C\u002Fcode\u003E依赖\u003Ccode\u003Elibcudnn.so.7.6.0\u003C\u002Fcode\u003E。但我们使用\u003Ccode\u003Elibcudnn.so.7.3.0\u003C\u002Fcode\u003E去跑这个\u003Cb\u003ETensorRT\u003C\u002Fb\u003E去做一些事情时，因为版本不一致就会报错:\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-console\"\u003ETensorRT-7.0.0.11\u002Flib\u002Flibmyelin.so.1: undefined reference to `cudnnGetBatchNormalizationBackwardExWorkspaceSize@libcudnn.so.7&#39;\nTensorRT-7.0.0.11\u002Flib\u002Flibmyelin.so.1: undefined reference to `cudnnGetBatchNormalizationForwardTrainingExWorkspaceSize@libcudnn.so.7&#39;\nTensorRT-7.0.0.11\u002Flib\u002Flibmyelin.so.1: undefined reference to `cudnnGetBatchNormalizationTrainingExReserveSpaceSize@libcudnn.so.7&#39;\nTensorRT-7.0.0.11\u002Flib\u002Flibmyelin.so.1: undefined reference to `cudnnBatchNormalizationBackwardEx@libcudnn.so.7&#39;\nTensorRT-7.0.0.11\u002Flib\u002Flibmyelin.so.1: undefined reference to `cudnnBatchNormalizationForwardTrainingEx@libcudnn.so.7&#39;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"xUgX6QT1\"\u003E显然在链接TensorRT的时候，\u003Ccode\u003Elibmyelin.so.1\u003C\u002Fcode\u003E这个东西需要的符号表在\u003Ccode\u003Elibcudnn.so.7.3.0\u003C\u002Fcode\u003E这里找不到，因此也无法编译成功。\u003C\u002Fp\u003E\u003Cp data-pid=\"jy7-jmug\"\u003E但是如果我们使用\u003Ccode\u003Elibcudnn.so.7.6.0\u003C\u002Fcode\u003E将其编译好得到可执行文件，但\u003Cb\u003E跑这个程序\u003C\u002Fb\u003E时只给它提供\u003Ccode\u003Elibcudnn.so.7.3.0\u003C\u002Fcode\u003E的运行环境。那么运行的时候会有 \u003Ccode\u003ETensorRT was linked against cuDNN 7.6.3 but loaded cuDNN 7.3.0\u003C\u002Fcode\u003E的提示，不过程序可以正常运行！\u003C\u002Fp\u003E\u003Cp data-pid=\"IvGqiXOF\"\u003E原因很简单，\u003Ccode\u003Elibcudnn.so.7.6.0\u003C\u002Fcode\u003E所拥有的\u003Ccode\u003EcudnnGetBatchNormalizationBackwardExWorkspaceSize\u003C\u002Fcode\u003E虽然\u003Ccode\u003Elibcudnn.so.7.3.0\u003C\u002Fcode\u003E没有，但是我们也不用它，所以程序可以正常运行而不会报错，但如果你需要这个函数调用这个函数那么就没有办法了。\u003C\u002Fp\u003E\u003Cp data-pid=\"7zisVAjn\"\u003E通过strings命令观察可以看到\u003Ccode\u003Elibcudnn.so.7.3.0\u003C\u002Fcode\u003E确实没有\u003Ccode\u003EcudnnGetBatchNormalizationBackwardExWorkspaceSize\u003C\u002Fcode\u003E这个函数实现：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-console\"\u003Estrings \u002Fusr\u002Flocal\u002Fcuda\u002Flib64\u002Flibcudnn.so.7.3.0 | grep cudnnGetBatchNormalizationBackwardExWorkspaceSize\n而7.6.5中有\nstrings \u002Fusr\u002Flocal\u002Fcuda\u002Flib64\u002Flibcudnn.so.7.6.5 | grep cudnnGetBatchNormalizationBackwardExWorkspaceSize\ncudnnGetBatchNormalizationBackwardExWorkspaceSize\ncudnnGetBatchNormalizationBackwardExWorkspaceSize\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"yLeNZBvB\"\u003E更多关于动态链接库的细节可以\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fmp.weixin.qq.com\u002Fs%3F__biz%3DMzg3ODU2MzY5MA%3D%3D%26mid%3D2247487121%26idx%3D1%26sn%3D9f0ae793552c76629d6b2e9a903de449%26chksm%3Dcf109694f8671f822c1fee5d6777e75acc9d3e423535bc89d1caabe08f5598478b8bc555ac08%26token%3D1497670325%26lang%3Dzh_CN%23rd\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E(收藏必看系列)咱不知道的一些动态链接库小细节\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E什么模型可以转换为TensorRT\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"y0UD9b8u\"\u003ETensorRT官方支持Caffe、Tensorflow、Pytorch、ONNX等模型的转换(不过Caffe和Tensorflow的转换器Caffe-Parser和UFF-Parser已经有些落后了)，也提供了三种转换模型的方式：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"r5jduwex\"\u003E使用\u003Ccode\u003ETF-TRT\u003C\u002Fcode\u003E，将TensorRT集成在TensorFlow中\u003C\u002Fli\u003E\u003Cli data-pid=\"tRbwUdfk\"\u003E使用\u003Ccode\u003EONNX2TensorRT\u003C\u002Fcode\u003E，即ONNX转换trt的工具\u003C\u002Fli\u003E\u003Cli data-pid=\"OSMUh-cs\"\u003E手动构造模型结构，然后手动将权重信息挪过去，非常灵活但是时间成本略高，有大佬已经尝试过了：\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002Fwang-xinyu\u002Ftensorrtx\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003Etensorrtx\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"i9eVjUPi\"\u003E不过目前TensorRT对ONNX的支持最好，TensorRT-8最新版ONNX转换器又支持了更多的op操作。而深度学习框架中，TensorRT对Pytorch的支持更为友好，除了Pytorch-&gt;ONNX-&gt;TensorRT这条路，还有：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"xspkRbsV\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FNVIDIA-AI-IOT\u002Ftorch2trt\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003Etorch2trt\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"1YpJPtDS\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002Fgrimoire\u002Ftorch2trt_dynamic\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003Etorch2trt_dynamic\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"nfyo03lp\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FNVIDIA\u002FTRTorch\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ETRTorch\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"kpZ_D4CD\"\u003E总而言之，理论上\u003Cb\u003E95%的模型\u003C\u002Fb\u003E都可以转换为TensorRT，条条大路通罗马嘛。只不过有些模型可能转换的难度比较大。如果遇到一个无法转换的模型，先不要绝望，再想想，再想想，看看能不能通过其他方式绕过去。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT是否支持动态尺寸(dynamic shape)吗\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"kbR2J5jw\"\u003E支持，而且用起来还很方便，如果某些OP不支持，也可以自己写动态尺度的Plugin。\u003C\u002Fp\u003E\u003Cp data-pid=\"0M0AMqEs\"\u003E动态尺度支持NCHW中的N、H以及W，也就是batch、高以及宽。\u003C\u002Fp\u003E\u003Cp data-pid=\"HwkMMXP_\"\u003E对于动态模型，我们在转换模型的时候需要额外指定三个维度信息即可(最小、最优、最大)。\u003C\u002Fp\u003E\u003Cp data-pid=\"1Ij3jS1_\"\u003E举个转换动态模型的命令：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-console\"\u003E.\u002Ftrtexec --explicitBatch --onnx=demo.onnx --minShapes=input:1x1x256x256 --optShapes=input:1x1x2048x2048 --maxShapes=input:1x1x2560x2560 --shapes=input:1x1x2048x2048 --saveEngine=demo.trt --workspace=6000\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"_HkDsO2u\"\u003E很简单吧~\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT是硬件相关的\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"nf6xgEOb\"\u003E这个很好明白，因为不同显卡(不同GPU)，其核心数量、频率、架构、设计(还有价格..)都是不一样的，TensorRT需要对特定的硬件进行优化，不同硬件之间的优化是不能共享的。\u003C\u002Fp\u003E\u003Cblockquote data-pid=\"oScnQmx3\"\u003E The generated plan files are not portable across platforms or TensorRT versions. Plans are specific to the exact GPU model they were built on (in addition to platforms and the TensorRT version) and must be re-targeted to the specific GPU in case you want to run them on a different GPU\u003Cbr\u002F\u003E \u003C\u002Fblockquote\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT是否开源\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"KT0v6323\"\u003ETensorRT是\u003Cb\u003E半开源\u003C\u002Fb\u003E的，除了\u003Cb\u003E核心部分\u003C\u002Fb\u003E其余的基本都开源了。TensorRT最核心的部分是什么，当然是官方展示的一些特性了。如下：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-01a793405fbe8485fd7c97da7c85dc9c_b.jpg\" data-rawwidth=\"2402\" data-rawheight=\"1048\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"2402\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-01a793405fbe8485fd7c97da7c85dc9c_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2402&#39; height=&#39;1048&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"2402\" data-rawheight=\"1048\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2402\" data-original=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-01a793405fbe8485fd7c97da7c85dc9c_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-01a793405fbe8485fd7c97da7c85dc9c_b.jpg\" data-original-token=\"v2-82314256399db0cbe5d78f801a40b176\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"X1dzx4yf\"\u003E以上核心优势，也就是TensorRT内部的黑科技，可以帮助我们优化模型，加速模型推理，这部分当然是不开源的啦。\u003C\u002Fp\u003E\u003Cp data-pid=\"XGpMW4Wo\"\u003E而开源的部分基本都在这个仓库里:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"3UHAEGnD\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FNVIDIA\u002FTensorRT\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ETensorRT Open Source Software\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"Yu38qobL\"\u003E插件相关、工具相关、文档相关，里面的资源还是挺丰富的。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003EPython中可以使用TensorRT吗\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"tubu4O_F\"\u003E当然是可以的，官方有python的安装包(下文有说)，安装后就可以\u003Ccode\u003Eimport tensorrt\u003C\u002Fcode\u003E使用了。\u003C\u002Fp\u003E\u003Cp data-pid=\"GaUBME4i\"\u003E用ldd命令看一下\u003Ccode\u003Etensorrt.so\u003C\u002Fcode\u003E中都引用了什么。\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-console\"\u003Eldd tensorrt.so\n        linux-vdso.so.1 =&gt;  (0x00007ffe477d4000)\n        libnvinfer.so.7 =&gt; \u002FTensorRT-7.0.0.11\u002Flib\u002Flibnvinfer.so.7 (0x00007f2a76f6b000)\n        libnvonnxparser.so.7 =&gt; \u002FTensorRT-7.0.0.11\u002Flib\u002Flibnvonnxparser.so.7 (0x00007f2a76ca5000)\n        libnvparsers.so.7 =&gt; \u002FTensorRT-7.0.0.11\u002Flib\u002Flibnvparsers.so.7 (0x00007f2a76776000)\n        libnvinfer_plugin.so.7 =&gt; \u002FTensorRT-7.0.0.11\u002Flib\u002Flibnvinfer_plugin.so.7 (0x00007f2a758e2000)\n        libstdc++.so.6 =&gt; \u002FTensorRT-7.0.0.11\u002Flib\u002Flibstdc++.so.6 (0x00007f2a75555000)\n        libgcc_s.so.1 =&gt; \u002Flib64\u002Flibgcc_s.so.1 (0x00007f2a7532f000)\n        libc.so.6 =&gt; \u002Flib64\u002Flibc.so.6 (0x00007f2a74f61000)\n        libcudnn.so.7 =&gt; \u002Fusr\u002Flocal\u002Fcuda\u002Flib64\u002Flibcudnn.so.7 (0x00007f2a60768000)\n        libcublas.so.10.0 =&gt; \u002Fusr\u002Flocal\u002Fcuda\u002Flib64\u002Flibcublas.so.10.0 (0x00007f2a5c1d2000)\n        libcudart.so.10.0 =&gt; \u002Fusr\u002Flocal\u002Fcuda\u002Flib64\u002Flibcudart.so.10.0 (0x00007f2a5bf57000)\n        libmyelin.so.1 =&gt; \u002FTensorRT-7.0.0.11\u002Flib\u002Flibmyelin.so.1 (0x00007f2a5b746000)\n        libnvrtc.so.10.0 =&gt; \u002Fusr\u002Flocal\u002Fcuda\u002Flib64\u002Flibnvrtc.so.10.0 (0x00007f2a5a12a000)\n        libdl.so.2 =&gt; \u002Flib64\u002Flibdl.so.2 (0x00007f2a59f25000)\n        libm.so.6 =&gt; \u002Flib64\u002Flibm.so.6 (0x00007f2a59c23000)\n        \u002Flib64\u002Fld-linux-x86-64.so.2 (0x00007f2a84f5c000)\n        libprotobuf.so.16 =&gt; \u002Fonnx-tensorrt\u002Fprotobuf-3.6.0\u002Flib\u002Flibprotobuf.so.16 (0x00007f2a597ad000)\n        libpthread.so.0 =&gt; \u002Flib64\u002Flibpthread.so.0 (0x00007f2a59591000)\n        librt.so.1 =&gt; \u002Flib64\u002Flibrt.so.1 (0x00007f2a59389000)\n        libz.so.1 =&gt; \u002Flib64\u002Flibz.so.1 (0x00007f2a59172000)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT部署相关\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"T2YvWHzs\"\u003E部署TensorRT的方式，官方提供了三种：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"-utvNumM\"\u003E集成在Tensorflow中使用，比例TF-TRT，这种操作起来比较便捷，但是加速效果并不是很好；\u003C\u002Fli\u003E\u003Cli data-pid=\"dLtbgfXI\"\u003E在TensorRT Runtime环境中运行模型，就是直接使用TensorRT；\u003C\u002Fli\u003E\u003Cli data-pid=\"opzsAwiK\"\u003E搭配服务框架使用，最配的就是官方的triton-server，完美支持TensorRT，用在生产环境杠杠的！\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT支持哪几种权重精度\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"6RYK6MIe\"\u003E支持FP32、FP16、INT8、TF32等，这几种类型都比较常用。\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"fHMV_-66\"\u003EFP32：单精度浮点型，没什么好说的，深度学习中最常见的数据格式，训练推理都会用到；\u003C\u002Fli\u003E\u003Cli data-pid=\"G-SqURm5\"\u003EFP16：半精度浮点型，相比FP32占用内存减少一半，有相应的指令值，速度比FP32要快很多；\u003C\u002Fli\u003E\u003Cli data-pid=\"LnBGLozI\"\u003ETF32：第三代Tensor Core支持的一种数据类型，是一种截短的 Float32 数据格式，将FP32中23个尾数位截短为10bits，而指数位仍为8bits，总长度为19(=1+8 +10)。保持了与FP16同样的精度(尾数位都是 10 位），同时还保持了FP32的动态范围指数位都是8位)；\u003C\u002Fli\u003E\u003Cli data-pid=\"t17QF6IF\"\u003EINT8：整型，相比FP16占用内存减小一半，有相应的指令集，模型量化后可以利用INT8进行加速。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"CL-ohKVy\"\u003E简单展示下各种精度的区别：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e86c8661901842ffaf960bb2abbe37e9_b.jpg\" data-rawwidth=\"1182\" data-rawheight=\"770\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1182\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e86c8661901842ffaf960bb2abbe37e9_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1182&#39; height=&#39;770&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"1182\" data-rawheight=\"770\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1182\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e86c8661901842ffaf960bb2abbe37e9_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e86c8661901842ffaf960bb2abbe37e9_b.jpg\" data-original-token=\"v2-5a2e1abf19071c578b576876f5f39f03\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003E\u003Cb\u003E简单举一个例子吧！\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"aX8VxOuo\"\u003E说了那么多理论知识，不来个栗子太说不过去了。\u003C\u002Fp\u003E\u003Cp data-pid=\"iXYRpbXm\"\u003E这个例子的目的很简单，就是简单展示一下使用\u003Cb\u003ETensorRT\u003C\u002Fb\u003E的一种场景以及基本流程。假设老潘有一个onnx模型想要在3070卡上运行，并且要快，这时候就要祭出TensorRT了。\u003C\u002Fp\u003E\u003Cp data-pid=\"fmRrCkxN\"\u003E关于什么是ONNX(ONNX是一个模型结构格式，方便不同框架之间的模型转化例如\u003Ccode\u003EPytorch-&gt;ONNX-&gt;TRT\u003C\u002Fcode\u003E)可以看\u003Ca href=\"https:\u002F\u002Fzhuanlan.zhihu.com\u002F%E6%88%91%E4%BB%AC%E6%9D%A5%E8%B0%88%E8%B0%88ONNX%E7%9A%84%E6%97%A5%E5%B8%B8\" class=\"internal\"\u003E这个\u003C\u002Fa\u003E，这里先不细说了~\u003C\u002Fp\u003E\u003Cp data-pid=\"V6_hfOSB\"\u003E老潘手头没有现成训练好的模型，直接从开源项目中白嫖一个吧。找到之前一个比较有趣的项目，可以通过图片识别三维人体关键点，俗称人体姿态检测，项目地址在此：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"AHv8Sy93\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002Fdigital-standard\u002FThreeDPoseUnityBarracuda\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Egithub.com\u002Fdigital-stan\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Edard\u002FThreeDPoseUnityBarracuda\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"Atpul3T4\"\u003E实现的效果如下，该模型的精度还是可以的，但是画面中只能出现一个目标人物。速度方面的话，主页有介绍：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"wXueJCjP\"\u003EGeForce RTX2070 SUPER ⇒ About 30 FPS\u003C\u002Fli\u003E\u003Cli data-pid=\"e7Nmc4-B\"\u003EGeForce GTX1070 ⇒ About 20 FPS\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e09087aafebedc95e2a892b93c6fcf99_b.jpg\" data-rawwidth=\"1092\" data-rawheight=\"792\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1092\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e09087aafebedc95e2a892b93c6fcf99_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1092&#39; height=&#39;792&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"1092\" data-rawheight=\"792\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1092\" data-original=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e09087aafebedc95e2a892b93c6fcf99_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-e09087aafebedc95e2a892b93c6fcf99_b.jpg\" data-original-token=\"v2-58fb4fa4ec40d9566a487e4aa0531e7a\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"vesnRjjd\"\u003E让我们来试试TensorRT能够在3070卡上为其加速多少吧。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E看一下模型结构\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"ApfNlrVl\"\u003E用到的\u003Cb\u003E核心模型\u003C\u002Fb\u003E在Github主页有提供，即ONNX模型\u003Ccode\u003EResnet34_3inputs_448x448_20200609.onnx\u003C\u002Fcode\u003E。作者演示使用的是\u003Ccode\u003EUnity\u003C\u002Fcode\u003E与\u003Ccode\u003EBarracuda\u003C\u002Fcode\u003E，其中利用Barracuda去加载onnx模型然后去推理。\u003C\u002Fp\u003E\u003Cp data-pid=\"lziIaijD\"\u003E我们先用\u003Ccode\u003ENetron\u003C\u002Fcode\u003E去观察一下这个模型结构，3个输入4个输出，为什么是3个输入呢？其实这三个输入在模型的不同阶段，作者训练的时候的输入数据可能是从视频中截出来的连续3帧的图像，这样训练可以提升模型的精度(之后模型推理的时候也需要一点时间的预热，毕竟3帧的输入也是有是时间连续性的)：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-77d07753cd215b7e61d242ce4a81aa53_b.jpg\" data-rawwidth=\"2334\" data-rawheight=\"1536\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"2334\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-77d07753cd215b7e61d242ce4a81aa53_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2334&#39; height=&#39;1536&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"2334\" data-rawheight=\"1536\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2334\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-77d07753cd215b7e61d242ce4a81aa53_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-77d07753cd215b7e61d242ce4a81aa53_b.jpg\" data-original-token=\"v2-0b80cd3b120d7bf94faeb5befc2afd9a\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003E\u003Cb\u003E使用onnxruntime验证一下模型\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"yUrgdocH\"\u003E一般来说，我们在通过不同框架(Pytorch、TF)转换ONNX模型之后，需要验证一下ONNX模型的准确性，否则错误的onnx模型转成的TensorRT模型也100%是错误的。\u003C\u002Fp\u003E\u003Cp data-pid=\"3H_YEFpk\"\u003E但显然上述作者提供的\u003Ccode\u003EResnet34_3inputs_448x448_20200609.onnx\u003C\u002Fcode\u003E是验证过没问题的，但这边我们也走一下流程，以下代码使用onnxruntime去运行:\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"kn\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eonnx\u003C\u002Fspan\u003E\n\u003Cspan class=\"kn\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Enumpy\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Enp\u003C\u002Fspan\u003E\n\u003Cspan class=\"kn\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Eonnxruntime\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Ert\u003C\u002Fspan\u003E\n\u003Cspan class=\"kn\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Ecv2\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"n\"\u003Emodel_path\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;\u002Fhome\u002Foldpan\u002Fcode\u002Fmodels\u002FResnet34_3inputs_448x448_20200609.onnx&#39;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# 验证模型合法性\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eonnx_model\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eonnx\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eload\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emodel_path\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eonnx\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Echecker\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Echeck_model\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eonnx_model\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# 读入图像并调整为输入维度\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecv2\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimread\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E&#34;data\u002Fimages\u002Fperson.png&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecv2\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eresize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etranspose\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enp\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Earray\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enp\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enewaxis\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E:]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eastype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enp\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Efloat32\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# 设置模型session以及输入信息\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Esess\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ert\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EInferenceSession\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emodel_path\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Einput_name1\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Esess\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_inputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Einput_name2\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Esess\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_inputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Einput_name3\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Esess\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_inputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Esess\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Erun\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput_name1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput_name2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput_name3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E})\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"IKSsrsL7\"\u003E打印一下结果看看是什么样子吧~其实输出信息还是很多的，全粘过来太多了，毕竟这个模型的输出确实是多...这里只截取了部分内容意思一哈：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"mi\"\u003E2021\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E05\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E05\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E10\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E44\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E08.696562083\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EW\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eonnxruntime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Egraph\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecc\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E3106\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003ECleanUnusedInitializers\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003ERemoving\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einitializer\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;offset.1.num_batches_tracked&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003EIt\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Enot\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eused\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eby\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eany\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Enode\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Eand\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eshould\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ebe\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eremoved\u003C\u002Fspan\u003E \u003Cspan class=\"kn\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"nn\"\u003Ethe\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\n\u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\n\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Earray\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E([[[[\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.16470502\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"mf\"\u003E0.9578098\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.82495296\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.59656703\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n           \u003Cspan class=\"mf\"\u003E0.26985374\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"mf\"\u003E0.5808018\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n         \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.6096473\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"mf\"\u003E0.9780458\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.9723106\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.90165156\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.8959699\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"mf\"\u003E0.91829604\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n         \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.03562748\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"mf\"\u003E0.3730615\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.9816262\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.9905239\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.4543069\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E  \u003Cspan class=\"mf\"\u003E0.5840921\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n         \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n         \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n         \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n         \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E],\u003C\u002Fspan\u003E\n         \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E...\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n          \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mf\"\u003E0.\u003C\u002Fspan\u003E        \u003Cspan class=\"p\"\u003E]]]],\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Edtype\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Efloat32\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)]\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"lJ9UJmRY\"\u003E看到\u003Ccode\u003ERemoving initializer &#39;offset.1.num_batches_tracked&#39;. It is not used by any node and should be removed from the model\u003C\u002Fcode\u003E这个提示我亲切地笑了，这不就是用Pytorch训练的么，看来作者这个模型也是通过Pytorch训练然后导出来的。\u003C\u002Fp\u003E\u003Cp data-pid=\"OeSj-1sZ\"\u003E怎么对比下ONNX和Pytorch输出结果是否一致呢？可以直接看到输出的数值是多少，但是这个模型的输出还是比较多的，直接通过肉眼对比转换前后的结果是不理智的。我们可以通过代码简单对比一下：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emodel\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Ey_onnx\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emodel_onnx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ex\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"c1\"\u003E# check the output against PyTorch\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etorch\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Emax\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etorch\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eabs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ey\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ey_trt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)))\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Ch2\u003E\u003Cb\u003EONNX转换为TensorRT模型\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"LeHreiUd\"\u003EONNX模型转换TensorRT模型还是比较容易的，目前TensorRT官方对ONNX模型的支持最好，而且后续也会将精力重点放到ONNX上面(相比ONNX，UFF、Caffe这类转换工具可能不会再更新了)。\u003C\u002Fp\u003E\u003Cp data-pid=\"DyAaGUqf\"\u003E目前官方的转换工具\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002Fonnx\u002Fonnx-tensorrt\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ETensorRT Backend For ONNX\u003C\u002Fa\u003E(简称ONNX-TensorRT)已经比较成熟了，开发者也在积极开发，提issue官方回复的也比较快。我们就用上述工具来转一下这个模型。\u003C\u002Fp\u003E\u003Cp data-pid=\"pWRfLPXF\"\u003E我们不需要克隆\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002Fonnx\u002Fonnx-tensorrt\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003ETensorRT Backend For ONNX\u003C\u002Fa\u003E，之前下载好的\u003Cb\u003ETensorRT包\u003C\u002Fb\u003E中已经有这个工具的可执行文件了，官方已经替我们编译好了，只要我们的环境符合要求，是直接可以用的。\u003C\u002Fp\u003E\u003Cp data-pid=\"aDSBlAZU\"\u003E到\u003Ccode\u003ETensorRT-7.2.3.4\u002Fbin\u003C\u002Fcode\u003E中直接使用\u003Ccode\u003Etrtexec\u003C\u002Fcode\u003E这个工具，这个工具可以比较快速地转换ONNX模型以及测试转换后的trt模型有多快：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"jILORqOh\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FNVIDIA\u002FTensorRT\u002Fblob\u002Fmaster\u002Fsamples\u002Fopensource\u002Ftrtexec\u002FREADME.md\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Egithub.com\u002FNVIDIA\u002FTenso\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003ErRT\u002Fblob\u002Fmaster\u002Fsamples\u002Fopensource\u002Ftrtexec\u002FREADME.md\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"rgX7ZgWl\"\u003E我们使用命令转换，可以看到输出信息：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-console\"\u003E&amp;&amp;&amp;&amp; RUNNING TensorRT.trtexec # .\u002Ftrtexec --onnx=Resnet34_3inputs_448x448_20200609.onnx --saveEngine=Resnet34_3inputs_448x448_20200609.trt --workspace=6000\n[05\u002F09\u002F2021-17:00:50] [I] === Model Options ===\n[05\u002F09\u002F2021-17:00:50] [I] Format: ONNX\n[05\u002F09\u002F2021-17:00:50] [I] Model: Resnet34_3inputs_448x448_20200609.onnx\n[05\u002F09\u002F2021-17:00:50] [I] Output:\n[05\u002F09\u002F2021-17:00:50] [I] === Build Options ===\n[05\u002F09\u002F2021-17:00:50] [I] Max batch: explicit\n[05\u002F09\u002F2021-17:00:50] [I] Workspace: 6000 MiB\n[05\u002F09\u002F2021-17:00:50] [I] minTiming: 1\n[05\u002F09\u002F2021-17:00:50] [I] avgTiming: 8\n[05\u002F09\u002F2021-17:00:50] [I] Precision: FP32\n[05\u002F09\u002F2021-17:00:50] [I] Calibration: \n[05\u002F09\u002F2021-17:00:50] [I] Refit: Disabled\n[05\u002F09\u002F2021-17:00:50] [I] Safe mode: Disabled\n[05\u002F09\u002F2021-17:00:50] [I] Save engine: Resnet34_3inputs_448x448_20200609.trt\n[05\u002F09\u002F2021-17:00:50] [I] Load engine: \n[05\u002F09\u002F2021-17:00:50] [I] Builder Cache: Enabled\n[05\u002F09\u002F2021-17:00:50] [I] NVTX verbosity: 0\n[05\u002F09\u002F2021-17:00:50] [I] Tactic sources: Using default tactic sources\n[05\u002F09\u002F2021-17:00:50] [I] Input(s)s format: fp32:CHW\n[05\u002F09\u002F2021-17:00:50] [I] Output(s)s format: fp32:CHW\n...\n[05\u002F09\u002F2021-17:02:32] [I] Timing trace has 0 queries over 3.16903 s\n[05\u002F09\u002F2021-17:02:32] [I] Trace averages of 10 runs:\n[05\u002F09\u002F2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.5795 ms  \n[05\u002F09\u002F2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.6697 ms \n[05\u002F09\u002F2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.6537 ms \n[05\u002F09\u002F2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.5953 ms \n[05\u002F09\u002F2021-17:02:32] [I] Average on 10 runs - GPU latency: 4.6333 ms \n[05\u002F09\u002F2021-17:02:32] [I] Host Latency\n[05\u002F09\u002F2021-17:02:32] [I] min: 4.9716 ms (end to end 108.17 ms)\n[05\u002F09\u002F2021-17:02:32] [I] max: 4.4915 ms (end to end 110.732 ms)\n[05\u002F09\u002F2021-17:02:32] [I] mean: 4.0049 ms (end to end 109.226 ms)\n[05\u002F09\u002F2021-17:02:32] [I] median: 4.9646 ms (end to end 109.241 ms)\n[05\u002F09\u002F2021-17:02:32] [I] percentile: 4.4915 ms at 99% (end to end 110.732 ms at 99%)\n[05\u002F09\u002F2021-17:02:32] [I] throughput: 0 qps\n[05\u002F09\u002F2021-17:02:32] [I] walltime: 3.16903 s\n[05\u002F09\u002F2021-17:02:32] [I] Enqueue Time\n[05\u002F09\u002F2021-17:02:32] [I] min: 0.776001 ms\n[05\u002F09\u002F2021-17:02:32] [I] max: 1.37109 ms\n[05\u002F09\u002F2021-17:02:32] [I] median: 0.811768 ms\n[05\u002F09\u002F2021-17:02:32] [I] GPU Compute\n[05\u002F09\u002F2021-17:02:32] [I] min: 4.5983 ms\n[05\u002F09\u002F2021-17:02:32] [I] max: 4.1133 ms\n[05\u002F09\u002F2021-17:02:32] [I] mean: 4.6307 ms\n[05\u002F09\u002F2021-17:02:32] [I] median: 4.5915 ms\n[05\u002F09\u002F2021-17:02:32] [I] percentile: 4.1133 ms at 99%\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"SYTPaKeH\"\u003E其中FP32推理速度是4-5ms左右，而FP16只需要1.6ms。\u003C\u002Fp\u003E\u003Cp data-pid=\"ad5sf-2o\"\u003EPS：关于\u003Cb\u003EONNX-TensorRT\u003C\u002Fb\u003E这个工具，本身是由C++写的，整体结构设计的比较紧凑，值得一读，之后老潘会讲述ONNX-TensorRT这个工具的编译和使用方法。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E运行TensorRT模型\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"LXpAFJRZ\"\u003E这里我们使用TensorRT的Python端加载转换好的\u003Ccode\u003Eresnet34_3dpose.trt\u003C\u002Fcode\u003E模型。使用Python端时首先需要安装\u003Ccode\u003ETensorRT-tar\u003C\u002Fcode\u003E包下的pyhton目录下的\u003Ccode\u003Etensorrt-7.2.3.4-cp37-none-linux_x86_64.whl\u003C\u002Fcode\u003E安装包，目前7.0支持最新的python版本为3.8，而TensorRT-8-EA则开始支持python-3.9了。\u003C\u002Fp\u003E\u003Cp data-pid=\"uDslpT4E\"\u003E安装Python-TensorRT后，首先\u003Ccode\u003Eimport tensorrt as trt\u003C\u002Fcode\u003E。\u003C\u002Fp\u003E\u003Cp data-pid=\"P1sRKIQu\"\u003E然后加载Trt模型：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"n\"\u003Elogger\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etrt\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ELogger\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etrt\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ELogger\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EINFO\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"k\"\u003Ewith\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eopen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E&#34;resnet34_3dpose.trt&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E&#34;rb&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ef\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etrt\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ERuntime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Elogger\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"k\"\u003Eas\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eruntime\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eruntime\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edeserialize_cuda_engine\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ef\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eread\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E())\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"P-E2cC2o\"\u003E加载好之后，我们打印下这个模型的输入输出信息，观察是否与ONNX模型一致：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Erange\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enum_bindings\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eis_input\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebinding_is_input\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eop_type\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_dtype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Emodel_all_names\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eappend\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_shape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"nb\"\u003Eprint\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;input id:&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;   is input: &#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eis_input\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"s1\"\u003E&#39;  binding name:&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;  shape:&#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"s1\"\u003E&#39;type: &#39;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eop_type\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"IAIBsWXj\"\u003E可以看到：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ebindings\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Emessage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003ETrue\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003ETrue\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003ETrue\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E7\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E448\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E3\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003EFalse\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E499\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E24\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E4\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003EFalse\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E504\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E48\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E5\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003EFalse\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E516\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E672\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\n\u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eid\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E6\u003C\u002Fspan\u003E    \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Einput\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"kc\"\u003EFalse\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Ebinding\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ename\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E530\u003C\u002Fspan\u003E   \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E2016\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E28\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E  \u003Cspan class=\"n\"\u003EDataType\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EFLOAT\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"QJ92T_Om\"\u003E3个输入4个输出，完全一致没有问题！\u003C\u002Fp\u003E\u003Cp data-pid=\"H1eOIsn8\"\u003E然后载入图像，运行模型：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecv2\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimread\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimage_path\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ecv2\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eresize\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E200\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E64\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etranspose\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimage\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eastype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enp\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Efloat32\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etorch\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Efrom_numpy\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eunsqueeze\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eto\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edevice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\u003Cspan class=\"c1\"\u003E# 运行模型\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Eresult_trt\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etrt_model\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eimg_input\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"QN6IyaMG\"\u003E咦？这么简单么，trt的engine在哪儿？\u003C\u002Fp\u003E\u003Cp data-pid=\"CS61a61E\"\u003E当然不是，其实这个\u003Ccode\u003Etrt_model\u003C\u002Fcode\u003E是一个类，我们这样使用它：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"c1\"\u003E# engine即上述加载的engine\u003C\u002Fspan\u003E\n\u003Cspan class=\"n\"\u003Etrt_model\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003ETRTModule\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"s2\"\u003E&#34;input.1&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E&#34;input.4&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"s2\"\u003E&#34;input.7&#34;\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E])\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"gHk2i1BX\"\u003E而这个\u003Ccode\u003ETRTModule\u003C\u002Fcode\u003E是什么呢，为了方便地加载TRT模型以及创建runtime，我们借鉴\u003Ccode\u003Etorch2trt\u003C\u002Fcode\u003E这个库中的一个实现类，比较好地结合了Pytorch与TensorRT，具体实现如下：\u003C\u002Fp\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003Ccode class=\"language-python3\"\u003E\u003Cspan class=\"k\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"nc\"\u003ETRTModule\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Etorch\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Enn\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003EModule\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E\n    \u003Cspan class=\"k\"\u003Edef\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003E__init__\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput_names\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutput_names\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E\n        \u003Cspan class=\"nb\"\u003Esuper\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003ETRTModule\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"fm\"\u003E__init__\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n        \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Eis\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Enot\u003C\u002Fspan\u003E \u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n            \u003Cspan class=\"c1\"\u003E# engine创建执行context\u003C\u002Fspan\u003E\n            \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecreate_execution_context\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput_names\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput_names\u003C\u002Fspan\u003E\n        \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput_names\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutput_names\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"k\"\u003Edef\u003C\u002Fspan\u003E \u003Cspan class=\"nf\"\u003Eforward\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Ebatch_size\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Ebindings\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"nb\"\u003Elen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput_names\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E+\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Elen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput_names\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einput_name\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eenumerate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput_names\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_index\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einput_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"c1\"\u003E# 设定shape \u003C\u002Fspan\u003E\n            \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eset_binding_shape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etuple\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Einputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ebindings\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Einputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtiguous\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edata_ptr\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"c1\"\u003E# create output tensors\u003C\u002Fspan\u003E\n        \u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"kc\"\u003ENone\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E*\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Elen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput_names\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Efor\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutput_name\u003C\u002Fspan\u003E \u003Cspan class=\"ow\"\u003Ein\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Eenumerate\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput_names\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E):\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_index\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutput_name\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Edtype\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etorch_dtype_from_trt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_dtype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etuple\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_binding_shape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Edevice\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etorch_device_from_trt\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eengine\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eget_location\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E))\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Etorch\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eempty\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Esize\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eshape\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Edtype\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edtype\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Edevice\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edevice\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ei\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Ebindings\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eidx\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutput\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Edata_ptr\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"bp\"\u003Eself\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eexecute_async_v2\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ebindings\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E,\u003C\u002Fspan\u003E\n                                      \u003Cspan class=\"n\"\u003Etorch\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecuda\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecurrent_stream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E()\u003C\u002Fspan\u003E\u003Cspan class=\"o\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Ecuda_stream\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Etuple\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"k\"\u003Eif\u003C\u002Fspan\u003E \u003Cspan class=\"nb\"\u003Elen\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E==\u003C\u002Fspan\u003E \u003Cspan class=\"mi\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E:\u003C\u002Fspan\u003E\n            \u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E \u003Cspan class=\"o\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"mi\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"p\"\u003E]\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"k\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"n\"\u003Eoutputs\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003Cp data-pid=\"FHhDJPaA\"\u003E我们重点看\u003Ccode\u003E__init__()\u003C\u002Fcode\u003E和\u003Ccode\u003Eforward\u003C\u002Fcode\u003E这两个成员方法，即engine创建context，然后确定输入输出，执行\u003Ccode\u003Eexecute_async_v2\u003C\u002Fcode\u003E即可获取结果。\u003C\u002Fp\u003E\u003Cp data-pid=\"Qa_CH7Uf\"\u003E就这样，使用TensorRT调用已经序列化好的trt模型就成功啦。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E利用Polygraphy查看ONNX与TRT模型的输出差异\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"jqhDiy4P\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FNVIDIA\u002FTensorRT\u002Ftree\u002Fmaster\u002Ftools\u002FPolygraphy\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003EPolygraphy\u003C\u002Fa\u003E是TensorRT官方提供的一系列小工具合集，通过这个工具我们看一下这个\u003Ccode\u003EResnet34_3inputs_448x448_20200609.onnx\u003C\u002Fcode\u003E模型在转换为trt之后是否会有精度折损：\u003C\u002Fp\u003E\u003Cp data-pid=\"kPvGiVzJ\"\u003E首先看一下FP32精度：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-60cd3021f40b8316396a8c0b0c388f2e_b.jpg\" data-rawwidth=\"2654\" data-rawheight=\"760\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"2654\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-60cd3021f40b8316396a8c0b0c388f2e_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2654&#39; height=&#39;760&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"2654\" data-rawheight=\"760\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2654\" data-original=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-60cd3021f40b8316396a8c0b0c388f2e_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic3.zhimg.com\u002Fv2-60cd3021f40b8316396a8c0b0c388f2e_b.jpg\" data-original-token=\"v2-46c6bbc544117a260a8bc85050e0c6e3\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"A52RGwsh\"\u003E再看下FP16精度：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ae2682e725e58544bd8526a9da1f2fa7_b.jpg\" data-rawwidth=\"2664\" data-rawheight=\"688\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"2664\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ae2682e725e58544bd8526a9da1f2fa7_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;2664&#39; height=&#39;688&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"2664\" data-rawheight=\"688\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2664\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ae2682e725e58544bd8526a9da1f2fa7_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-ae2682e725e58544bd8526a9da1f2fa7_b.jpg\" data-original-token=\"v2-0b7ead183c8c7c74d5e0cbce6d07bb27\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"-ox_wAVS\"\u003E这里的绝对误差和相对误差容忍度设置的均为\u003Ccode\u003E1e-3\u003C\u002Fcode\u003E，精确到小数点后3位，可以看到上述onnx模型在转化为FP32的trt是没有大问题的，而FP16则有比较多的精度折损。至于会不会严重地影响结果需要我们通过具体或者一批case分析。限于篇幅放到后续说。\u003C\u002Fp\u003E\u003Cp data-pid=\"UiYnVgz5\"\u003E例子就这样~\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT的缺点\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"z3qzmrdb\"\u003ETensorRT不是没有“缺点”的，有一些小小的缺点需要吐槽一下：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"sWXUj5Hr\"\u003E经过infer优化后的模型与特定GPU绑定，例如在1080TI上生成的模型在2080TI上无法使用；\u003C\u002Fli\u003E\u003Cli data-pid=\"fMnqAkw-\"\u003E高版本的TensorRT依赖于高版本的CUDA版本，而高版本的CUDA版本依赖于高版本的驱动，如果想要使用新版本的TensorRT，更换环境是不可避免的；\u003C\u002Fli\u003E\u003Cli data-pid=\"K6tGKIMu\"\u003ETensorRT尽管好用，但推理优化infer还是闭源的，像深度学习炼丹一样，也像个黑盒子，使用起来会有些畏手畏脚，不能够完全掌控。所幸TensorRT提供了较为多的工具帮助我们调试。\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"nGT4WQXQ\"\u003E正所谓爱之深恨之切，老潘也知道，这些”缺点“也是没有办法的缺点，既然无法避免，就轻轻吐槽一下吧。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003ETensorRT配套周边\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"vva5fXxf\"\u003ETensorRT毕竟发展这么多年了，官方也深知大家使用TensorRT的一些\u003Cb\u003E痛点\u003C\u002Fb\u003E，所以开发了一些比较实用的小工具来供大家使用，工具目前在TensorRT的\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fgithub.com\u002FNVIDIA\u002FTensorRT\u002Ftree\u002Fmaster\u002Ftools\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E开源主页\u003C\u002Fa\u003E，也就是说这些工具也是开源的：\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4863f96293c72fbfa45fec28d86fd647_b.png\" data-rawwidth=\"1816\" data-rawheight=\"254\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb\" width=\"1816\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4863f96293c72fbfa45fec28d86fd647_r.jpg\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;1816&#39; height=&#39;254&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"1816\" data-rawheight=\"254\" data-size=\"normal\" data-caption=\"\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1816\" data-original=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4863f96293c72fbfa45fec28d86fd647_r.jpg\" data-actualsrc=\"https:\u002F\u002Fpic4.zhimg.com\u002Fv2-4863f96293c72fbfa45fec28d86fd647_b.png\" data-original-token=\"v2-4863f96293c72fbfa45fec28d86fd647\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"o7G8CfTd\"\u003E这三个工具的基本功能大概介绍下：\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli data-pid=\"uJf695vz\"\u003EONNX GraphSurgeon 可以修改我们导出的ONNX模型，增加或者剪掉某些节点，修改名字或者维度等等\u003C\u002Fli\u003E\u003Cli data-pid=\"CxlkhHT0\"\u003EPolygraphy 各种小工具的集合，例如比较ONNX和trt模型的精度，观察trt模型每层的输出等等，主要用来debug一些模型的信息，还是比较有用的\u003C\u002Fli\u003E\u003Cli data-pid=\"pHvSEa-L\"\u003EPyTorch-Quantization 可以在Pytorch训练或者推理的时候加入模拟量化操作，从而提升量化模型的精度和速度，并且支持量化训练后的模型导出ONNX和TRT\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp data-pid=\"D3dtVdDO\"\u003E老潘用过\u003Ccode\u003EONNX GraphSurgeon\u003C\u002Fcode\u003E以及\u003Ccode\u003EPolygraphy\u003C\u002Fcode\u003E，两者都是在实际部署转换中比较实用的工具，也确实解决了一些问题。唯一不足的是这些工具的教程都不是很详细，较难上手，之后老潘也会\u003Cb\u003E详细介绍一哈这些工具的使用方法\u003C\u002Fb\u003E。\u003C\u002Fp\u003E\u003Ch2\u003E\u003Cb\u003E参考链接\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cul\u003E\u003Cli data-pid=\"QIB8MHiW\"\u003ETensorRT-Index：\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fdeeplearning\u002Ftensorrt\u002Fquick-start-guide\u002Findex.html\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Edocs.nvidia.com\u002Fdeeplea\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Erning\u002Ftensorrt\u002Fquick-start-guide\u002Findex.html\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"6ERrIjww\"\u003EAPI：\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fdeeplearning\u002Ftensorrt\u002Fapi\u002F\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Edocs.nvidia.com\u002Fdeeplea\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Erning\u002Ftensorrt\u002Fapi\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"QD35b--e\"\u003EONNX GraphSurgeon: \u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fdeeplearning\u002Ftensorrt\u002Fonnx-graphsurgeon\u002Fdocs\u002Findex.html\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Edocs.nvidia.com\u002Fdeeplea\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Erning\u002Ftensorrt\u002Fonnx-graphsurgeon\u002Fdocs\u002Findex.html\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003Cli data-pid=\"Cf9IxjT8\"\u003E\u003Ca href=\"https:\u002F\u002Flink.zhihu.com\u002F?target=https%3A\u002F\u002Fdocs.nvidia.com\u002Fdeeplearning\u002Ftensorrt\u002Fquick-start-guide\u002Findex.html\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"\u003E\u003Cspan class=\"invisible\"\u003Ehttps:\u002F\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"visible\"\u003Edocs.nvidia.com\u002Fdeeplea\u003C\u002Fspan\u003E\u003Cspan class=\"invisible\"\u003Erning\u002Ftensorrt\u002Fquick-start-guide\u002Findex.html\u003C\u002Fspan\u003E\u003Cspan class=\"ellipsis\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Ch2\u003E\u003Cb\u003E后记\u003C\u002Fb\u003E\u003C\u002Fh2\u003E\u003Cp data-pid=\"KIvDV6Il\"\u003E写不动了先这样吧...关于TensorRT想写的还有很多，不想错过可以关注我哦，希望这篇文章能够对学习TensorRT的各位有些帮助~\u003C\u002Fp\u003E\u003Cp data-pid=\"_d4gW2o0\"\u003E个人来讲，TensorRT最好的学习方式还是实战，只有踩过一些坑，改过一些代码，跑通过一些程序，才能更好地学习TensorRT。而所谓的那么些文档，也无非是帮助我们少踩些坑罢了。无论如何，大部分坑该踩的还是踩的，不要等准备好再上，赶紧的，代码跑起来吧！\u003C\u002Fp\u003E\u003Cfigure data-size=\"normal\"\u003E\u003Cnoscript\u003E\u003Cimg src=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-4934700e117f40411aa6f87f37755bb1_b.jpg\" data-rawwidth=\"344\" data-rawheight=\"293\" data-size=\"normal\" data-caption=\"\" class=\"content_image\" width=\"344\"\u002F\u003E\u003C\u002Fnoscript\u003E\u003Cimg src=\"data:image\u002Fsvg+xml;utf8,&lt;svg xmlns=&#39;http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg&#39; width=&#39;344&#39; height=&#39;293&#39;&gt;&lt;\u002Fsvg&gt;\" data-rawwidth=\"344\" data-rawheight=\"293\" data-size=\"normal\" data-caption=\"\" class=\"content_image lazy\" width=\"344\" data-actualsrc=\"https:\u002F\u002Fpic2.zhimg.com\u002Fv2-4934700e117f40411aa6f87f37755bb1_b.jpg\" data-original-token=\"v2-7efc9a49d31560e59c2baf852426787e\"\u002F\u003E\u003C\u002Ffigure\u003E\u003Cp data-pid=\"C75QHufn\"\u003E有疑问或者相关问题欢迎拍砖留言~\u003C\u002Fp\u003E","contentNeedTruncated":false,"adminClosedComment":false,"topics":[{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19562754","type":"topic","id":"19562754","name":"NVIDIA（英伟达）"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F19570902","type":"topic","id":"19570902","name":"GPU 通用计算"},{"url":"https:\u002F\u002Fwww.zhihu.com\u002Fapi\u002Fv4\u002Ftopics\u002F21201317","type":"topic","id":"21201317","name":"TensorRT"}],"voteupCount":1187,"voting":0,"heavyUpStatus":"allow_heavy_up","column":{"description":"仅仅是一个专栏，分享人工智能相关技术知识、编程技巧以及有趣的消息。每周定期发布1-2篇深度学习方面实践质量文。","canManage":false,"intro":"分享深度学习相关知识，持续酝酿质量文。","isFollowing":false,"urlToken":"Oldpan","id":"Oldpan","articlesCount":61,"acceptSubmission":true,"title":"深度学习那些事","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002FOldpan","commentPermission":"all","created":1526362907,"updated":1604545738,"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-23935f88ab1ac088a515b34a94eb3396_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54.jpg?source=172ae18b","uid":"627160086720811008","userType":"people","isFollowing":false,"urlToken":"oldpan","id":"8ebdeeb4739c048be1a978fa0427181a","description":"老潘的博客，程序员眸中的fantasy life，分享AI技术干货，技术宅相关，也聊聊人生“理想”~\n个人主页：https:\u002F\u002Foldpan.me","name":"OLDPAN","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F8ebdeeb4739c048be1a978fa0427181a","avatarUrl":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b","isOrg":false,"type":"people","badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""}},"followers":852,"type":"column"},"commentCount":91,"contributions":[{"id":30616776,"state":"accepted","type":"first_publish","column":{"description":"仅仅是一个专栏，分享人工智能相关技术知识、编程技巧以及有趣的消息。每周定期发布1-2篇深度学习方面实践质量文。","canManage":false,"intro":"分享深度学习相关知识，持续酝酿质量文。","isFollowing":false,"urlToken":"Oldpan","id":"Oldpan","articlesCount":61,"acceptSubmission":true,"title":"深度学习那些事","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002FOldpan","commentPermission":"all","created":1526362907,"updated":1604545738,"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-23935f88ab1ac088a515b34a94eb3396_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54.jpg?source=172ae18b","uid":"627160086720811008","userType":"people","isFollowing":false,"urlToken":"oldpan","id":"8ebdeeb4739c048be1a978fa0427181a","description":"老潘的博客，程序员眸中的fantasy life，分享AI技术干货，技术宅相关，也聊聊人生“理想”~\n个人主页：https:\u002F\u002Foldpan.me","name":"OLDPAN","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F8ebdeeb4739c048be1a978fa0427181a","avatarUrl":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b","isOrg":false,"type":"people","badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""}},"followers":852,"type":"column"}}],"isTitleImageFullScreen":false,"upvotedFollowees":[],"commercialInfo":{"isCommercial":false,"plugin":{}},"suggestEdit":{"status":false,"reason":"","tip":"","url":"","title":""},"reason":"","annotationAction":[],"canTip":false,"tipjarorsCount":0,"isLabeled":false,"hasPublishingDraft":false,"isFavorited":false,"favlistsCount":2153,"isNormal":true,"status":0,"activityToppingInfo":{"state":"untopped"},"shareText":"TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 来自知乎专栏「深度学习那些事」，作者: OLDPAN https:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F371239130 （想看更多？下载 @知乎 App：http:\u002F\u002Fweibo.com\u002Fp\u002F100404711598 ）","canComment":{"status":true,"reason":""},"mcnFpShow":-1,"isVisible":true,"isLiked":false,"likedCount":176,"hasColumn":true,"republishers":[],"isNewLinkCard":true,"emojiReaction":{"likeCount":176,"likeHasSet":false},"abParam":{"pnNbtoolbar":"0","qaFotoolbar":"1","qaHiddenVoteup":"1","qaNewdownvote":"0","rsInterest1":"","zpZhiStyle":""},"attachedInfo":"kgIkCgkxNzA2MjczOTgSCTM3MTIzOTEzMBgHIgpJTUFHRV9URVhU","shareGuide":{"hasPositiveBubble":false,"hasTimeBubble":false,"hitShareGuideCluster":false},"settings":{"tableOfContents":{"enabled":false}},"canReference":false,"reactionInstruction":{"rEACTIONCONTENTSEGMENTLIKE":"HIDE"},"reaction":{"statistics":{"upVoteCount":1187,"downVoteCount":13,"likeCount":176,"commentCount":91,"shareCount":0,"playCount":0,"interestPlayCount":0,"favorites":2153,"pvCount":0,"bulletCount":0,"applaudCount":0,"questionFollowerCount":0,"questionAnswerCount":0,"plaincontentVoteUpCount":0,"plaincontentLikeCount":0,"imgLikeCount":{"v20b7ead183c8c7c74d5e0cbce6d07bb27":0,"v20b80cd3b120d7bf94faeb5befc2afd9a":1,"v220e9dccf8f84cf17507eeab4e52e9a00":0,"v2331b73178c7e50bc3ababe72f147cd0a":0,"v246c6bbc544117a260a8bc85050e0c6e3":0,"v24863f96293c72fbfa45fec28d86fd647":0,"v249f3135b029f535375d6df0ceec274e6":0,"v258fb4fa4ec40d9566a487e4aa0531e7a":0,"v25a2e1abf19071c578b576876f5f39f03":1,"v26ab11a3a5803ee4b92aa770a1bb6f7b0":0,"v27b3a3479e6d4beeffaf9d98b828a8874":0,"v27efc9a49d31560e59c2baf852426787e":0,"v282314256399db0cbe5d78f801a40b176":0,"v28ebe2d6a0ac69a88239088d32adfed4f":0,"v2Abf369aac7faa8d8df04139d483bcc6a":0,"v2B7ade1778a8cd62e96cd0ee3fcaf9453":0,"v2Bd6c97b389495c1a47d25f5fb9195003":0,"v2Dad2cc66477c46b2fa5e810beafcd130":0}},"relation":{"isAuthor":false,"vote":"Neutral","liked":false,"imgLiked":{"v20b7ead183c8c7c74d5e0cbce6d07bb27":false,"v20b80cd3b120d7bf94faeb5befc2afd9a":false,"v220e9dccf8f84cf17507eeab4e52e9a00":false,"v2331b73178c7e50bc3ababe72f147cd0a":false,"v246c6bbc544117a260a8bc85050e0c6e3":false,"v24863f96293c72fbfa45fec28d86fd647":false,"v249f3135b029f535375d6df0ceec274e6":false,"v258fb4fa4ec40d9566a487e4aa0531e7a":false,"v25a2e1abf19071c578b576876f5f39f03":false,"v26ab11a3a5803ee4b92aa770a1bb6f7b0":false,"v27b3a3479e6d4beeffaf9d98b828a8874":false,"v27efc9a49d31560e59c2baf852426787e":false,"v282314256399db0cbe5d78f801a40b176":false,"v28ebe2d6a0ac69a88239088d32adfed4f":false,"v2Abf369aac7faa8d8df04139d483bcc6a":false,"v2B7ade1778a8cd62e96cd0ee3fcaf9453":false,"v2Bd6c97b389495c1a47d25f5fb9195003":false,"v2Dad2cc66477c46b2fa5e810beafcd130":false},"faved":false},"imageReactions":{"v20b7ead183c8c7c74d5e0cbce6d07bb27":{"likeCount":0,"isLiked":false},"v20b80cd3b120d7bf94faeb5befc2afd9a":{"likeCount":1,"isLiked":false},"v220e9dccf8f84cf17507eeab4e52e9a00":{"likeCount":0,"isLiked":false},"v2331b73178c7e50bc3ababe72f147cd0a":{"likeCount":0,"isLiked":false},"v246c6bbc544117a260a8bc85050e0c6e3":{"likeCount":0,"isLiked":false},"v24863f96293c72fbfa45fec28d86fd647":{"likeCount":0,"isLiked":false},"v249f3135b029f535375d6df0ceec274e6":{"likeCount":0,"isLiked":false},"v258fb4fa4ec40d9566a487e4aa0531e7a":{"likeCount":0,"isLiked":false},"v25a2e1abf19071c578b576876f5f39f03":{"likeCount":1,"isLiked":false},"v26ab11a3a5803ee4b92aa770a1bb6f7b0":{"likeCount":0,"isLiked":false},"v27b3a3479e6d4beeffaf9d98b828a8874":{"likeCount":0,"isLiked":false},"v27efc9a49d31560e59c2baf852426787e":{"likeCount":0,"isLiked":false},"v282314256399db0cbe5d78f801a40b176":{"likeCount":0,"isLiked":false},"v28ebe2d6a0ac69a88239088d32adfed4f":{"likeCount":0,"isLiked":false},"v2Abf369aac7faa8d8df04139d483bcc6a":{"likeCount":0,"isLiked":false},"v2B7ade1778a8cd62e96cd0ee3fcaf9453":{"likeCount":0,"isLiked":false},"v2Bd6c97b389495c1a47d25f5fb9195003":{"likeCount":0,"isLiked":false},"v2Dad2cc66477c46b2fa5e810beafcd130":{"likeCount":0,"isLiked":false}}},"interactionBarPlugins":[{"type":"comment","comment":{"enable":true,"placeholder":"发条带图评论"}}],"barPluginsFlipTime":3000}},"columns":{"Oldpan":{"description":"仅仅是一个专栏，分享人工智能相关技术知识、编程技巧以及有趣的消息。每周定期发布1-2篇深度学习方面实践质量文。","canManage":false,"intro":"分享深度学习相关知识，持续酝酿质量文。","isFollowing":false,"urlToken":"Oldpan","id":"Oldpan","articlesCount":61,"acceptSubmission":true,"title":"深度学习那些事","url":"https:\u002F\u002Fzhuanlan.zhihu.com\u002FOldpan","commentPermission":"all","created":1526362907,"updated":1604545738,"imageUrl":"https:\u002F\u002Fpic1.zhimg.com\u002Fv2-23935f88ab1ac088a515b34a94eb3396_720w.jpg?source=172ae18b","author":{"isFollowed":false,"avatarUrlTemplate":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54.jpg?source=172ae18b","uid":"627160086720811008","userType":"people","isFollowing":false,"urlToken":"oldpan","id":"8ebdeeb4739c048be1a978fa0427181a","description":"老潘的博客，程序员眸中的fantasy life，分享AI技术干货，技术宅相关，也聊聊人生“理想”~\n个人主页：https:\u002F\u002Foldpan.me","name":"OLDPAN","isAdvertiser":false,"headline":"","gender":1,"url":"\u002Fpeople\u002F8ebdeeb4739c048be1a978fa0427181a","avatarUrl":"https:\u002F\u002Fpica.zhimg.com\u002F776d42d5e206fa36cd9c68872e0fee54_l.jpg?source=172ae18b","isOrg":false,"type":"people","badgeV2":{"title":"","mergedBadges":[],"detailBadges":[],"icon":"","nightIcon":""}},"followers":852,"type":"column"}},"topics":{},"roundtables":{},"favlists":{},"comments":{},"notifications":{},"ebooks":{},"activities":{},"feeds":{},"pins":{},"promotions":{},"drafts":{},"chats":{},"posts":{},"zvideos":{},"zvideoContributions":{},"eduCourses":{}},"currentUser":"c29982ea4958b35f1d733b99ef5bf579","account":{"unlockTicketStatus":false,"unlockTicket":null,"challenge":[],"errorStatus":false,"message":"","isFetching":false,"accountInfo":{},"urlToken":{"loading":false},"cardUserInfo":{"vipInfo":{}},"handleWidget":{},"widgetList":[],"userWidgetId":""},"settings":{"socialBind":null,"inboxMsg":null,"notification":{},"email":{},"privacyFlag":null,"blockedUsers":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"blockedFollowees":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"ignoredTopics":{"isFetching":false,"paging":{"pageNo":1,"pageSize":6},"data":[]},"restrictedTopics":null,"laboratory":{}},"notification":{},"people":{"profileStatus":{},"activitiesByUser":{},"answersByUser":{},"answersSortByVotesByUser":{},"answersIncludedByUser":{},"votedAnswersByUser":{},"thankedAnswersByUser":{},"voteAnswersByUser":{},"thankAnswersByUser":{},"topicAnswersByUser":{},"zvideosByUser":{},"articlesByUser":{},"articlesSortByVotesByUser":{},"articlesIncludedByUser":{},"pinsByUser":{},"questionsByUser":{},"commercialQuestionsByUser":{},"favlistsByUser":{},"followingByUser":{},"followersByUser":{},"mutualsByUser":{},"followingColumnsByUser":{},"followingQuestionsByUser":{},"followingFavlistsByUser":{},"followingTopicsByUser":{},"publicationsByUser":{},"columnsByUser":{},"allFavlistsByUser":{},"brands":null,"creationsByUser":{},"creationsSortByVotesByUser":{},"creationsFeed":{},"infinity":{},"batchUsers":{},"profileInfinity":null},"env":{"ab":{"config":{},"triggers":{}},"abV2":{"config":{"paramMap":{"ws_qiangzhisafe":{"value":"0"},"ws_video_publish":{"value":"1","abId":"rl-video_contentpub-1"},"ws_publish_ask":{"value":"1","abId":"rl-pc_publish_ask-1"},"ws_platform_new":{"value":"1","abId":"author_platform-1"},"ws_publish_post":{"value":"1","abId":"rl-publish_article-1"},"ws_publish_answer":{"value":"1","abId":"rl-pc_pub_answer_2-1"},"pc_mou_cre_remove":{"value":"1","abId":"rl-mou_create_remove-1"},"ws_PC_AIfaxian":{"value":"0","abId":"PC_AIfaxian-0"}},"abMap":{"rl-video_contentpub-1":{"abId":"rl-video_contentpub-1","layerId":"rl-video_contentpub","diversionType":2},"rl-pc_publish_ask-1":{"abId":"rl-pc_publish_ask-1","layerId":"rl-pc_publish_ask","diversionType":2},"author_platform-1":{"abId":"author_platform-1","layerId":"author_platform_layer","diversionType":2},"rl-publish_article-1":{"abId":"rl-publish_article-1","layerId":"rl-publish_article","diversionType":2},"rl-pc_pub_answer_2-1":{"abId":"rl-pc_pub_answer_2-1","layerId":"rl-pc_pub_answer_2","diversionType":2},"rl-mou_create_remove-1":{"abId":"rl-mou_create_remove-1","layerId":"rl-mou_create_remove","diversionType":2},"PC_AIfaxian-0":{"abId":"PC_AIfaxian-0","layerId":"web_standard_domain_layer17","diversionType":2}}},"triggers":{}},"userAgent":{"Edge":false,"IE":false,"Wechat":false,"Weibo":false,"QQ":false,"MQQBrowser":false,"Qzone":false,"Mobile":false,"Android":false,"HarmonyOS":false,"iOS":false,"isAppleDevice":false,"Zhihu":false,"ZhihuHybrid":false,"isBot":false,"Tablet":false,"UC":false,"Quark":false,"Sogou":false,"Qihoo":false,"Baidu":false,"BaiduApp":false,"Safari":false,"GoogleBot":false,"AndroidDaily":false,"iOSDaily":false,"WxMiniProgram":false,"BaiduMiniProgram":false,"QQMiniProgram":false,"JDMiniProgram":false,"isWebView":false,"isMiniProgram":false,"origin":"Mozilla\u002F5.0 (X11; Linux x86_64) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F114.0.0.0 Safari\u002F537.36"},"appViewConfig":{},"ctx":{"path":"\u002Fp\u002F371239130","query":{},"href":"http:\u002F\u002Fzhuanlan.zhihu.com\u002Fp\u002F371239130","host":"zhuanlan.zhihu.com"},"trafficSource":"production","edition":{"beijing":true,"baidu":false,"sogou":false,"baiduBeijing":false,"sogouBeijing":false,"sogouInput":false,"oppoSearch":false,"baiduSearch":false,"googleSearch":false,"shenma":false,"miniProgram":false,"xiaomi":false,"huaweiSearch":false},"theme":"light","appHeaderTheme":{"current":"normal","disable":true,"normal":{"bgColor":"GBK99A"},"custom":{"bgColor":"GBK99A"}},"enableShortcut":true,"referer":"https:\u002F\u002Fcn.bing.com\u002F","xUDId":"AIAe75fvzhSPTpeNw8WYbUTCwgHWLCTfJt8=","mode":"ssr","conf":{},"xTrafficFreeOrigin":"","ipInfo":{"cityName":"北京","countryName":"中国","regionName":"北京","countryCode":"CN"},"logged":true,"vars":{"passThroughHeaders":{}}},"me":{"columnContributions":[]},"label":{},"ecommerce":{},"comments":{"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"parent":{}},"commentsV2":{"stickers":[],"commentWithPicPermission":{},"notificationsComments":{},"pagination":{},"collapsed":{},"reverse":{},"reviewing":{},"conversation":{},"conversationMore":{},"parent":{}},"pushNotifications":{"default":{"isFetching":false,"isDrained":false,"ids":[]},"follow":{"isFetching":false,"isDrained":false,"ids":[]},"vote_thank":{"isFetching":false,"isDrained":false,"ids":[]},"currentTab":"default","notificationsCount":{"default":0,"follow":0,"vote_thank":0}},"messages":{"data":{},"currentTab":"common","messageCount":0},"register":{"registerValidateSucceeded":null,"registerValidateErrors":{},"registerConfirmError":null,"sendDigitsError":null,"registerConfirmSucceeded":null},"login":{"loginUnregisteredError":false,"loginBindWechatError":false,"loginConfirmError":null,"sendDigitsError":null,"needSMSIdentify":false,"validateDigitsError":false,"loginConfirmSucceeded":null,"qrcodeLoginToken":"","qrcodeLoginScanStatus":0,"qrcodeLoginError":null,"qrcodeLoginReturnNewToken":false},"switches":{},"captcha":{"captchaNeeded":false,"captchaValidated":false},"sms":{"supportedCountries":[]},"chat":{"chats":{},"inbox":{"recents":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"strangers":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"friends":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"search":{"isFetching":false,"isDrained":false,"isPrevDrained":false,"result":[],"next":null,"key":null},"config":{"newCount":0,"strangerMessageSwitch":false,"strangerMessageUnread":false,"friendCount":0}},"global":{"isChatMqttExisted":false}},"emoticons":{"emoticonGroupList":[],"emoticonGroupDetail":{}},"creator":{"tools":{"question":{"invitationCount":{"questionFolloweeCount":0,"questionTotalCount":0}},"recommend":{"recommendTimes":{}}},"explore":{},"levelUpperLimit":10,"mcn":{},"mcnManage":{},"tasks":{},"announcement":{},"creatorsRecommendInfo":{}},"creators":{"common":{"applyStatus":{},"rightsStatus":{}},"bayesDomains":{"status":{},"options":{"topDomains":null,"allDomains":null,"editable":0},"contents":null},"school":{"tabs":[],"contents":[],"banner":null,"entities":{}},"faq":{"tabs":[],"article":{}},"knowledgeIncome":{},"safeguardRights":{},"analytics":{"all":{},"answer":{},"zvideo":{},"article":{},"pin":{},"singleContent":{}},"account":{"growthLevel":{}},"KMResource":{},"training":{},"ToolsQuestion":{"goodatTopics":[]},"ToolsHotspot":{"domains":[]},"ToolsRecommend":{},"ToolsCustomPromotion":{"itemLists":{},"baseInfo":{}},"ToolsSearchQuestion":{},"editorSetting":{},"MCNManage":{},"knowledgeTasks":{},"incomeAnalysis":{"income":{"aggregation":{}}},"creationManage":{"editModal":{"status":false}},"activity":{},"announcement":{},"home":{"currentCreatorUrlToken":null,"rights":[],"newRights":[],"scoreInfo":{},"menusShowControlByServer":{"bVipRecomend":false,"creationRelationship":false},"newTasks":{"creatorTask":{"tasks":[],"des":[]}},"bannerList":[],"recentlyCreated":[],"homecard":{},"homeData":{}},"videoSupport":{"textBenefit":{}},"videoDistribution":{},"profilePoster":{"creatorPosterConfig":{},"creatorPosterData":{}}},"answers":{"voters":{},"upvoters":{},"copyrightApplicants":{},"favlists":{},"newAnswer":{},"entityWords":{},"paidContent":{},"settings":{},"relationEndorsement":{}},"recommendation":{"homeRecommendations":[]},"shareTexts":{},"articles":{"voters":{},"upvoters":{},"relationEndorsement":{}},"previewPost":{},"favlists":{"relations":{}},"columns":{"voters":{}},"reward":{"answer":{},"article":{},"question":{}},"video":{"data":{},"shareVideoDetail":{},"last":{}},"topstory":{"recommend":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"follow":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followWonderful":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"sidebar":null,"announcement":{},"hotList":[],"hotListHeadZone":[],"guestFeeds":{"isFetching":false,"isDrained":false,"afterId":0,"items":[],"next":null},"followExtra":{"isNewUser":null,"isFetched":false,"followCount":0,"followers":[]},"hotDaily":{"data":[],"paging":{}},"hotHighlight":{"isFetching":false,"isDrained":false,"data":[],"paging":{}},"banner":{},"commercialBanner":{"show":false,"banner":{},"trackData":{}},"video":{"items":[],"next":null,"isLoading":false,"isDrained":false}},"readStatus":{},"column":{},"requestColumn":{"categories":[],"error":null},"articleContribution":{"contributeRequests":[],"deleteContributeIdList":[],"handledContributeIdList":[],"recommendedColumns":[],"pinnedColumns":[],"sentContributeRequestsIdList":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"Oldpan"]},"columnContribution":{"contributeRequests":[],"autoInviteEnabled":false,"recommendedContributors":[]},"draftHistory":{"history":{},"drafts":{}},"upload":{},"articleDraft":{"titleImage":"","titleImageSize":{},"isTitleImageFullScreen":false,"canTitleImageFullScreen":false,"title":"","titleImageUploading":false,"error":"","content":"","draftLoading":false,"updating":false,"globalLoading":false,"pendingVideo":{"resource":null,"error":null},"deleteFail":{"fail":false},"recommendTopics":[],"selectedColumn":0,"articleDisclaimers":[]},"articleDrafts":{"isDrained":false,"isLoading":false,"items":[]},"columnAutocomplete":{"users":[],"friends":[]},"columnCollection":{},"userProfit":{"permission":{"permissionStatus":{"zhiZixuan":0,"recommend":-1,"task":0,"plugin":0,"infinity":0},"visible":false},"linkCardLimit":0},"mcn":{"bindInfo":{},"memberCategoryList":[],"producerList":[],"categoryList":[],"lists":{},"banners":{},"protocolStatus":{"isAgreedNew":true,"isAgreedOld":true},"probationCountdownDays":0},"zvideos":{"campaignVideoList":{},"campaigns":{},"tagoreCategory":[],"recommendations":{},"insertable":{},"recruit":{"form":{"platform":"","nickname":"","followerCount":"","domain":"","contact":""},"submited":false,"ranking":[]},"qyActivityData":{},"talkActivityData":{},"party2022ActivityData":{},"batchVideos":{},"contribution":{"selectedContribution":null,"campaign":null,"configs":{},"contributionLists":{},"recommendQuestions":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]},"questionSearchResults":{"isLoading":true,"paging":{"isEnd":false,"isStart":true,"totals":0},"data":[]}},"creationReferences":{},"zvideoCollection":{},"zvideoGrant":{},"collectData":{"isFetching":false,"list":[]},"videoSource":{"isLoaded":false}},"republish":{},"commentPermission":{},"creatorRightStatus":{"list":[]},"adPromotion":{"answer":{},"article":{}}},"fetchHost":"www.zhihu.com","subAppName":"column","spanName":"Post","canaryConfig":{"test_canary":"0","use_new_player":"0","player_vendor":"0","use_hevc":"1","upload_use_signature":"1","use_backdrop_blur":"1","article_title_imagex":"1","play_station":"1","use_cached_supported_countries":"1"}}</script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/vendor.b2043823c211547b094b.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/react.production.min.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/react-dom.production.min.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/react-dom-server.browser.production.min.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/runtime.app.89244ea592dd477cbb35.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-75fc9c18.app.3db651c252e14ef6658e.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-29107295.app.42d07f814b7b05187671.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-79b5cf47.app.8b6b6bf4b6d894db9b07.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-330004dc.app.7437cf54ac28fca0e302.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-f3572862.app.d7ec7e2db90ddb91c8f1.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-0e5ce61e.app.b22b78c2be57c983262f.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-83b0f42f.app.e34e650850a4762e3d73.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-38cf5c11.app.0ef475c02226ac0ff291.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-2ec050f6.app.57e8f4759cf809bee790.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/lib-9b20c40c.app.7c126d28f70d31bca659.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/3555.app.2d202f66e5aa4a56fcb8.js"></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/column.app.30d1bbd25c973f0a663a.js"></script><script defer="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/aria.js" id="ariascripts" wapforceoldfixed="false" loaddata="false"></script><script src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/hm.js" async=""></script><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/zap.js"></script><div><div style="display: none;"><i>想来知乎工作？请发送邮件到 jobs@zhihu.com</i></div></div><script src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/push.js"></script><div><div><div class="css-8pdeid"></div></div></div><script crossorigin="" src="./TensorRT详细入门指北，如果你还不了解TensorRT，过来看看吧！ - 知乎_files/emoticon.js"></script><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div><div class="Popover"><label class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplete7-0" id="Popover6-toggle" aria-haspopup="true" class="Input" placeholder="选择语言" value=""><svg width="24" height="24" viewBox="0 0 24 24" fill="#afbdcf" class="Zi Zi--Select"><path fill-rule="evenodd" d="M12.53 3.47a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 0 0 1.06 1.06L12 5.06l4.47 4.47a.75.75 0 1 0 1.06-1.06l-5-5Zm-5 11a.75.75 0 0 0-1.06 1.06l5 5a.75.75 0 0 0 1.06 0l5-5a.75.75 0 1 0-1.06-1.06L12 18.94l-4.47-4.47Z" clip-rule="evenodd"></path></svg></label></div></div></div></div></div><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div><div class="Popover"><label class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplete9-0" id="Popover8-toggle" aria-haspopup="true" class="Input" placeholder="选择语言" value=""><svg width="24" height="24" viewBox="0 0 24 24" fill="#afbdcf" class="Zi Zi--Select"><path fill-rule="evenodd" d="M12.53 3.47a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 0 0 1.06 1.06L12 5.06l4.47 4.47a.75.75 0 1 0 1.06-1.06l-5-5Zm-5 11a.75.75 0 0 0-1.06 1.06l5 5a.75.75 0 0 0 1.06 0l5-5a.75.75 0 1 0-1.06-1.06L12 18.94l-4.47-4.47Z" clip-rule="evenodd"></path></svg></label></div></div></div></div></div></body></html>