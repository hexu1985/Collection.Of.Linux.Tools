"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3067],{61456:function(e,n,i){var s=i(36690),a=i(97458),c=i(52983),t=i(87608),l=i.n(t),r=i(21618),o=i(68277),d=i(2783),u=i(50264),m=i(53091),v=i(76274),_=i(71090),f="cdc-author-bubble";function h(e){var n,i=e.avatarUrl,c=e.nickname,t=e.uid,r=e.title,d=e.introduce,_=e.validArticleNum,h=e.answerNum,p=e.beConcernUserNum,x=e.isInternal,N=e.isVerified,j=e.emblems,b=(0,m.P)({uid:t}),g=b.submitting,k=b.isFollow,w=b.toggleFollow,Z=(0,v.kP)(),y=(null===Z||void 0===Z?void 0:Z.isLogined)&&(null===Z||void 0===Z||null===(n=Z.userInfo)||void 0===n?void 0:n.uid)===t;return(0,a.jsxs)("div",{className:"".concat(f,"__content"),children:[(0,a.jsxs)("div",{className:l()("".concat(f,"__hd"),{internal:x}),children:[(0,a.jsx)("div",{className:"".concat(f,"__avatar"),children:(0,a.jsx)(o.qE,{size:"xxlarge",shape:"circle",avatar:i,href:"/developer/user/".concat(t)})}),(0,a.jsxs)("div",{className:"".concat(f,"__infos"),children:[(0,a.jsx)("a",{className:"".concat(f,"__name"),href:"/developer/user/".concat(t),target:"_blank",children:c}),(0,a.jsx)("div",{className:"".concat(f,"__position"),children:r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"".concat(f,"__position-text"),children:r}),Boolean(N)&&(0,a.jsx)(o.sc.Item,{icon:"verification",tip:r})]})}),j&&j.list&&j.list.length>0&&(0,a.jsx)("div",{className:"".concat(f,"__emblem"),children:(0,a.jsx)(o.sc,(0,s.Z)({},j))})]}),!y&&(0,a.jsx)("div",{className:"".concat(f,"__btn"),style:{zIndex:1},children:(0,a.jsx)(o.zx,{type:g?"loading":"primary",onClick:w,className:l()({"is-focus":k}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)("i",{className:"icon-add"}),k?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"]})})})]}),(0,a.jsxs)("div",{className:"".concat(f,"__bd"),children:[(0,a.jsx)("div",{className:"".concat(f,"__desc"),children:d}),(0,a.jsxs)("div",{className:"".concat(f,"__list"),children:[(0,a.jsxs)("a",{className:"".concat(f,"__item"),href:"/developer/user/".concat(t,"/articles"),target:"_blank",children:[(0,a.jsx)("span",{className:"".concat(f,"__item-title"),children:"\u6587\u7ae0"}),(0,a.jsx)("span",{className:"".concat(f,"__item-number"),children:(0,u.Z)(_)}),(0,a.jsx)("span",{className:"".concat(f,"__item-split")})]}),(0,a.jsxs)("a",{className:"".concat(f,"__item"),href:"/developer/user/".concat(t,"/questions"),target:"_blank",children:[(0,a.jsx)("span",{className:"".concat(f,"__item-title"),children:"\u56de\u7b54"}),(0,a.jsx)("span",{className:"".concat(f,"__item-number"),children:(0,u.Z)(h)}),(0,a.jsx)("span",{className:"".concat(f,"__item-split")})]}),(0,a.jsxs)("a",{className:"".concat(f,"__item"),href:"/developer/user/".concat(t,"/followers"),target:"_blank",children:[(0,a.jsx)("span",{className:"".concat(f,"__item-title"),children:"\u5173\u6ce8\u8005"}),(0,a.jsx)("span",{className:"".concat(f,"__item-number"),children:(0,u.Z)(p)}),(0,a.jsx)("span",{className:"".concat(f,"__item-split")})]})]})]})]})}n.Z=function(e){var n=e.className,i=e.children,s=e.uid,t=(0,c.useState)(!1),o=t[0],u=t[1],m=(0,d.Z)({uid:o?s:void 0}).data,v=null!==m&&void 0!==m?m:{},p=v.nickname,x=v.avatarUrl,N=v.isProfessionVerified,j=v.isInteriorAuthor,b=v.company,g=v.title,k=v.introduce,w=v.validArticleNum,Z=v.answerNum,y=v.beConcernUserNum,I=v.badges,C=void 0===I?[]:I;return(0,a.jsx)(r.x,{content:m?(0,a.jsx)(h,{uid:s,nickname:p,avatarUrl:x,isVerified:1===N,isInternal:1===j,title:b+g,introduce:k,validArticleNum:w,answerNum:Z,beConcernUserNum:y,emblems:{list:C.filter((function(e){return(4===e.medalId||5===e.medalId)&&2===e.status})).map(_.Z)}}):null,placement:"bottom-start",trigger:"hover",onVisibleChange:function(e){u(e)},className:l()(f,n,"cdc-bubble"),visible:o,children:i})}},98146:function(e,n,i){var s=i(37705),a=i(97458),c=(i(52983),i(87608)),t=i.n(c),l=i(68277),r="cdc-popup";n.Z=function(e){var n=e.className,i=e.visible,c=e.children,o=e.closeable,d=e.type,u=e.onClose,m=e.closeByClickMask,v=void 0===m||m,_=e.zIndex;return i?(0,a.jsx)(l.h_,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"cdc-mask",style:{display:"block",zIndex:_},onClick:v?u:void 0}),(0,a.jsx)("div",{className:t()(r,(0,s.Z)({},"".concat(r,"--").concat(d),!!d),n),style:{zIndex:_},children:(0,a.jsxs)("div",{className:"".concat(r,"__inner"),children:[c,o&&(0,a.jsx)("i",{className:"".concat(r,"__close"),onClick:function(){null===u||void 0===u||u()}})]})})]})}):null}},86022:function(e,n,i){var s=i(52983);n.Z=function(e){var n=(0,s.useState)({x:0,y:0}),i=n[0],a=n[1],c=(0,s.useCallback)((function(){var n,i=null!==(n=document.scrollingElement)&&void 0!==n?n:{},s=i.scrollTop,c=void 0===s?0:s,t=i.scrollLeft,l=void 0===t?0:t;null===e||void 0===e||e({x:l,y:c}),a({x:l,y:c})}),[a,e]);return(0,s.useEffect)((function(){return c(),window.addEventListener("scroll",c,{passive:!0}),function(){window.removeEventListener("scroll",c)}}),[c]),i}},2783:function(e,n,i){var s=i(53179),a=i(20433);n.Z=function(e){var n=e.uid,i=e.isInterior,c=void 0===i?1:i,t=e.needFollow,l=void 0===t?1:t,r=e.needMedal,o=void 0===r?1:r,d=e.needRank,u=void 0===d?1:d;return(0,a.ZP)(n?{url:"/api/user/detail",params:{uid:n,isInterior:c,needFollow:l,needMedal:o,needRank:u}}:null,(function(e){return(0,s.nE)(e.params)}))}},53091:function(e,n,i){i.d(n,{P:function(){return u}});var s=i(60947),a=i(88802),c=i(76274),t=i(77943),l=i(52983),r=i(53179),o=i(32669),d=i(68277),u=function(e){var n=e.uid,i=(0,l.useState)(!1),u=i[0],m=i[1],v=(0,o.Z)(),_=v.data,f=void 0===_?[]:_,h=v.mutate,p=f.includes(n),x=(0,c.kP)(),N=function(){var e=(0,s.Z)((function(){var e,i;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,,2,3]),(null===x||void 0===x?void 0:x.isLogined)?u?[2]:(m(!0),e={},[4,(0,r.P_)((e.followedUid=n,e.action=p?2:1,e))]):(t.x.show(),[2,Promise.reject("\u8bf7\u5148\u767b\u5f55")]);case 1:return s.sent(),h(),i={},d.N3.show((i.type="success",i.tip=p?"\u5df2\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8\u6210\u529f",i)),[3,3];case 2:return m(!1),[7];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return{submitting:u,isFollow:p,toggleFollow:N}}},32669:function(e,n,i){i.d(n,{Z:function(){return t}});var s=i(76274),a=i(53179),c=i(20433),t=function(){var e=(0,s.kP)();return(0,c.ZP)((function(){var n;return(null===e||void 0===e?void 0:e.isLogined)?["/api/user/follow-user-list",null===(n=e.userInfo)||void 0===n?void 0:n.uid]:null}),a.sY)}},50264:function(e,n,i){function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if("number"!==typeof(e=Number(e))||e!==e)return"0";n=Math.pow(10,n);for(var i=["K","M","B","T"],s=i.length-1;s>=0;s-=1){var a=Math.pow(10,3*(s+1));if(a<=e){1e3==(e=Math.round(e*n/a)/n)&&s<i.length-1&&(e=1,s++),e="".concat(e).concat(i[s]);break}}return String(e)}i.d(n,{Z:function(){return s}})},71090:function(e,n){n.Z=function(e){if(4===e.medalId)switch(e.level){case 3:return{icon:"medal-gold",tip:"\u300a\u6280\u601d\u5e7f\u76ca \xb7 \u817e\u8baf\u6280\u672f\u4eba\u539f\u521b\u96c6\u300b\u7279\u7ea6\u4f5c\u8005"};case 2:return{icon:"medal-silver",tip:"\u300a\u6280\u601d\u5e7f\u76ca \xb7 \u817e\u8baf\u6280\u672f\u4eba\u539f\u521b\u96c6\u300b\u8d44\u6df1\u4f5c\u8005"};case 1:return{icon:"medal-bronze",tip:"\u300a\u6280\u601d\u5e7f\u76ca \xb7 \u817e\u8baf\u6280\u672f\u4eba\u539f\u521b\u96c6\u300b\u7b7e\u7ea6\u4f5c\u8005"}}if(5===e.medalId)return{icon:"tvp"}}}}]);